const a0_0x912aef=a0_0x130c;(function(_0x3b2ae1,_0x994be9){const _0x44b27b=a0_0x130c,_0x1eec1b=_0x3b2ae1();while(!![]){try{const _0x360f12=-parseInt(_0x44b27b(0x149))/0x1+parseInt(_0x44b27b(0x130))/0x2*(parseInt(_0x44b27b(0x163))/0x3)+-parseInt(_0x44b27b(0x165))/0x4*(-parseInt(_0x44b27b(0x128))/0x5)+parseInt(_0x44b27b(0x144))/0x6*(parseInt(_0x44b27b(0x16f))/0x7)+-parseInt(_0x44b27b(0x146))/0x8*(-parseInt(_0x44b27b(0x122))/0x9)+parseInt(_0x44b27b(0x11f))/0xa*(-parseInt(_0x44b27b(0x135))/0xb)+-parseInt(_0x44b27b(0x166))/0xc*(parseInt(_0x44b27b(0x134))/0xd);if(_0x360f12===_0x994be9)break;else _0x1eec1b['push'](_0x1eec1b['shift']());}catch(_0x21347a){_0x1eec1b['push'](_0x1eec1b['shift']());}}}(a0_0x4098,0xf1e96));import{db}from'./submissionService.js';function a0_0x130c(_0x582257,_0xebeab6){const _0x4098a0=a0_0x4098();return a0_0x130c=function(_0x130ce5,_0x1189b2){_0x130ce5=_0x130ce5-0x107;let _0x9b0213=_0x4098a0[_0x130ce5];return _0x9b0213;},a0_0x130c(_0x582257,_0xebeab6);}import{auth}from'./auth.js';const zybookEdition='https://learn.zybooks.com/zybook/DEANZACIS22BHalabeWinter2026',zybookProjects={0x0:{'chapter':0xb,'section':0x1,'labId':0x7e67fdf},0x1:{'chapter':0xb,'section':0x2,'labId':0x7e67f8e},0x2:{'chapter':0xb,'section':0x3,'labId':0x7e67f8f},0x3:{'chapter':0xb,'section':0x4,'labId':0x7e67f90},0x4:{'chapter':0xb,'section':0x5,'labId':0x7e67f91}};class AdmninUI{constructor(){const _0x5427bb=a0_0x130c;this['_allSubmissions']=null,document[_0x5427bb(0x10c)](_0x5427bb(0x159))[_0x5427bb(0x10a)]('change',()=>this['renderAdminTable']()),document[_0x5427bb(0x10c)](_0x5427bb(0x169))[_0x5427bb(0x10a)](_0x5427bb(0x157),()=>this['renderAdminTable']()),document[_0x5427bb(0x10c)]('hide-completed')[_0x5427bb(0x10a)](_0x5427bb(0x16c),()=>this[_0x5427bb(0x12a)]()),document[_0x5427bb(0x10c)](_0x5427bb(0x109))[_0x5427bb(0x10a)](_0x5427bb(0x13a),()=>{const _0x531132=_0x5427bb;document['getElementById'](_0x531132(0x159))['value']=_0x531132(0x154),document[_0x531132(0x10c)]('student-filter')[_0x531132(0x12b)]='',document[_0x531132(0x10c)]('hide-completed')[_0x531132(0x13c)]=![],this[_0x531132(0x12a)]();}),document['getElementById'](_0x5427bb(0x11c))[_0x5427bb(0x10a)]('click',()=>{const _0x7c0795=_0x5427bb;window[_0x7c0795(0x173)][_0x7c0795(0x168)]=_0x7c0795(0x162);});}async[a0_0x912aef(0x133)](){const _0x562898=a0_0x912aef;if(this['_allSubmissions']===null){const _0x5d6ed9=document[_0x562898(0x10c)]('loading-overlay');_0x5d6ed9[_0x562898(0x142)]=![],this[_0x562898(0x161)]=await db[_0x562898(0x140)](),_0x5d6ed9[_0x562898(0x142)]=!![];}let _0x3a859a=this[_0x562898(0x161)];const _0x5a2741=document[_0x562898(0x10c)](_0x562898(0x159))?.['value']??_0x562898(0x154),_0x374366=document[_0x562898(0x10c)](_0x562898(0x169))?.[_0x562898(0x12b)]['toLowerCase']()[_0x562898(0x123)]()??'';_0x5a2741!==_0x562898(0x154)&&(_0x3a859a=_0x3a859a['filter'](_0x474cac=>String(_0x474cac[_0x562898(0x171)])===_0x5a2741));_0x374366&&(_0x3a859a=_0x3a859a[_0x562898(0x120)](_0x229c3b=>_0x229c3b[_0x562898(0x115)][_0x562898(0x160)]()['includes'](_0x374366)||String(_0x229c3b[_0x562898(0x107)])[_0x562898(0x111)](_0x374366)));const _0x227a59=document[_0x562898(0x10c)](_0x562898(0x11a))['checked'];_0x227a59&&(_0x3a859a=_0x3a859a['filter'](_0x270e8e=>!_0x270e8e[_0x562898(0x147)]));const _0x325734=(_0x972ad='')=>{const _0x34c1d2=_0x562898,_0x4f8b28=_0x972ad[_0x34c1d2(0x123)]()['split'](/\s+/);return _0x4f8b28['at'](-0x1)??'';};return _0x3a859a=[..._0x3a859a][_0x562898(0x12c)]((_0x56891c,_0x44f1bc)=>{const _0x55b9c0=_0x562898,_0xe5bad4=Number(_0x56891c['projectNumber']),_0x135560=Number(_0x44f1bc['projectNumber']);if(_0xe5bad4!==_0x135560)return _0xe5bad4-_0x135560;return _0x325734(_0x56891c[_0x55b9c0(0x115)])[_0x55b9c0(0x14d)](_0x325734(_0x44f1bc[_0x55b9c0(0x115)]));}),_0x3a859a;}async[a0_0x912aef(0x12a)](){const _0x53091d=a0_0x912aef,_0x524ffe=document[_0x53091d(0x10c)]('admin-table-body');_0x524ffe['innerHTML']='';const _0x4939ff=await auth[_0x53091d(0x153)]('admin');if(!_0x4939ff)return;const _0x56d8ee=document['getElementById'](_0x53091d(0x14f)),_0xc99868=document[_0x53091d(0x10c)](_0x53091d(0x132)),_0xe1e59a=await this['filteredSubmissions']();_0xe1e59a[_0x53091d(0x151)]((_0x2c1ed4,_0x4fffac)=>{const _0x127130=_0x53091d,_0x27fe51=_0x127130(0x16e)+_0x4fffac,_0x4f8de5=_0x56d8ee[_0x127130(0x15c)]['cloneNode'](!![]),_0x1c5481=_0x4f8de5[_0x127130(0x137)]('tr'),_0x4140f9=_0x1c5481['querySelector'](_0x127130(0x12e)),_0x1e3890=_0x4140f9[_0x127130(0x137)]('span'),_0xb7bdf=_0x1c5481[_0x127130(0x137)](_0x127130(0x112));_0xb7bdf['dataset'][_0x127130(0x15b)]=_0x2c1ed4[_0x127130(0x155)],_0xb7bdf[_0x127130(0x13c)]=_0x2c1ed4['graded'],_0x1c5481[_0x127130(0x137)]('.project-number')['textContent']=_0x2c1ed4[_0x127130(0x171)],_0x1c5481['querySelector'](_0x127130(0x15d))['textContent']=_0x2c1ed4[_0x127130(0x115)],_0x1c5481[_0x127130(0x137)](_0x127130(0x13b))['textContent']=_0x2c1ed4[_0x127130(0x107)];const _0x1e0510=_0x1c5481[_0x127130(0x137)](_0x127130(0x16d));_0x1e0510['dataset']['id']=_0x2c1ed4['$id'],_0x1e0510[_0x127130(0x121)][_0x127130(0x158)]=_0x2c1ed4['canvasName'],_0x1e0510[_0x127130(0x121)][_0x127130(0x119)]=_0x2c1ed4[_0x127130(0x171)],_0x1c5481[_0x127130(0x137)](_0x127130(0x14b))[_0x127130(0x10a)]('click',_0x40c8e2=>{const _0x294f64=_0x127130;_0x40c8e2[_0x294f64(0x13e)](),this[_0x294f64(0x14c)](_0x2c1ed4);});const _0x8fb6a1=_0xc99868[_0x127130(0x15c)][_0x127130(0x15e)](!![]),_0x477dda=_0x8fb6a1['querySelector']('tr');_0x477dda['id']=_0x27fe51;const _0x32facf=_0x477dda[_0x127130(0x137)]('.fixes-container');this[_0x127130(0x12f)](_0x2c1ed4[_0x127130(0x167)]||[],_0x32facf),_0x4140f9[_0x127130(0x10a)](_0x127130(0x13a),_0x3cd65f=>{const _0x1f4249=_0x127130;_0x3cd65f[_0x1f4249(0x13e)]();const _0x306a55=!_0x477dda[_0x1f4249(0x142)];_0x477dda['hidden']=_0x306a55,_0x1e3890['setAttribute'](_0x1f4249(0x124),_0x306a55?_0x1f4249(0x136):_0x1f4249(0x13f));}),_0xb7bdf['addEventListener']('change',async _0x1d3082=>{const _0x3c6283=_0x127130,_0x57ebca=_0xb7bdf[_0x3c6283(0x121)][_0x3c6283(0x15b)];await db[_0x3c6283(0x108)](_0x57ebca,_0xb7bdf['checked']);const _0x4bcdc6=this[_0x3c6283(0x161)]?.[_0x3c6283(0x139)](_0x1dd54a=>_0x1dd54a[_0x3c6283(0x155)]===_0x57ebca);if(_0x4bcdc6)_0x4bcdc6[_0x3c6283(0x147)]=_0xb7bdf[_0x3c6283(0x13c)];this['renderAdminTable']();}),_0x1e0510['addEventListener']('click',async _0x418dc9=>{const _0x4342f6=_0x127130;_0x418dc9['preventDefault']();const _0x5d2857=await this[_0x4342f6(0x164)](_0x2c1ed4[_0x4342f6(0x155)],_0x2c1ed4);_0x5d2857&&(await db[_0x4342f6(0x113)](_0x2c1ed4[_0x4342f6(0x155)]),this['_allSubmissions']=this[_0x4342f6(0x161)]['filter'](_0x2c3872=>_0x2c3872['$id']!==_0x2c1ed4['$id']),this[_0x4342f6(0x12a)]());}),_0x524ffe[_0x127130(0x114)](_0x1c5481),_0x524ffe['appendChild'](_0x477dda);});}[a0_0x912aef(0x12f)](_0x4d5ac2,_0x51f782){const _0x462364=a0_0x912aef;_0x51f782[_0x462364(0x145)]='';if(!_0x4d5ac2['length']){_0x51f782[_0x462364(0x145)]='<em>No\x20fixes</em>';return;}const _0x514126=document[_0x462364(0x10c)](_0x462364(0x15f)),_0x12d9da={};for(const _0x453490 of _0x4d5ac2){(_0x12d9da[_0x453490[_0x462364(0x10f)]]??=[])['push'](_0x453490);}for(const [_0x18f362,_0x1a1d5c]of Object[_0x462364(0x117)](_0x12d9da)){const _0xb76317=_0x514126[_0x462364(0x15c)]['cloneNode'](!![]);_0xb76317[_0x462364(0x137)](_0x462364(0x129))[_0x462364(0x118)]=_0x18f362;const _0x28bf89=_0xb76317[_0x462364(0x137)]('ul');_0x1a1d5c[_0x462364(0x151)](_0x19381e=>{const _0x554abc=_0x462364,_0x441899=document['createElement']('li');_0x441899['classList']['add'](_0x554abc(0x127)),_0x19381e['eligiblePoints']===0x0&&_0x441899['classList'][_0x554abc(0x11e)](_0x554abc(0x16b)),_0x441899[_0x554abc(0x118)]=_0x554abc(0x148)+_0x19381e[_0x554abc(0x15a)]+_0x554abc(0x14e)+_0x19381e[_0x554abc(0x138)]+_0x554abc(0x141)+_0x19381e['eligiblePoints'],_0x28bf89[_0x554abc(0x114)](_0x441899);}),_0x51f782[_0x462364(0x114)](_0xb76317);}}async[a0_0x912aef(0x164)](_0x45ac9c,_0x37ccee){const _0x52b790=a0_0x912aef,_0x39982c=_0x52b790(0x125)+_0x37ccee[_0x52b790(0x171)]+_0x52b790(0x156)+_0x37ccee[_0x52b790(0x115)]+'?';return new Promise(_0xd03177=>{const _0x478cc9=_0x52b790;UIkit[_0x478cc9(0x10e)][_0x478cc9(0x10b)](_0x39982c)[_0x478cc9(0x11b)](()=>_0xd03177(!![]),()=>_0xd03177(![]));});}async[a0_0x912aef(0x14c)](_0x495e62){const _0x337c99=a0_0x912aef;if(!_0x495e62[_0x337c99(0x11d)]){const _0x939eba=await db['zybookStudent'](_0x495e62['studentID']);if(_0x939eba){const {chapter:_0x4b8f52,section:_0x3824cb,labId:_0xd00d6e}=zybookProjects[_0x495e62[_0x337c99(0x171)]],_0x1684bd=encodeURIComponent(_0x495e62[_0x337c99(0x115)]),_0x1ac253=zybookEdition+'/chapter/'+_0x4b8f52+'/section/'+_0x3824cb+_0x337c99(0x14a)+_0xd00d6e+_0x337c99(0x116)+_0x1684bd+'&user_id='+_0x939eba[_0x337c99(0x131)];_0x495e62['projectUrl']=_0x1ac253;}else UIkit[_0x337c99(0x10e)][_0x337c99(0x150)](_0x337c99(0x10d)+_0x495e62[_0x337c99(0x115)]+_0x337c99(0x172)+_0x495e62[_0x337c99(0x107)]);}_0x495e62[_0x337c99(0x11d)]&&window['open'](_0x495e62[_0x337c99(0x11d)],_0x337c99(0x12d),_0x337c99(0x13d));}}function a0_0x4098(){const _0x4fed3c=['toLowerCase','_allSubmissions','index.html','197046bdgwQG','confirmDelete','12152fyMdEH','20376vQfsHW','fixes','href','student-filter','title','uk-text-muted','change','.delete-submission','sub-details-','56cWvTxL','style','projectNumber',',\x20id\x20','location','admin','studentID','updateSubmissionGraded','clear-filters','addEventListener','confirm','getElementById','zyBook\x20student\x20not\x20found:\x20','modal','fileName','visible','includes','.submission-checkbox','deleteSubmission','appendChild','canvasName','?activity_user_name=','entries','textContent','projnumber','hide-completed','then','student-btn','projectUrl','add','1684560vKpAxb','filter','dataset','9ZnSeey','trim','uk-icon','Delete\x20Project\x20','visibility','uk-margin-left','1405kokzBD','.file-name','renderAdminTable','value','sort','_blank','.toggle-details','renderFixesGroupedByFile','52OSdSEC','zybookId','submission-details-template','filteredSubmissions','7514uXdomu','77jYKGRX','chevron-right','querySelector','deduction','find','click','.student-id','checked','noopener,noreferrer','preventDefault','chevron-down','listSubmissions',',\x20eligible\x20','hidden','<p>401\x20Unauthorized</p>','1404660JJqITc','innerHTML','5561512GqFLDR','graded','line\x20','1977973NuKCNb','/advanced-zylab/','.project-link','onProjectLinkSelect','localeCompare',',\x20deduction\x20','submission-row-template','alert','forEach','documentElement','userHasTeam','all','$id','\x20submission\x20from\x20','input','name','project-filter','lineNumber','submissionId','content','.canvas-name','cloneNode','fix-file-template'];a0_0x4098=function(){return _0x4fed3c;};return a0_0x4098();}const adminUI=new AdmninUI();((async()=>{const _0x1984c2=a0_0x912aef,_0x6bbe08=await auth[_0x1984c2(0x153)](_0x1984c2(0x174));if(!_0x6bbe08){document[_0x1984c2(0x152)][_0x1984c2(0x145)]=_0x1984c2(0x143),document[_0x1984c2(0x16a)]='Unauthorized';return;}document[_0x1984c2(0x152)][_0x1984c2(0x170)][_0x1984c2(0x126)]=_0x1984c2(0x110),adminUI[_0x1984c2(0x12a)]();})());