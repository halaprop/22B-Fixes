const a0_0x57e2d2=a0_0x3166;function a0_0x3166(_0x24655a,_0x312f19){const _0x901ed4=a0_0x901e();return a0_0x3166=function(_0x316619,_0x438c24){_0x316619=_0x316619-0x169;let _0x506552=_0x901ed4[_0x316619];return _0x506552;},a0_0x3166(_0x24655a,_0x312f19);}(function(_0x58c477,_0x171ae1){const _0x2ea5d1=a0_0x3166,_0x3fcf43=_0x58c477();while(!![]){try{const _0xb190e5=parseInt(_0x2ea5d1(0x17e))/0x1+-parseInt(_0x2ea5d1(0x180))/0x2*(parseInt(_0x2ea5d1(0x172))/0x3)+-parseInt(_0x2ea5d1(0x199))/0x4*(parseInt(_0x2ea5d1(0x187))/0x5)+parseInt(_0x2ea5d1(0x193))/0x6*(parseInt(_0x2ea5d1(0x1c9))/0x7)+parseInt(_0x2ea5d1(0x17f))/0x8+parseInt(_0x2ea5d1(0x1af))/0x9+parseInt(_0x2ea5d1(0x1ab))/0xa*(-parseInt(_0x2ea5d1(0x1a6))/0xb);if(_0xb190e5===_0x171ae1)break;else _0x3fcf43['push'](_0x3fcf43['shift']());}catch(_0x56c4d2){_0x3fcf43['push'](_0x3fcf43['shift']());}}}(a0_0x901e,0x7e187));import{db}from'./submissionService.js';import{auth}from'./auth.js';function a0_0x901e(){const _0x4b8d53=['renderFixesGroupedByFile','project-filter','1981960qQMcfD','projectNumber','dataset','classList',',\x20eligible\x20','https://learn.zybooks.com/zybook/DEANZACIS22BHalabeFall2025','<em>No\x20fixes</em>','listSubmissions','length','lineNumber','v&user_id=','projectUrl','$id','25146tECvZr','uk-icon','noopener,noreferrer','submissionId','value','560JZjDSq','zybookStudent','entries','click','3828141qQxROI','Delete\x20Project\x20',',\x20deduction\x20','?activity_user_name=','then','appendChild','zybookId','fileName','content','eligiblePoints','.submission-checkbox','student-btn','forEach','admin','innerHTML','.file-name','clear-filters','name','chevron-right','trim','student-filter','/section/','cloneNode','push','.student-id','line\x20','2294761aTkrBb','modal','studentID','documentElement','visible','sort','zyBook\x20student\x20not\x20found:\x20','.project-number','toLowerCase','userHasTeam','getElementById','updateSubmissionGraded','filteredSubmissions','fix-file-template','alert','confirmDelete','.canvas-name','input','addEventListener','graded','_allSubmissions','fixes','href','confirm','3RxHfVN','deduction','uk-margin-left','.project-link','onProjectLinkSelect','admin-table-body','add','checked','/advanced-zylab/','filter','index.html','submission-row-template','584551YLleaS','3143464kiAnkS','190346qrGYoN',',\x20id\x20','title','sub-details-','localeCompare','split','all','10DdsIIC','\x20submission\x20from\x20','textContent','location','querySelector','chevron-down','canvasName','uk-text-muted','/chapter/','renderAdminTable','hidden','preventDefault','6HbaedN','change','style','includes'];a0_0x901e=function(){return _0x4b8d53;};return a0_0x901e();}const zybookEdition=a0_0x57e2d2(0x19e),zybookProjects={0x0:{'chapter':0xb,'section':0x1,'labId':0x7b99362},0x1:{'chapter':0xb,'section':0x2,'labId':0x76e5b2d},0x2:{'chapter':0xb,'section':0x3,'labId':0x76e5b2e},0x3:{'chapter':0xb,'section':0x4,'labId':0x76e5b2f},0x4:{'chapter':0xb,'section':0x5,'labId':0x76e5b30}};class AdmninUI{constructor(){const _0x4d0716=a0_0x57e2d2;this[_0x4d0716(0x16e)]=null,document[_0x4d0716(0x1d3)](_0x4d0716(0x198))[_0x4d0716(0x16c)](_0x4d0716(0x194),()=>this['renderAdminTable']()),document['getElementById'](_0x4d0716(0x1c3))[_0x4d0716(0x16c)](_0x4d0716(0x16b),()=>this[_0x4d0716(0x190)]()),document[_0x4d0716(0x1d3)](_0x4d0716(0x1bf))[_0x4d0716(0x16c)]('click',()=>{const _0x55c2b8=_0x4d0716;document[_0x55c2b8(0x1d3)]('project-filter')[_0x55c2b8(0x1aa)]=_0x55c2b8(0x186),document[_0x55c2b8(0x1d3)]('student-filter')[_0x55c2b8(0x1aa)]='',this[_0x55c2b8(0x190)]();}),document['getElementById'](_0x4d0716(0x1ba))[_0x4d0716(0x16c)](_0x4d0716(0x1ae),()=>{const _0x48f300=_0x4d0716;window[_0x48f300(0x18a)][_0x48f300(0x170)]=_0x48f300(0x17c);});}async[a0_0x57e2d2(0x1d5)](){const _0x5f1b23=a0_0x57e2d2;this['_allSubmissions']===null&&(this[_0x5f1b23(0x16e)]=await db[_0x5f1b23(0x1a0)]());let _0x31f6ad=this[_0x5f1b23(0x16e)];const _0x7229b1=document[_0x5f1b23(0x1d3)](_0x5f1b23(0x198))?.[_0x5f1b23(0x1aa)]??_0x5f1b23(0x186),_0x1f4be1=document[_0x5f1b23(0x1d3)](_0x5f1b23(0x1c3))?.['value']['toLowerCase']()[_0x5f1b23(0x1c2)]()??'';_0x7229b1!==_0x5f1b23(0x186)&&(_0x31f6ad=_0x31f6ad[_0x5f1b23(0x17b)](_0x26e3b6=>String(_0x26e3b6['projectNumber'])===_0x7229b1));_0x1f4be1&&(_0x31f6ad=_0x31f6ad['filter'](_0x33807c=>_0x33807c[_0x5f1b23(0x18d)][_0x5f1b23(0x1d1)]()[_0x5f1b23(0x196)](_0x1f4be1)||String(_0x33807c[_0x5f1b23(0x1cb)])['includes'](_0x1f4be1)));const _0x1ad279=(_0x34d68c='')=>{const _0x21d918=_0x5f1b23,_0x353615=_0x34d68c[_0x21d918(0x1c2)]()[_0x21d918(0x185)](/\s+/);return _0x353615['at'](-0x1)??'';};return _0x31f6ad=[..._0x31f6ad][_0x5f1b23(0x1ce)]((_0x2befdc,_0x246964)=>{const _0x14214a=_0x5f1b23,_0x368559=Number(_0x2befdc[_0x14214a(0x19a)]),_0x472ae1=Number(_0x246964[_0x14214a(0x19a)]);if(_0x368559!==_0x472ae1)return _0x368559-_0x472ae1;return _0x1ad279(_0x2befdc['canvasName'])[_0x14214a(0x184)](_0x1ad279(_0x246964['canvasName']));}),_0x31f6ad;}async[a0_0x57e2d2(0x190)](){const _0x52b6b1=a0_0x57e2d2,_0x3008ed=document[_0x52b6b1(0x1d3)](_0x52b6b1(0x177));_0x3008ed['innerHTML']='';const _0x2465b3=await auth[_0x52b6b1(0x1d2)](_0x52b6b1(0x1bc));if(!_0x2465b3)return;const _0x38da53=document['getElementById'](_0x52b6b1(0x17d)),_0xcc8042=document[_0x52b6b1(0x1d3)]('submission-details-template'),_0x96474b=await this[_0x52b6b1(0x1d5)]();_0x96474b['forEach']((_0x3ac0ee,_0x324055)=>{const _0x3c1ae9=_0x52b6b1,_0x2fb52b=_0x3c1ae9(0x183)+_0x324055,_0x1ae919=_0x38da53[_0x3c1ae9(0x1b7)]['cloneNode'](!![]),_0x5a5bdd=_0x1ae919['querySelector']('tr'),_0x207e3b=_0x5a5bdd[_0x3c1ae9(0x18b)]('.toggle-details'),_0x2153b1=_0x207e3b[_0x3c1ae9(0x18b)]('span'),_0x396602=_0x5a5bdd[_0x3c1ae9(0x18b)](_0x3c1ae9(0x1b9));_0x396602[_0x3c1ae9(0x19b)][_0x3c1ae9(0x1a9)]=_0x3ac0ee[_0x3c1ae9(0x1a5)],_0x396602[_0x3c1ae9(0x179)]=_0x3ac0ee[_0x3c1ae9(0x16d)],_0x5a5bdd['querySelector'](_0x3c1ae9(0x1d0))[_0x3c1ae9(0x189)]=_0x3ac0ee['projectNumber'],_0x5a5bdd[_0x3c1ae9(0x18b)](_0x3c1ae9(0x16a))[_0x3c1ae9(0x189)]=_0x3ac0ee[_0x3c1ae9(0x18d)],_0x5a5bdd[_0x3c1ae9(0x18b)](_0x3c1ae9(0x1c7))[_0x3c1ae9(0x189)]=_0x3ac0ee[_0x3c1ae9(0x1cb)];const _0x2e154d=_0x5a5bdd[_0x3c1ae9(0x18b)]('.delete-submission');_0x2e154d[_0x3c1ae9(0x19b)]['id']=_0x3ac0ee[_0x3c1ae9(0x1a5)],_0x2e154d[_0x3c1ae9(0x19b)][_0x3c1ae9(0x1c0)]=_0x3ac0ee[_0x3c1ae9(0x18d)],_0x2e154d[_0x3c1ae9(0x19b)]['projnumber']=_0x3ac0ee[_0x3c1ae9(0x19a)],_0x5a5bdd['querySelector'](_0x3c1ae9(0x175))[_0x3c1ae9(0x16c)]('click',_0xb2452a=>{const _0x16a996=_0x3c1ae9;_0xb2452a[_0x16a996(0x192)](),this[_0x16a996(0x176)](_0x3ac0ee);});const _0x11feb1=_0xcc8042[_0x3c1ae9(0x1b7)][_0x3c1ae9(0x1c5)](!![]),_0x1ccd2c=_0x11feb1['querySelector']('tr');_0x1ccd2c['id']=_0x2fb52b;const _0xf56500=_0x1ccd2c[_0x3c1ae9(0x18b)]('.fixes-container');this[_0x3c1ae9(0x197)](_0x3ac0ee[_0x3c1ae9(0x16f)]||[],_0xf56500),_0x207e3b[_0x3c1ae9(0x16c)](_0x3c1ae9(0x1ae),_0x1e03a9=>{const _0x31b9a9=_0x3c1ae9;_0x1e03a9['preventDefault']();const _0x3a1790=!_0x1ccd2c[_0x31b9a9(0x191)];_0x1ccd2c[_0x31b9a9(0x191)]=_0x3a1790,_0x2153b1['setAttribute'](_0x31b9a9(0x1a7),_0x3a1790?_0x31b9a9(0x1c1):_0x31b9a9(0x18c));}),_0x396602[_0x3c1ae9(0x16c)](_0x3c1ae9(0x194),async()=>{const _0x25c23d=_0x3c1ae9,_0x5da2a5=_0x396602[_0x25c23d(0x19b)][_0x25c23d(0x1a9)];console['log'](_0x5da2a5,_0x396602['checked']),db[_0x25c23d(0x1d4)](_0x5da2a5,_0x396602['checked']);}),_0x2e154d[_0x3c1ae9(0x16c)](_0x3c1ae9(0x1ae),async _0x4083d3=>{const _0xd46860=_0x3c1ae9;_0x4083d3[_0xd46860(0x192)]();const _0x3f8251=await this[_0xd46860(0x169)](_0x3ac0ee[_0xd46860(0x1a5)],_0x3ac0ee);_0x3f8251&&(await db['deleteSubmission'](_0x3ac0ee[_0xd46860(0x1a5)]),this['renderAdminTable']());}),_0x3008ed['appendChild'](_0x5a5bdd),_0x3008ed[_0x3c1ae9(0x1b4)](_0x1ccd2c);});}[a0_0x57e2d2(0x197)](_0x4984e1,_0xae9a1){const _0x571e3a=a0_0x57e2d2;_0xae9a1[_0x571e3a(0x1bd)]='';if(!_0x4984e1[_0x571e3a(0x1a1)]){_0xae9a1[_0x571e3a(0x1bd)]=_0x571e3a(0x19f);return;}const _0x6900dd=document['getElementById'](_0x571e3a(0x1d6)),_0x4b12cd={};for(const _0x589c78 of _0x4984e1){(_0x4b12cd[_0x589c78[_0x571e3a(0x1b6)]]??=[])[_0x571e3a(0x1c6)](_0x589c78);}for(const [_0x19ce11,_0x5e73af]of Object[_0x571e3a(0x1ad)](_0x4b12cd)){const _0x4203d9=_0x6900dd[_0x571e3a(0x1b7)][_0x571e3a(0x1c5)](!![]);_0x4203d9[_0x571e3a(0x18b)](_0x571e3a(0x1be))[_0x571e3a(0x189)]=_0x19ce11;const _0x1147b7=_0x4203d9[_0x571e3a(0x18b)]('ul');_0x5e73af[_0x571e3a(0x1bb)](_0x5d88ef=>{const _0x5bc1ed=_0x571e3a,_0x1ad8bb=document['createElement']('li');_0x1ad8bb['classList'][_0x5bc1ed(0x178)](_0x5bc1ed(0x174)),_0x5d88ef[_0x5bc1ed(0x1b8)]===0x0&&_0x1ad8bb[_0x5bc1ed(0x19c)][_0x5bc1ed(0x178)](_0x5bc1ed(0x18e)),_0x1ad8bb[_0x5bc1ed(0x189)]=_0x5bc1ed(0x1c8)+_0x5d88ef[_0x5bc1ed(0x1a2)]+_0x5bc1ed(0x1b1)+_0x5d88ef[_0x5bc1ed(0x173)]+_0x5bc1ed(0x19d)+_0x5d88ef[_0x5bc1ed(0x1b8)],_0x1147b7[_0x5bc1ed(0x1b4)](_0x1ad8bb);}),_0xae9a1['appendChild'](_0x4203d9);}}async[a0_0x57e2d2(0x169)](_0x3e554e,_0x91ea47){const _0x2ad7dd=a0_0x57e2d2,_0xe69b31=_0x2ad7dd(0x1b0)+_0x91ea47['projectNumber']+_0x2ad7dd(0x188)+_0x91ea47['canvasName']+'?';return new Promise(_0x4dba95=>{const _0x25ee5d=_0x2ad7dd;UIkit[_0x25ee5d(0x1ca)][_0x25ee5d(0x171)](_0xe69b31)[_0x25ee5d(0x1b3)](()=>_0x4dba95(!![]),()=>_0x4dba95(![]));});}async[a0_0x57e2d2(0x176)](_0x15eb21){const _0x257184=a0_0x57e2d2;if(!_0x15eb21[_0x257184(0x1a4)]){const _0x3de618=await db[_0x257184(0x1ac)](_0x15eb21[_0x257184(0x1cb)]);if(_0x3de618){const {chapter:_0x19b386,section:_0x1e9ed5,labId:_0x18c915}=zybookProjects[_0x15eb21[_0x257184(0x19a)]],_0x1f9599=encodeURIComponent(_0x15eb21[_0x257184(0x18d)]),_0x393a36=zybookEdition+_0x257184(0x18f)+_0x19b386+_0x257184(0x1c4)+_0x1e9ed5+_0x257184(0x17a)+_0x18c915+_0x257184(0x1b2)+_0x1f9599+_0x257184(0x1a3)+_0x3de618[_0x257184(0x1b5)];_0x15eb21[_0x257184(0x1a4)]=_0x393a36;}else UIkit[_0x257184(0x1ca)][_0x257184(0x1d7)](_0x257184(0x1cf)+_0x15eb21[_0x257184(0x18d)]+_0x257184(0x181)+_0x15eb21[_0x257184(0x1cb)]);}_0x15eb21[_0x257184(0x1a4)]&&window['open'](_0x15eb21[_0x257184(0x1a4)],'_blank',_0x257184(0x1a8));}}const adminUI=new AdmninUI();((async()=>{const _0x477a00=a0_0x57e2d2,_0x1cc5e0=await auth['userHasTeam'](_0x477a00(0x1bc));if(!_0x1cc5e0){document[_0x477a00(0x1cc)][_0x477a00(0x1bd)]='<p>401\x20Unauthorized</p>',document[_0x477a00(0x182)]='Unauthorized';return;}document['documentElement'][_0x477a00(0x195)]['visibility']=_0x477a00(0x1cd),adminUI[_0x477a00(0x190)]();})());