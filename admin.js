function a0_0x17a4(_0x3f49e4,_0x52f237){const _0x579a20=a0_0x579a();return a0_0x17a4=function(_0x17a47c,_0x10dd3f){_0x17a47c=_0x17a47c-0xf7;let _0x4710dc=_0x579a20[_0x17a47c];return _0x4710dc;},a0_0x17a4(_0x3f49e4,_0x52f237);}const a0_0x373f7b=a0_0x17a4;(function(_0x1763b3,_0x2a5199){const _0x54df05=a0_0x17a4,_0x4db007=_0x1763b3();while(!![]){try{const _0x86d7ef=-parseInt(_0x54df05(0x109))/0x1+parseInt(_0x54df05(0xf8))/0x2*(parseInt(_0x54df05(0x107))/0x3)+-parseInt(_0x54df05(0xfd))/0x4*(parseInt(_0x54df05(0xfc))/0x5)+parseInt(_0x54df05(0x101))/0x6*(-parseInt(_0x54df05(0x13d))/0x7)+-parseInt(_0x54df05(0x148))/0x8+parseInt(_0x54df05(0x138))/0x9+parseInt(_0x54df05(0x104))/0xa;if(_0x86d7ef===_0x2a5199)break;else _0x4db007['push'](_0x4db007['shift']());}catch(_0x561e25){_0x4db007['push'](_0x4db007['shift']());}}}(a0_0x579a,0xf076a));function a0_0x579a(){const _0x187165=['1348HqfhLN','all','project-filter','change','1452Wfqiby','<em>No\x20fixes</em>','filter','29958040IVWjfc','projnumber','name','3lgrreh','fixes','1292271HfppYs','content','createElement','input','userHasTeam','preventDefault','.project-number','setAttribute','submission-details-template','confirm','style','textContent','title','student-filter','$id','.file-name','documentElement','projectNumber','.submission-checkbox','split','value','filteredSubmissions','submission-row-template','Delete\x20Project\x20','updateSubmissionGraded','student-btn','chevron-down','hidden','innerHTML','add','allSubmissions','push','admin','.delete-submission','.fixes-container','canvasName','dataset','renderAdminTable','sort','trim','.canvas-name','eligiblePoints','then','modal','getElementById','graded','uk-text-muted','17617941ZzWtEZ','appendChild','studentID','cloneNode','line\x20','51758sYsMdX','includes','chevron-right','querySelector','submissionId','\x20submission\x20from\x20','uk-icon','fileName','listSubmissions','localeCompare',',\x20eligible\x20','15188656FifzUS','navigate','clear-filters','toLowerCase','visible','confirmDelete','deduction',',\x20deduction\x20','checked','log','2981326XLIWVl','addEventListener','renderFixesGroupedByFile','click','7105qtBAyu'];a0_0x579a=function(){return _0x187165;};return a0_0x579a();}import{db}from'./submissionService.js';import{auth}from'./auth.js';class AdmninUI{constructor(){const _0xfa6433=a0_0x17a4;this[_0xfa6433(0x127)]=null,document[_0xfa6433(0x135)](_0xfa6433(0xff))['addEventListener'](_0xfa6433(0x100),()=>this[_0xfa6433(0x12e)]()),document[_0xfa6433(0x135)](_0xfa6433(0x116))[_0xfa6433(0xf9)](_0xfa6433(0x10c),()=>this[_0xfa6433(0x12e)]()),document['getElementById'](_0xfa6433(0x14a))[_0xfa6433(0xf9)](_0xfa6433(0xfb),()=>{const _0x8502e5=_0xfa6433;document[_0x8502e5(0x135)](_0x8502e5(0xff))['value']='all',document[_0x8502e5(0x135)]('student-filter')[_0x8502e5(0x11d)]='',this[_0x8502e5(0x12e)]();}),document[_0xfa6433(0x135)](_0xfa6433(0x122))[_0xfa6433(0xf9)](_0xfa6433(0xfb),()=>navigation[_0xfa6433(0x149)]('./'));}async[a0_0x373f7b(0x11e)](){const _0x851126=a0_0x373f7b;this[_0x851126(0x127)]===null&&(this['allSubmissions']=await db[_0x851126(0x145)]());let _0x5e7a6f=this['allSubmissions'];const _0x528bac=document[_0x851126(0x135)](_0x851126(0xff))?.[_0x851126(0x11d)]??_0x851126(0xfe),_0x35569e=document[_0x851126(0x135)](_0x851126(0x116))?.[_0x851126(0x11d)][_0x851126(0x14b)]()[_0x851126(0x130)]()??'';_0x528bac!=='all'&&(_0x5e7a6f=_0x5e7a6f[_0x851126(0x103)](_0x44c7aa=>String(_0x44c7aa[_0x851126(0x11a)])===_0x528bac));_0x35569e&&(_0x5e7a6f=_0x5e7a6f[_0x851126(0x103)](_0x5372f4=>_0x5372f4[_0x851126(0x12c)][_0x851126(0x14b)]()[_0x851126(0x13e)](_0x35569e)||String(_0x5372f4[_0x851126(0x13a)])[_0x851126(0x13e)](_0x35569e)));const _0x52d466=(_0xa05f25='')=>{const _0x4b32f0=_0x851126,_0x17d2a7=_0xa05f25[_0x4b32f0(0x130)]()[_0x4b32f0(0x11c)](/\s+/);return _0x17d2a7['at'](-0x1)??'';};return _0x5e7a6f=[..._0x5e7a6f][_0x851126(0x12f)]((_0x3558c4,_0x9252ee)=>{const _0x264d8a=_0x851126,_0x1fe134=Number(_0x3558c4[_0x264d8a(0x11a)]),_0xc3610b=Number(_0x9252ee['projectNumber']);if(_0x1fe134!==_0xc3610b)return _0x1fe134-_0xc3610b;return _0x52d466(_0x3558c4['canvasName'])[_0x264d8a(0x146)](_0x52d466(_0x9252ee[_0x264d8a(0x12c)]));}),_0x5e7a6f;}async[a0_0x373f7b(0x12e)](){const _0x5cb66f=a0_0x373f7b,_0x474b24=document['getElementById']('admin-table-body');_0x474b24[_0x5cb66f(0x125)]='';const _0x702c45=await auth[_0x5cb66f(0x10d)](_0x5cb66f(0x129));if(!_0x702c45)return;const _0x442eb8=document[_0x5cb66f(0x135)](_0x5cb66f(0x11f)),_0xf2ded5=document[_0x5cb66f(0x135)](_0x5cb66f(0x111)),_0x5e1236=await this[_0x5cb66f(0x11e)]();_0x5e1236['forEach']((_0x14e10a,_0x489d20)=>{const _0x465916=_0x5cb66f,_0x3325c3='sub-details-'+_0x489d20,_0x3444eb=_0x442eb8['content'][_0x465916(0x13b)](!![]),_0xdd0a2e=_0x3444eb[_0x465916(0x140)]('tr'),_0x40f779=_0xdd0a2e['querySelector'](_0x465916(0x11b));_0x40f779[_0x465916(0x12d)]['submissionId']=_0x14e10a[_0x465916(0x117)],_0x40f779[_0x465916(0x150)]=_0x14e10a[_0x465916(0x136)],_0xdd0a2e[_0x465916(0x140)](_0x465916(0x10f))[_0x465916(0x114)]=_0x14e10a[_0x465916(0x11a)],_0xdd0a2e[_0x465916(0x140)](_0x465916(0x131))['textContent']=_0x14e10a[_0x465916(0x12c)],_0xdd0a2e[_0x465916(0x140)]('.student-id')['textContent']=_0x14e10a[_0x465916(0x13a)];const _0x23e223=_0xdd0a2e[_0x465916(0x140)]('.toggle-details'),_0x2c0d24=_0x23e223[_0x465916(0x140)]('span'),_0x1ffdc7=_0xdd0a2e[_0x465916(0x140)](_0x465916(0x12a));_0x1ffdc7[_0x465916(0x12d)]['id']=_0x14e10a[_0x465916(0x117)],_0x1ffdc7[_0x465916(0x12d)][_0x465916(0x106)]=_0x14e10a[_0x465916(0x12c)],_0x1ffdc7['dataset'][_0x465916(0x105)]=_0x14e10a[_0x465916(0x11a)];const _0x27f907=_0xf2ded5[_0x465916(0x10a)][_0x465916(0x13b)](!![]),_0x5c2d7e=_0x27f907[_0x465916(0x140)]('tr');_0x5c2d7e['id']=_0x3325c3;const _0x22c83a=_0x5c2d7e[_0x465916(0x140)](_0x465916(0x12b));this[_0x465916(0xfa)](_0x14e10a[_0x465916(0x108)]||[],_0x22c83a),_0x23e223[_0x465916(0xf9)](_0x465916(0xfb),_0x520425=>{const _0x1756ba=_0x465916;_0x520425[_0x1756ba(0x10e)]();const _0x5234df=!_0x5c2d7e[_0x1756ba(0x124)];_0x5c2d7e[_0x1756ba(0x124)]=_0x5234df,_0x2c0d24[_0x1756ba(0x110)](_0x1756ba(0x143),_0x5234df?_0x1756ba(0x13f):_0x1756ba(0x123));}),_0x40f779[_0x465916(0xf9)](_0x465916(0x100),async()=>{const _0x2f9401=_0x465916,_0x24b3a2=_0x40f779[_0x2f9401(0x12d)][_0x2f9401(0x141)];console[_0x2f9401(0xf7)](_0x24b3a2,_0x40f779[_0x2f9401(0x150)]),db[_0x2f9401(0x121)](_0x24b3a2,_0x40f779[_0x2f9401(0x150)]);}),_0x1ffdc7[_0x465916(0xf9)]('click',async _0x4857d6=>{const _0x5e0ac7=_0x465916;_0x4857d6[_0x5e0ac7(0x10e)]();const _0x40fe3b=await this[_0x5e0ac7(0x14d)](_0x14e10a[_0x5e0ac7(0x117)],_0x14e10a);_0x40fe3b&&(await db['deleteSubmission'](_0x14e10a[_0x5e0ac7(0x117)]),this[_0x5e0ac7(0x12e)]());}),_0x474b24[_0x465916(0x139)](_0xdd0a2e),_0x474b24[_0x465916(0x139)](_0x5c2d7e);});}[a0_0x373f7b(0xfa)](_0x122c30,_0x4f3f81){const _0x23dcc4=a0_0x373f7b;_0x4f3f81[_0x23dcc4(0x125)]='';if(!_0x122c30['length']){_0x4f3f81[_0x23dcc4(0x125)]=_0x23dcc4(0x102);return;}const _0x1347e2=document[_0x23dcc4(0x135)]('fix-file-template'),_0x2dc10e={};for(const _0x349ea5 of _0x122c30){(_0x2dc10e[_0x349ea5[_0x23dcc4(0x144)]]??=[])[_0x23dcc4(0x128)](_0x349ea5);}for(const [_0x396ae8,_0x303732]of Object['entries'](_0x2dc10e)){const _0x593390=_0x1347e2[_0x23dcc4(0x10a)]['cloneNode'](!![]);_0x593390[_0x23dcc4(0x140)](_0x23dcc4(0x118))[_0x23dcc4(0x114)]=_0x396ae8;const _0x561784=_0x593390[_0x23dcc4(0x140)]('ul');_0x303732['forEach'](_0x5f38f7=>{const _0x590b37=_0x23dcc4,_0x3dbae5=document[_0x590b37(0x10b)]('li');_0x3dbae5['classList'][_0x590b37(0x126)]('uk-margin-left'),_0x5f38f7['eligiblePoints']===0x0&&_0x3dbae5['classList'][_0x590b37(0x126)](_0x590b37(0x137)),_0x3dbae5[_0x590b37(0x114)]=_0x590b37(0x13c)+_0x5f38f7['lineNumber']+_0x590b37(0x14f)+_0x5f38f7[_0x590b37(0x14e)]+_0x590b37(0x147)+_0x5f38f7[_0x590b37(0x132)],_0x561784[_0x590b37(0x139)](_0x3dbae5);}),_0x4f3f81[_0x23dcc4(0x139)](_0x593390);}}async[a0_0x373f7b(0x14d)](_0x3a79b2,_0x4f9a4a){const _0x42313a=a0_0x373f7b,_0x210266=_0x42313a(0x120)+_0x4f9a4a['projectNumber']+_0x42313a(0x142)+_0x4f9a4a[_0x42313a(0x12c)]+'?';return new Promise(_0x129ebd=>{const _0x4e59e1=_0x42313a;UIkit[_0x4e59e1(0x134)][_0x4e59e1(0x112)](_0x210266)[_0x4e59e1(0x133)](()=>_0x129ebd(!![]),()=>_0x129ebd(![]));});}}const adminUI=new AdmninUI();((async()=>{const _0x54929c=a0_0x373f7b,_0x27818a=await auth[_0x54929c(0x10d)](_0x54929c(0x129));if(!_0x27818a){document[_0x54929c(0x119)]['innerHTML']='<p>401\x20Unauthorized</p>',document[_0x54929c(0x115)]='Unauthorized';return;}document[_0x54929c(0x119)][_0x54929c(0x113)]['visibility']=_0x54929c(0x14c),adminUI[_0x54929c(0x12e)]();})());