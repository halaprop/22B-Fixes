const a0_0x2964b9=a0_0x53fc;(function(_0x202a66,_0x59f7c3){const _0x199b87=a0_0x53fc,_0x5632a8=_0x202a66();while(!![]){try{const _0xcd7ca=parseInt(_0x199b87(0xb1))/0x1+parseInt(_0x199b87(0xd1))/0x2*(parseInt(_0x199b87(0xee))/0x3)+-parseInt(_0x199b87(0xd5))/0x4+parseInt(_0x199b87(0xf4))/0x5+-parseInt(_0x199b87(0xb6))/0x6*(parseInt(_0x199b87(0xa5))/0x7)+-parseInt(_0x199b87(0xcb))/0x8*(parseInt(_0x199b87(0xe2))/0x9)+-parseInt(_0x199b87(0xf6))/0xa*(-parseInt(_0x199b87(0xa3))/0xb);if(_0xcd7ca===_0x59f7c3)break;else _0x5632a8['push'](_0x5632a8['shift']());}catch(_0x66f00){_0x5632a8['push'](_0x5632a8['shift']());}}}(a0_0x5500,0x9b4cb));import{db}from'./submissionService.js';function a0_0x5500(){const _0x126632=['getElementById','_blank','?activity_user_name=','span','visible','push','dataset','onProjectLinkSelect','content','Unauthorized','825831yqXXLH','change',',\x20deduction\x20','filteredSubmissions','hidden','fix-file-template','renderAdminTable','zyBook\x20student\x20not\x20found:\x20','location','addEventListener','style','submission-details-template','9rfAoIv','visibility','includes','classList','fileName','admin','3370205IoTgEI','confirmDelete','12775830XscHuf','userHasTeam','project-filter','setAttribute','projectUrl','.fixes-container','zybookId','trim','updateSubmissionGraded','clear-filters','renderFixesGroupedByFile','sort','log','submissionId','\x20submission\x20from\x20','projectNumber','innerHTML','preventDefault','eligiblePoints','/section/','sub-details-','.project-link','11OmVycp',',\x20id\x20','18753kGOsYf','textContent','zybookStudent','href','input','student-filter','studentID','deduction','index.html','lineNumber','.project-number','appendChild','897656VGQSfx','<em>No\x20fixes</em>','uk-margin-left','all','toLowerCase','2820SLxBNE','forEach','filter','modal','.student-id','canvasName','https://learn.zybooks.com/zybook/DEANZACIS22BHalabeWinter2026','$id','.canvas-name','Delete\x20Project\x20','alert','admin-table-body','add','uk-text-muted','student-btn','querySelector','name','chevron-down','documentElement','projnumber','.file-name','72UCRXuh','click','listSubmissions','length','cloneNode','uk-icon','45208imNVtB','then','entries','checked','784096ygcIEc','_allSubmissions','value'];a0_0x5500=function(){return _0x126632;};return a0_0x5500();}import{auth}from'./auth.js';function a0_0x53fc(_0x20443b,_0x4901bd){const _0x550020=a0_0x5500();return a0_0x53fc=function(_0x53fcd6,_0xf48da8){_0x53fcd6=_0x53fcd6-0x8f;let _0x3d4058=_0x550020[_0x53fcd6];return _0x3d4058;},a0_0x53fc(_0x20443b,_0x4901bd);}const zybookEdition=a0_0x2964b9(0xbc),zybookProjects={0x0:{'chapter':0xb,'section':0x1,'labId':0x7e67fdf},0x1:{'chapter':0xb,'section':0x2,'labId':0x7e67f8e},0x2:{'chapter':0xb,'section':0x3,'labId':0x7e67f8f},0x3:{'chapter':0xb,'section':0x4,'labId':0x7e67f90},0x4:{'chapter':0xb,'section':0x5,'labId':0x7e67f91}};class AdmninUI{constructor(){const _0x545abb=a0_0x2964b9;this[_0x545abb(0xd6)]=null,document[_0x545abb(0xd8)]('project-filter')[_0x545abb(0xeb)](_0x545abb(0xe3),()=>this[_0x545abb(0xe8)]()),document['getElementById'](_0x545abb(0xaa))['addEventListener'](_0x545abb(0xa9),()=>this['renderAdminTable']()),document[_0x545abb(0xd8)](_0x545abb(0x96))[_0x545abb(0xeb)](_0x545abb(0xcc),()=>{const _0x3889e3=_0x545abb;document[_0x3889e3(0xd8)](_0x3889e3(0x8f))[_0x3889e3(0xd7)]=_0x3889e3(0xb4),document[_0x3889e3(0xd8)]('student-filter')['value']='',this[_0x3889e3(0xe8)]();}),document[_0x545abb(0xd8)](_0x545abb(0xc4))[_0x545abb(0xeb)](_0x545abb(0xcc),()=>{const _0x1e1e4=_0x545abb;window[_0x1e1e4(0xea)][_0x1e1e4(0xa8)]=_0x1e1e4(0xad);});}async[a0_0x2964b9(0xe5)](){const _0x4a86aa=a0_0x2964b9;this['_allSubmissions']===null&&(this[_0x4a86aa(0xd6)]=await db[_0x4a86aa(0xcd)]());let _0x30c2c3=this[_0x4a86aa(0xd6)];const _0x989163=document[_0x4a86aa(0xd8)](_0x4a86aa(0x8f))?.['value']??_0x4a86aa(0xb4),_0x1a5b02=document['getElementById'](_0x4a86aa(0xaa))?.[_0x4a86aa(0xd7)][_0x4a86aa(0xb5)]()[_0x4a86aa(0x94)]()??'';_0x989163!=='all'&&(_0x30c2c3=_0x30c2c3['filter'](_0x14268c=>String(_0x14268c[_0x4a86aa(0x9c)])===_0x989163));_0x1a5b02&&(_0x30c2c3=_0x30c2c3[_0x4a86aa(0xb8)](_0x1e6b60=>_0x1e6b60[_0x4a86aa(0xbb)][_0x4a86aa(0xb5)]()[_0x4a86aa(0xf0)](_0x1a5b02)||String(_0x1e6b60[_0x4a86aa(0xab)])[_0x4a86aa(0xf0)](_0x1a5b02)));const _0x52c6e1=(_0x2e9dd8='')=>{const _0x15ca70=_0x4a86aa,_0x5d766c=_0x2e9dd8[_0x15ca70(0x94)]()['split'](/\s+/);return _0x5d766c['at'](-0x1)??'';};return _0x30c2c3=[..._0x30c2c3][_0x4a86aa(0x98)]((_0x51db87,_0x6ee29)=>{const _0x3746dc=_0x4a86aa,_0x5b843a=Number(_0x51db87[_0x3746dc(0x9c)]),_0x12ea79=Number(_0x6ee29['projectNumber']);if(_0x5b843a!==_0x12ea79)return _0x5b843a-_0x12ea79;return _0x52c6e1(_0x51db87[_0x3746dc(0xbb)])['localeCompare'](_0x52c6e1(_0x6ee29[_0x3746dc(0xbb)]));}),_0x30c2c3;}async['renderAdminTable'](){const _0x1c30e4=a0_0x2964b9,_0x527c22=document[_0x1c30e4(0xd8)](_0x1c30e4(0xc1));_0x527c22['innerHTML']='';const _0x4ea943=await auth[_0x1c30e4(0xf7)]('admin');if(!_0x4ea943)return;const _0x4e77ba=document[_0x1c30e4(0xd8)]('submission-row-template'),_0x3c010e=document[_0x1c30e4(0xd8)](_0x1c30e4(0xed)),_0x5b0182=await this['filteredSubmissions']();_0x5b0182[_0x1c30e4(0xb7)]((_0x4e04d6,_0x9b9688)=>{const _0x1896e7=_0x1c30e4,_0x3703d5=_0x1896e7(0xa1)+_0x9b9688,_0x1747b3=_0x4e77ba[_0x1896e7(0xe0)][_0x1896e7(0xcf)](!![]),_0x46a345=_0x1747b3[_0x1896e7(0xc5)]('tr'),_0x440f82=_0x46a345['querySelector']('.toggle-details'),_0x58d73a=_0x440f82[_0x1896e7(0xc5)](_0x1896e7(0xdb)),_0xbbf18=_0x46a345[_0x1896e7(0xc5)]('.submission-checkbox');_0xbbf18['dataset']['submissionId']=_0x4e04d6[_0x1896e7(0xbd)],_0xbbf18[_0x1896e7(0xd4)]=_0x4e04d6['graded'],_0x46a345[_0x1896e7(0xc5)](_0x1896e7(0xaf))[_0x1896e7(0xa6)]=_0x4e04d6[_0x1896e7(0x9c)],_0x46a345[_0x1896e7(0xc5)](_0x1896e7(0xbe))['textContent']=_0x4e04d6[_0x1896e7(0xbb)],_0x46a345['querySelector'](_0x1896e7(0xba))['textContent']=_0x4e04d6['studentID'];const _0x1547bc=_0x46a345['querySelector']('.delete-submission');_0x1547bc[_0x1896e7(0xde)]['id']=_0x4e04d6['$id'],_0x1547bc[_0x1896e7(0xde)][_0x1896e7(0xc6)]=_0x4e04d6[_0x1896e7(0xbb)],_0x1547bc[_0x1896e7(0xde)][_0x1896e7(0xc9)]=_0x4e04d6[_0x1896e7(0x9c)],_0x46a345[_0x1896e7(0xc5)](_0x1896e7(0xa2))[_0x1896e7(0xeb)](_0x1896e7(0xcc),_0x22d852=>{const _0x1fc399=_0x1896e7;_0x22d852[_0x1fc399(0x9e)](),this[_0x1fc399(0xdf)](_0x4e04d6);});const _0x1fc793=_0x3c010e['content'][_0x1896e7(0xcf)](!![]),_0x127bd0=_0x1fc793[_0x1896e7(0xc5)]('tr');_0x127bd0['id']=_0x3703d5;const _0x5e714a=_0x127bd0['querySelector'](_0x1896e7(0x92));this[_0x1896e7(0x97)](_0x4e04d6['fixes']||[],_0x5e714a),_0x440f82[_0x1896e7(0xeb)](_0x1896e7(0xcc),_0x130ab8=>{const _0x101f18=_0x1896e7;_0x130ab8[_0x101f18(0x9e)]();const _0x346868=!_0x127bd0[_0x101f18(0xe6)];_0x127bd0[_0x101f18(0xe6)]=_0x346868,_0x58d73a[_0x101f18(0x90)](_0x101f18(0xd0),_0x346868?'chevron-right':_0x101f18(0xc7));}),_0xbbf18[_0x1896e7(0xeb)](_0x1896e7(0xe3),async()=>{const _0x8fbb0a=_0x1896e7,_0x2d1d43=_0xbbf18[_0x8fbb0a(0xde)][_0x8fbb0a(0x9a)];console[_0x8fbb0a(0x99)](_0x2d1d43,_0xbbf18[_0x8fbb0a(0xd4)]),db[_0x8fbb0a(0x95)](_0x2d1d43,_0xbbf18[_0x8fbb0a(0xd4)]);}),_0x1547bc['addEventListener']('click',async _0x41ff5f=>{const _0x203006=_0x1896e7;_0x41ff5f[_0x203006(0x9e)]();const _0x2d9719=await this[_0x203006(0xf5)](_0x4e04d6[_0x203006(0xbd)],_0x4e04d6);_0x2d9719&&(await db['deleteSubmission'](_0x4e04d6['$id']),this[_0x203006(0xe8)]());}),_0x527c22[_0x1896e7(0xb0)](_0x46a345),_0x527c22['appendChild'](_0x127bd0);});}[a0_0x2964b9(0x97)](_0x47cfb9,_0x3f769f){const _0xacd76e=a0_0x2964b9;_0x3f769f[_0xacd76e(0x9d)]='';if(!_0x47cfb9[_0xacd76e(0xce)]){_0x3f769f[_0xacd76e(0x9d)]=_0xacd76e(0xb2);return;}const _0x9b97c4=document[_0xacd76e(0xd8)](_0xacd76e(0xe7)),_0x35fc2c={};for(const _0x595324 of _0x47cfb9){(_0x35fc2c[_0x595324[_0xacd76e(0xf2)]]??=[])[_0xacd76e(0xdd)](_0x595324);}for(const [_0x25d3f5,_0x20932f]of Object[_0xacd76e(0xd3)](_0x35fc2c)){const _0x1af8bf=_0x9b97c4[_0xacd76e(0xe0)][_0xacd76e(0xcf)](!![]);_0x1af8bf[_0xacd76e(0xc5)](_0xacd76e(0xca))[_0xacd76e(0xa6)]=_0x25d3f5;const _0x294aa1=_0x1af8bf[_0xacd76e(0xc5)]('ul');_0x20932f[_0xacd76e(0xb7)](_0x330ae3=>{const _0x2edfca=_0xacd76e,_0xbd8062=document['createElement']('li');_0xbd8062[_0x2edfca(0xf1)][_0x2edfca(0xc2)](_0x2edfca(0xb3)),_0x330ae3[_0x2edfca(0x9f)]===0x0&&_0xbd8062[_0x2edfca(0xf1)][_0x2edfca(0xc2)](_0x2edfca(0xc3)),_0xbd8062[_0x2edfca(0xa6)]='line\x20'+_0x330ae3[_0x2edfca(0xae)]+_0x2edfca(0xe4)+_0x330ae3[_0x2edfca(0xac)]+',\x20eligible\x20'+_0x330ae3[_0x2edfca(0x9f)],_0x294aa1['appendChild'](_0xbd8062);}),_0x3f769f[_0xacd76e(0xb0)](_0x1af8bf);}}async[a0_0x2964b9(0xf5)](_0x5664b6,_0xd695ac){const _0x3d11e9=a0_0x2964b9,_0x38cd2e=_0x3d11e9(0xbf)+_0xd695ac[_0x3d11e9(0x9c)]+_0x3d11e9(0x9b)+_0xd695ac[_0x3d11e9(0xbb)]+'?';return new Promise(_0x5519b4=>{const _0x50c810=_0x3d11e9;UIkit[_0x50c810(0xb9)]['confirm'](_0x38cd2e)[_0x50c810(0xd2)](()=>_0x5519b4(!![]),()=>_0x5519b4(![]));});}async[a0_0x2964b9(0xdf)](_0x47b9e4){const _0x270710=a0_0x2964b9;if(!_0x47b9e4[_0x270710(0x91)]){const _0x3811b1=await db[_0x270710(0xa7)](_0x47b9e4[_0x270710(0xab)]);if(_0x3811b1){const {chapter:_0x58df4c,section:_0x45a182,labId:_0x5059a8}=zybookProjects[_0x47b9e4[_0x270710(0x9c)]],_0x507787=encodeURIComponent(_0x47b9e4[_0x270710(0xbb)]),_0xb982b0=zybookEdition+'/chapter/'+_0x58df4c+_0x270710(0xa0)+_0x45a182+'/advanced-zylab/'+_0x5059a8+_0x270710(0xda)+_0x507787+'&user_id='+_0x3811b1[_0x270710(0x93)];_0x47b9e4[_0x270710(0x91)]=_0xb982b0;}else UIkit[_0x270710(0xb9)][_0x270710(0xc0)](_0x270710(0xe9)+_0x47b9e4[_0x270710(0xbb)]+_0x270710(0xa4)+_0x47b9e4[_0x270710(0xab)]);}_0x47b9e4[_0x270710(0x91)]&&window['open'](_0x47b9e4[_0x270710(0x91)],_0x270710(0xd9),'noopener,noreferrer');}}const adminUI=new AdmninUI();((async()=>{const _0x15dc2c=a0_0x2964b9,_0x4a35c4=await auth[_0x15dc2c(0xf7)](_0x15dc2c(0xf3));if(!_0x4a35c4){document['documentElement'][_0x15dc2c(0x9d)]='<p>401\x20Unauthorized</p>',document['title']=_0x15dc2c(0xe1);return;}document[_0x15dc2c(0xc8)][_0x15dc2c(0xec)][_0x15dc2c(0xef)]=_0x15dc2c(0xdc),adminUI['renderAdminTable']();})());