const a0_0xae02a8=a0_0x4a2f;(function(_0x1a56bd,_0x4cefa9){const _0x52663a=a0_0x4a2f,_0x421716=_0x1a56bd();while(!![]){try{const _0x2b8d58=-parseInt(_0x52663a(0x223))/0x1*(-parseInt(_0x52663a(0x1fd))/0x2)+-parseInt(_0x52663a(0x213))/0x3*(-parseInt(_0x52663a(0x22e))/0x4)+-parseInt(_0x52663a(0x1e1))/0x5+parseInt(_0x52663a(0x206))/0x6*(-parseInt(_0x52663a(0x1f7))/0x7)+parseInt(_0x52663a(0x22c))/0x8*(-parseInt(_0x52663a(0x1fe))/0x9)+-parseInt(_0x52663a(0x224))/0xa*(-parseInt(_0x52663a(0x1e8))/0xb)+parseInt(_0x52663a(0x21c))/0xc;if(_0x2b8d58===_0x4cefa9)break;else _0x421716['push'](_0x421716['shift']());}catch(_0x36c9ba){_0x421716['push'](_0x421716['shift']());}}}(a0_0x4d16,0xbe6d3));import{db}from'./submissionService.js';import{auth}from'./auth.js';const zybookEdition='https://learn.zybooks.com/zybook/DEANZACIS22BHalabeWinter2026',zybookProjects={0x0:{'chapter':0xb,'section':0x1,'labId':0x7e67fdf},0x1:{'chapter':0xb,'section':0x2,'labId':0x7e67f8e},0x2:{'chapter':0xb,'section':0x3,'labId':0x7e67f8f},0x3:{'chapter':0xb,'section':0x4,'labId':0x7e67f90},0x4:{'chapter':0xb,'section':0x5,'labId':0x7e67f91}};class AdmninUI{constructor(){const _0x231dd0=a0_0x4a2f;this[_0x231dd0(0x23b)]=null,document[_0x231dd0(0x225)]('project-filter')['addEventListener'](_0x231dd0(0x1d9),()=>this[_0x231dd0(0x21d)]()),document[_0x231dd0(0x225)](_0x231dd0(0x21b))[_0x231dd0(0x23a)](_0x231dd0(0x233),()=>this['renderAdminTable']()),document[_0x231dd0(0x225)](_0x231dd0(0x207))['addEventListener'](_0x231dd0(0x220),()=>{const _0xeffb09=_0x231dd0;document[_0xeffb09(0x225)]('project-filter')[_0xeffb09(0x22d)]=_0xeffb09(0x231),document[_0xeffb09(0x225)](_0xeffb09(0x21b))[_0xeffb09(0x22d)]='',this[_0xeffb09(0x21d)]();}),document[_0x231dd0(0x225)](_0x231dd0(0x226))[_0x231dd0(0x23a)](_0x231dd0(0x220),()=>{const _0x1c2ed7=_0x231dd0;window['location'][_0x1c2ed7(0x215)]=_0x1c2ed7(0x1ef);});}async[a0_0xae02a8(0x201)](){const _0x5675fd=a0_0xae02a8;this[_0x5675fd(0x23b)]===null&&(this[_0x5675fd(0x23b)]=await db[_0x5675fd(0x1e7)]());let _0x5865c2=this[_0x5675fd(0x23b)];const _0x1d7d6e=document[_0x5675fd(0x225)](_0x5675fd(0x1f3))?.[_0x5675fd(0x22d)]??_0x5675fd(0x231),_0x506167=document[_0x5675fd(0x225)](_0x5675fd(0x21b))?.[_0x5675fd(0x22d)]['toLowerCase']()[_0x5675fd(0x232)]()??'';_0x1d7d6e!==_0x5675fd(0x231)&&(_0x5865c2=_0x5865c2[_0x5675fd(0x212)](_0x8dcf9b=>String(_0x8dcf9b[_0x5675fd(0x208)])===_0x1d7d6e));_0x506167&&(_0x5865c2=_0x5865c2[_0x5675fd(0x212)](_0x264bef=>_0x264bef[_0x5675fd(0x1d5)][_0x5675fd(0x1f1)]()['includes'](_0x506167)||String(_0x264bef[_0x5675fd(0x237)])[_0x5675fd(0x1e4)](_0x506167)));const _0x2c1551=(_0x5e6d42='')=>{const _0x1375c0=_0x5675fd,_0x52313e=_0x5e6d42[_0x1375c0(0x232)]()[_0x1375c0(0x1db)](/\s+/);return _0x52313e['at'](-0x1)??'';};return _0x5865c2=[..._0x5865c2][_0x5675fd(0x1d6)]((_0x52a03d,_0x1aa835)=>{const _0x73104b=_0x5675fd,_0x5a57c2=Number(_0x52a03d[_0x73104b(0x208)]),_0x18682e=Number(_0x1aa835[_0x73104b(0x208)]);if(_0x5a57c2!==_0x18682e)return _0x5a57c2-_0x18682e;return _0x2c1551(_0x52a03d[_0x73104b(0x1d5)])[_0x73104b(0x217)](_0x2c1551(_0x1aa835[_0x73104b(0x1d5)]));}),_0x5865c2;}async['renderAdminTable'](){const _0x1f6ed2=a0_0xae02a8,_0x565a3f=document[_0x1f6ed2(0x225)](_0x1f6ed2(0x1da));_0x565a3f[_0x1f6ed2(0x1fc)]='';const _0x5a3679=await auth[_0x1f6ed2(0x1d7)](_0x1f6ed2(0x1f5));if(!_0x5a3679)return;const _0xf001d1=document[_0x1f6ed2(0x225)](_0x1f6ed2(0x221)),_0x4eb8ec=document[_0x1f6ed2(0x225)]('submission-details-template'),_0x4b7fbb=await this[_0x1f6ed2(0x201)]();_0x4b7fbb[_0x1f6ed2(0x20c)]((_0x2eead4,_0x56f793)=>{const _0x3f19c8=_0x1f6ed2,_0x15ef9f=_0x3f19c8(0x1d8)+_0x56f793,_0x478f33=_0xf001d1[_0x3f19c8(0x1fb)][_0x3f19c8(0x20d)](!![]),_0x53f053=_0x478f33[_0x3f19c8(0x219)]('tr'),_0x4736c4=_0x53f053[_0x3f19c8(0x219)](_0x3f19c8(0x21f)),_0x44ff8d=_0x4736c4['querySelector']('span'),_0x517a8d=_0x53f053[_0x3f19c8(0x219)](_0x3f19c8(0x238));_0x517a8d['dataset'][_0x3f19c8(0x230)]=_0x2eead4['$id'],_0x517a8d[_0x3f19c8(0x1f8)]=_0x2eead4['graded'],_0x53f053[_0x3f19c8(0x219)](_0x3f19c8(0x1ea))['textContent']=_0x2eead4[_0x3f19c8(0x208)],_0x53f053[_0x3f19c8(0x219)]('.canvas-name')[_0x3f19c8(0x20f)]=_0x2eead4['canvasName'],_0x53f053[_0x3f19c8(0x219)](_0x3f19c8(0x1d3))['textContent']=_0x2eead4['studentID'];const _0x5eac0c=_0x53f053[_0x3f19c8(0x219)](_0x3f19c8(0x214));_0x5eac0c['dataset']['id']=_0x2eead4[_0x3f19c8(0x202)],_0x5eac0c[_0x3f19c8(0x1d1)][_0x3f19c8(0x1f9)]=_0x2eead4[_0x3f19c8(0x1d5)],_0x5eac0c[_0x3f19c8(0x1d1)]['projnumber']=_0x2eead4['projectNumber'],_0x53f053[_0x3f19c8(0x219)](_0x3f19c8(0x1e6))[_0x3f19c8(0x23a)](_0x3f19c8(0x220),_0x4b0571=>{const _0x159fd0=_0x3f19c8;_0x4b0571[_0x159fd0(0x22f)](),this[_0x159fd0(0x21a)](_0x2eead4);});const _0x107855=_0x4eb8ec[_0x3f19c8(0x1fb)][_0x3f19c8(0x20d)](!![]),_0x2d1d9d=_0x107855[_0x3f19c8(0x219)]('tr');_0x2d1d9d['id']=_0x15ef9f;const _0x28dba4=_0x2d1d9d[_0x3f19c8(0x219)](_0x3f19c8(0x222));this['renderFixesGroupedByFile'](_0x2eead4[_0x3f19c8(0x236)]||[],_0x28dba4),_0x4736c4[_0x3f19c8(0x23a)]('click',_0x3cb5fc=>{const _0x414b2d=_0x3f19c8;_0x3cb5fc['preventDefault']();const _0xdfcb72=!_0x2d1d9d[_0x414b2d(0x211)];_0x2d1d9d[_0x414b2d(0x211)]=_0xdfcb72,_0x44ff8d[_0x414b2d(0x1f4)](_0x414b2d(0x22b),_0xdfcb72?_0x414b2d(0x1e5):_0x414b2d(0x227));}),_0x517a8d[_0x3f19c8(0x23a)](_0x3f19c8(0x1d9),async()=>{const _0x4c6330=_0x3f19c8,_0x2faa7c=_0x517a8d['dataset'][_0x4c6330(0x230)];console['log'](_0x2faa7c,_0x517a8d[_0x4c6330(0x1f8)]),db['updateSubmissionGraded'](_0x2faa7c,_0x517a8d['checked']);}),_0x5eac0c['addEventListener'](_0x3f19c8(0x220),async _0x1b3be8=>{const _0x500929=_0x3f19c8;_0x1b3be8[_0x500929(0x22f)]();const _0x5e8ad8=await this['confirmDelete'](_0x2eead4[_0x500929(0x202)],_0x2eead4);_0x5e8ad8&&(await db[_0x500929(0x1dc)](_0x2eead4[_0x500929(0x202)]),this[_0x500929(0x21d)]());}),_0x565a3f[_0x3f19c8(0x1ec)](_0x53f053),_0x565a3f[_0x3f19c8(0x1ec)](_0x2d1d9d);});}[a0_0xae02a8(0x204)](_0xc678f7,_0x350459){const _0x3440fc=a0_0xae02a8;_0x350459['innerHTML']='';if(!_0xc678f7[_0x3440fc(0x1e9)]){_0x350459[_0x3440fc(0x1fc)]='<em>No\x20fixes</em>';return;}const _0x44d108=document['getElementById'](_0x3440fc(0x1eb)),_0x32c39b={};for(const _0x5ca928 of _0xc678f7){(_0x32c39b[_0x5ca928[_0x3440fc(0x209)]]??=[])[_0x3440fc(0x229)](_0x5ca928);}for(const [_0x197b16,_0x39e31a]of Object['entries'](_0x32c39b)){const _0xbe8d74=_0x44d108[_0x3440fc(0x1fb)][_0x3440fc(0x20d)](!![]);_0xbe8d74['querySelector']('.file-name')['textContent']=_0x197b16;const _0x3a6c2b=_0xbe8d74['querySelector']('ul');_0x39e31a['forEach'](_0x183693=>{const _0x327533=_0x3440fc,_0x276684=document[_0x327533(0x20e)]('li');_0x276684[_0x327533(0x1ee)][_0x327533(0x205)](_0x327533(0x1e3)),_0x183693[_0x327533(0x22a)]===0x0&&_0x276684[_0x327533(0x1ee)][_0x327533(0x205)](_0x327533(0x23c)),_0x276684['textContent']=_0x327533(0x1d2)+_0x183693['lineNumber']+',\x20deduction\x20'+_0x183693[_0x327533(0x20a)]+_0x327533(0x1ed)+_0x183693['eligiblePoints'],_0x3a6c2b['appendChild'](_0x276684);}),_0x350459[_0x3440fc(0x1ec)](_0xbe8d74);}}async['confirmDelete'](_0x582007,_0xa12e89){const _0xd50661=a0_0xae02a8,_0x59dd8d=_0xd50661(0x200)+_0xa12e89[_0xd50661(0x208)]+'\x20submission\x20from\x20'+_0xa12e89['canvasName']+'?';return new Promise(_0x5b5d25=>{const _0x1694c3=_0xd50661;UIkit[_0x1694c3(0x1e2)]['confirm'](_0x59dd8d)[_0x1694c3(0x239)](()=>_0x5b5d25(!![]),()=>_0x5b5d25(![]));});}async[a0_0xae02a8(0x21a)](_0x4ea1e2){const _0x2c594b=a0_0xae02a8;if(!_0x4ea1e2[_0x2c594b(0x1e0)]){const _0xf282d5=await db[_0x2c594b(0x20b)](_0x4ea1e2[_0x2c594b(0x237)]);if(_0xf282d5){const {chapter:_0x3faefe,section:_0x3f6358,labId:_0x2aef9e}=zybookProjects[_0x4ea1e2[_0x2c594b(0x208)]],_0x285a8d=encodeURIComponent(_0x4ea1e2[_0x2c594b(0x1d5)]),_0x5ccd8b=zybookEdition+_0x2c594b(0x218)+_0x3faefe+_0x2c594b(0x1fa)+_0x3f6358+'/advanced-zylab/'+_0x2aef9e+_0x2c594b(0x216)+_0x285a8d+_0x2c594b(0x21e)+_0xf282d5[_0x2c594b(0x1dd)];_0x4ea1e2[_0x2c594b(0x1e0)]=_0x5ccd8b;}else UIkit[_0x2c594b(0x1e2)][_0x2c594b(0x1f0)](_0x2c594b(0x203)+_0x4ea1e2[_0x2c594b(0x1d5)]+_0x2c594b(0x228)+_0x4ea1e2['studentID']);}_0x4ea1e2[_0x2c594b(0x1e0)]&&window[_0x2c594b(0x235)](_0x4ea1e2[_0x2c594b(0x1e0)],_0x2c594b(0x1f6),_0x2c594b(0x234));}}const adminUI=new AdmninUI();function a0_0x4d16(){const _0x579fff=['clear-filters','projectNumber','fileName','deduction','zybookStudent','forEach','cloneNode','createElement','textContent','Unauthorized','hidden','filter','33VtqGFv','.delete-submission','href','?activity_user_name=','localeCompare','/chapter/','querySelector','onProjectLinkSelect','student-filter','6738708fDCMGS','renderAdminTable','&user_id=','.toggle-details','click','submission-row-template','.fixes-container','397218vWzyqg','10iwnBXK','getElementById','student-btn','chevron-down',',\x20id\x20','push','eligiblePoints','uk-icon','17176KFrqaD','value','405332pmlkGO','preventDefault','submissionId','all','trim','input','noopener,noreferrer','open','fixes','studentID','.submission-checkbox','then','addEventListener','_allSubmissions','uk-text-muted','dataset','line\x20','.student-id','style','canvasName','sort','userHasTeam','sub-details-','change','admin-table-body','split','deleteSubmission','zybookId','title','documentElement','projectUrl','5052780snCoau','modal','uk-margin-left','includes','chevron-right','.project-link','listSubmissions','1043273lALnLF','length','.project-number','fix-file-template','appendChild',',\x20eligible\x20','classList','index.html','alert','toLowerCase','<p>401\x20Unauthorized</p>','project-filter','setAttribute','admin','_blank','42nVjWFR','checked','name','/section/','content','innerHTML','6lGXmEG','396XigSkw','visibility','Delete\x20Project\x20','filteredSubmissions','$id','zyBook\x20student\x20not\x20found:\x20','renderFixesGroupedByFile','add','1077708sTTufM'];a0_0x4d16=function(){return _0x579fff;};return a0_0x4d16();}function a0_0x4a2f(_0x1ef0f6,_0x182f8a){const _0x4d160c=a0_0x4d16();return a0_0x4a2f=function(_0x4a2f63,_0x2364f1){_0x4a2f63=_0x4a2f63-0x1d1;let _0x315249=_0x4d160c[_0x4a2f63];return _0x315249;},a0_0x4a2f(_0x1ef0f6,_0x182f8a);}((async()=>{const _0x5925c3=a0_0xae02a8,_0xeb2e3d=await auth[_0x5925c3(0x1d7)]('admin');if(!_0xeb2e3d){document[_0x5925c3(0x1df)]['innerHTML']=_0x5925c3(0x1f2),document[_0x5925c3(0x1de)]=_0x5925c3(0x210);return;}document['documentElement'][_0x5925c3(0x1d4)][_0x5925c3(0x1ff)]='visible',adminUI[_0x5925c3(0x21d)]();})());