const a0_0x119f02=a0_0x20ce;(function(_0x753d86,_0x1e2eaf){const _0x5e6d71=a0_0x20ce,_0x1b60f8=_0x753d86();while(!![]){try{const _0x22d8e0=parseInt(_0x5e6d71(0x197))/0x1+-parseInt(_0x5e6d71(0x1a0))/0x2*(-parseInt(_0x5e6d71(0x187))/0x3)+parseInt(_0x5e6d71(0x192))/0x4*(parseInt(_0x5e6d71(0x1b4))/0x5)+-parseInt(_0x5e6d71(0x1d3))/0x6*(-parseInt(_0x5e6d71(0x186))/0x7)+parseInt(_0x5e6d71(0x1bc))/0x8*(parseInt(_0x5e6d71(0x18e))/0x9)+parseInt(_0x5e6d71(0x1c4))/0xa+parseInt(_0x5e6d71(0x1d2))/0xb*(-parseInt(_0x5e6d71(0x18f))/0xc);if(_0x22d8e0===_0x1e2eaf)break;else _0x1b60f8['push'](_0x1b60f8['shift']());}catch(_0x4a477a){_0x1b60f8['push'](_0x1b60f8['shift']());}}}(a0_0x346a,0x6c37b));function a0_0x20ce(_0x1f823d,_0x49041d){const _0x346aeb=a0_0x346a();return a0_0x20ce=function(_0x20ce0b,_0x5084d6){_0x20ce0b=_0x20ce0b-0x17d;let _0x5c66b4=_0x346aeb[_0x20ce0b];return _0x5c66b4;},a0_0x20ce(_0x1f823d,_0x49041d);}import{db}from'./submissionService.js';import{auth}from'./auth.js';class AdmninUI{constructor(){const _0x14639a=a0_0x20ce;this[_0x14639a(0x18d)]=null,document['getElementById'](_0x14639a(0x19b))['addEventListener']('change',()=>this[_0x14639a(0x1b5)]()),document[_0x14639a(0x1b7)]('student-filter')[_0x14639a(0x1ce)](_0x14639a(0x1ca),()=>this[_0x14639a(0x1b5)]()),document[_0x14639a(0x1b7)](_0x14639a(0x1c9))[_0x14639a(0x1ce)](_0x14639a(0x199),()=>{const _0x3d932a=_0x14639a;document[_0x3d932a(0x1b7)](_0x3d932a(0x19b))[_0x3d932a(0x196)]=_0x3d932a(0x19a),document[_0x3d932a(0x1b7)]('student-filter')[_0x3d932a(0x196)]='',this[_0x3d932a(0x1b5)]();}),document[_0x14639a(0x1b7)]('student-btn')[_0x14639a(0x1ce)](_0x14639a(0x199),()=>{const _0x2bb0a8=_0x14639a;window[_0x2bb0a8(0x1be)][_0x2bb0a8(0x1a6)]=_0x2bb0a8(0x1cc);});}async[a0_0x119f02(0x1c0)](){const _0x3f5777=a0_0x119f02;this[_0x3f5777(0x18d)]===null&&(this[_0x3f5777(0x18d)]=await db['listSubmissions']());let _0x547eae=this[_0x3f5777(0x18d)];const _0x1ec202=document[_0x3f5777(0x1b7)](_0x3f5777(0x19b))?.[_0x3f5777(0x196)]??_0x3f5777(0x19a),_0x4b9937=document[_0x3f5777(0x1b7)]('student-filter')?.[_0x3f5777(0x196)][_0x3f5777(0x18a)]()[_0x3f5777(0x1c1)]()??'';_0x1ec202!==_0x3f5777(0x19a)&&(_0x547eae=_0x547eae[_0x3f5777(0x182)](_0x19c9e5=>String(_0x19c9e5[_0x3f5777(0x1a2)])===_0x1ec202));_0x4b9937&&(_0x547eae=_0x547eae['filter'](_0x520111=>_0x520111[_0x3f5777(0x1d0)][_0x3f5777(0x18a)]()['includes'](_0x4b9937)||String(_0x520111[_0x3f5777(0x181)])[_0x3f5777(0x1b3)](_0x4b9937)));const _0x1e11e2=(_0x9a6b74='')=>{const _0x5186de=_0x3f5777,_0x107e4d=_0x9a6b74[_0x5186de(0x1c1)]()[_0x5186de(0x19c)](/\s+/);return _0x107e4d['at'](-0x1)??'';};return _0x547eae=[..._0x547eae][_0x3f5777(0x1c7)]((_0x2b3801,_0x11c8d9)=>{const _0x1aa8f6=_0x3f5777,_0x2bae3a=Number(_0x2b3801['projectNumber']),_0x396a33=Number(_0x11c8d9[_0x1aa8f6(0x1a2)]);if(_0x2bae3a!==_0x396a33)return _0x2bae3a-_0x396a33;return _0x1e11e2(_0x2b3801[_0x1aa8f6(0x1d0)])['localeCompare'](_0x1e11e2(_0x11c8d9[_0x1aa8f6(0x1d0)]));}),_0x547eae;}async[a0_0x119f02(0x1b5)](){const _0x457c69=a0_0x119f02,_0x311361=document[_0x457c69(0x1b7)](_0x457c69(0x1d6));_0x311361[_0x457c69(0x19e)]='';const _0x448b6c=await auth[_0x457c69(0x185)](_0x457c69(0x180));if(!_0x448b6c)return;const _0x222ea7=document['getElementById'](_0x457c69(0x19f)),_0x1e7a2a=document[_0x457c69(0x1b7)](_0x457c69(0x1b1)),_0x366d8a=await this['filteredSubmissions']();_0x366d8a[_0x457c69(0x1a4)]((_0x210cea,_0x17a982)=>{const _0x1ec526=_0x457c69,_0x551751=_0x1ec526(0x184)+_0x17a982,_0x323563=_0x222ea7['content']['cloneNode'](!![]),_0x3bb160=_0x323563[_0x1ec526(0x1d1)]('tr'),_0x229cf2=_0x3bb160[_0x1ec526(0x1d1)](_0x1ec526(0x1bf));_0x229cf2[_0x1ec526(0x17e)][_0x1ec526(0x1c6)]=_0x210cea[_0x1ec526(0x18c)],_0x229cf2[_0x1ec526(0x18b)]=_0x210cea[_0x1ec526(0x17d)],_0x3bb160[_0x1ec526(0x1d1)]('.project-number')[_0x1ec526(0x1c8)]=_0x210cea[_0x1ec526(0x1a2)],_0x3bb160[_0x1ec526(0x1d1)](_0x1ec526(0x1a1))[_0x1ec526(0x1c8)]=_0x210cea[_0x1ec526(0x1d0)],_0x3bb160[_0x1ec526(0x1d1)](_0x1ec526(0x183))[_0x1ec526(0x1c8)]=_0x210cea[_0x1ec526(0x181)];const _0x37abbc=_0x3bb160['querySelector']('.toggle-details'),_0x3c1481=_0x37abbc[_0x1ec526(0x1d1)](_0x1ec526(0x1a7)),_0x321b3e=_0x3bb160['querySelector'](_0x1ec526(0x1c5));_0x321b3e[_0x1ec526(0x17e)]['id']=_0x210cea[_0x1ec526(0x18c)],_0x321b3e['dataset']['name']=_0x210cea['canvasName'],_0x321b3e[_0x1ec526(0x17e)][_0x1ec526(0x1c2)]=_0x210cea[_0x1ec526(0x1a2)];const _0x217b56=_0x1e7a2a[_0x1ec526(0x1ab)]['cloneNode'](!![]),_0x199789=_0x217b56['querySelector']('tr');_0x199789['id']=_0x551751;const _0x4e04b7=_0x199789[_0x1ec526(0x1d1)](_0x1ec526(0x1ba));this['renderFixesGroupedByFile'](_0x210cea[_0x1ec526(0x1bb)]||[],_0x4e04b7),_0x37abbc[_0x1ec526(0x1ce)](_0x1ec526(0x199),_0x4a084d=>{const _0x111e82=_0x1ec526;_0x4a084d['preventDefault']();const _0x451cb4=!_0x199789[_0x111e82(0x1bd)];_0x199789[_0x111e82(0x1bd)]=_0x451cb4,_0x3c1481[_0x111e82(0x1b0)](_0x111e82(0x1b6),_0x451cb4?'chevron-right':_0x111e82(0x1a8));}),_0x229cf2['addEventListener'](_0x1ec526(0x1a3),async()=>{const _0x2f800b=_0x1ec526,_0x3f6d85=_0x229cf2[_0x2f800b(0x17e)]['submissionId'];console[_0x2f800b(0x1cf)](_0x3f6d85,_0x229cf2[_0x2f800b(0x18b)]),db[_0x2f800b(0x188)](_0x3f6d85,_0x229cf2[_0x2f800b(0x18b)]);}),_0x321b3e[_0x1ec526(0x1ce)](_0x1ec526(0x199),async _0x31bb81=>{const _0x5f1d61=_0x1ec526;_0x31bb81['preventDefault']();const _0x436cd3=await this[_0x5f1d61(0x1d7)](_0x210cea[_0x5f1d61(0x18c)],_0x210cea);_0x436cd3&&(await db[_0x5f1d61(0x1c3)](_0x210cea['$id']),this[_0x5f1d61(0x1b5)]());}),_0x311361[_0x1ec526(0x194)](_0x3bb160),_0x311361['appendChild'](_0x199789);});}[a0_0x119f02(0x1b2)](_0x33fbb8,_0xef363d){const _0x4df3d8=a0_0x119f02;_0xef363d[_0x4df3d8(0x19e)]='';if(!_0x33fbb8[_0x4df3d8(0x198)]){_0xef363d[_0x4df3d8(0x19e)]=_0x4df3d8(0x1a5);return;}const _0x30cd33=document['getElementById'](_0x4df3d8(0x1aa)),_0x56a2f0={};for(const _0x2c9078 of _0x33fbb8){(_0x56a2f0[_0x2c9078[_0x4df3d8(0x1a9)]]??=[])[_0x4df3d8(0x195)](_0x2c9078);}for(const [_0x189da7,_0x111598]of Object[_0x4df3d8(0x17f)](_0x56a2f0)){const _0x46866d=_0x30cd33['content']['cloneNode'](!![]);_0x46866d[_0x4df3d8(0x1d1)](_0x4df3d8(0x1cd))[_0x4df3d8(0x1c8)]=_0x189da7;const _0x510665=_0x46866d[_0x4df3d8(0x1d1)]('ul');_0x111598['forEach'](_0x4cc939=>{const _0x443c62=_0x4df3d8,_0x47391a=document['createElement']('li');_0x47391a[_0x443c62(0x1d5)][_0x443c62(0x1ae)]('uk-margin-left'),_0x4cc939[_0x443c62(0x1b9)]===0x0&&_0x47391a[_0x443c62(0x1d5)][_0x443c62(0x1ae)]('uk-text-muted'),_0x47391a[_0x443c62(0x1c8)]=_0x443c62(0x189)+_0x4cc939['lineNumber']+_0x443c62(0x1ac)+_0x4cc939[_0x443c62(0x19d)]+_0x443c62(0x1cb)+_0x4cc939['eligiblePoints'],_0x510665['appendChild'](_0x47391a);}),_0xef363d[_0x4df3d8(0x194)](_0x46866d);}}async[a0_0x119f02(0x1d7)](_0x4a164c,_0x24a653){const _0x393fb7=a0_0x119f02,_0x32b956='Delete\x20Project\x20'+_0x24a653[_0x393fb7(0x1a2)]+'\x20submission\x20from\x20'+_0x24a653[_0x393fb7(0x1d0)]+'?';return new Promise(_0x19c1e1=>{const _0xbb4ff=_0x393fb7;UIkit[_0xbb4ff(0x193)][_0xbb4ff(0x1b8)](_0x32b956)[_0xbb4ff(0x190)](()=>_0x19c1e1(!![]),()=>_0x19c1e1(![]));});}}const adminUI=new AdmninUI();((async()=>{const _0xcc678c=a0_0x119f02,_0x32031f=await auth['userHasTeam']('admin');if(!_0x32031f){document['documentElement'][_0xcc678c(0x19e)]='<p>401\x20Unauthorized</p>',document['title']='Unauthorized';return;}document[_0xcc678c(0x191)][_0xcc678c(0x1d4)][_0xcc678c(0x1ad)]=_0xcc678c(0x1af),adminUI[_0xcc678c(0x1b5)]();})());function a0_0x346a(){const _0x5f2a89=['1626138RLRuno','updateSubmissionGraded','line\x20','toLowerCase','checked','$id','allSubmissions','9sjUyxo','12TNAZUl','then','documentElement','4RilFoe','modal','appendChild','push','value','255300AaGSeG','length','click','all','project-filter','split','deduction','innerHTML','submission-row-template','2ibnCGv','.canvas-name','projectNumber','change','forEach','<em>No\x20fixes</em>','href','span','chevron-down','fileName','fix-file-template','content',',\x20deduction\x20','visibility','add','visible','setAttribute','submission-details-template','renderFixesGroupedByFile','includes','3602395zqJlsT','renderAdminTable','uk-icon','getElementById','confirm','eligiblePoints','.fixes-container','fixes','4837640KpiHDr','hidden','location','.submission-checkbox','filteredSubmissions','trim','projnumber','deleteSubmission','4821200wuxyyW','.delete-submission','submissionId','sort','textContent','clear-filters','input',',\x20eligible\x20','index.html','.file-name','addEventListener','log','canvasName','querySelector','23922481aMttGI','36yuEASQ','style','classList','admin-table-body','confirmDelete','graded','dataset','entries','admin','studentID','filter','.student-id','sub-details-','userHasTeam','15610CHZqVD'];a0_0x346a=function(){return _0x5f2a89;};return a0_0x346a();}