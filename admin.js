const a0_0x200b3d=a0_0x35de;(function(_0x355764,_0x403bd6){const _0x4adc86=a0_0x35de,_0x32f0ba=_0x355764();while(!![]){try{const _0x20eb28=-parseInt(_0x4adc86(0x134))/0x1*(-parseInt(_0x4adc86(0x171))/0x2)+-parseInt(_0x4adc86(0x13f))/0x3*(parseInt(_0x4adc86(0x14e))/0x4)+-parseInt(_0x4adc86(0x16b))/0x5+-parseInt(_0x4adc86(0x17b))/0x6+parseInt(_0x4adc86(0x13e))/0x7*(parseInt(_0x4adc86(0x123))/0x8)+parseInt(_0x4adc86(0x121))/0x9*(-parseInt(_0x4adc86(0x147))/0xa)+parseInt(_0x4adc86(0x13d))/0xb*(parseInt(_0x4adc86(0x135))/0xc);if(_0x20eb28===_0x403bd6)break;else _0x32f0ba['push'](_0x32f0ba['shift']());}catch(_0x562f23){_0x32f0ba['push'](_0x32f0ba['shift']());}}}(a0_0x2313,0x5cd14));import{db}from'./submissionService.js';function a0_0x2313(){const _0x5885ee=['location','updateSubmissionGraded','admin','userHasTeam','zybookId','input','projectUrl','add','content','106oLTVgo','5820qOJlFk','.toggle-details','appendChild','entries','innerHTML','value','?activity_user_name=','https://learn.zybooks.com/zybook/DEANZACIS22BHalabeFall2025','17039GGiDhe','1217951dLUMyW','9CQOIjo','name','querySelector','modal','/section/','lineNumber','length','deduction','3550riDdtP','Delete\x20Project\x20','preventDefault','textContent','canvasName','alert','uk-text-muted','350388OapxdX','split','style','/chapter/','.student-id','chevron-right','toLowerCase','dataset','fileName','.project-number','renderFixesGroupedByFile','.fixes-container','studentID','uk-icon','<p>401\x20Unauthorized</p>','filter','getElementById','sub-details-','change','project-filter','noopener,noreferrer','confirm','fixes','uk-margin-left','classList','student-filter','$id','admin-table-body','log','1920260SeJrTg','.delete-submission','projectNumber','click','visibility','onProjectLinkSelect','4924EXjRJI','.file-name','localeCompare','graded','hidden','_blank','title','listSubmissions','submission-row-template','includes','1081686JZnJFp','<em>No\x20fixes</em>','visible','href','renderAdminTable','all','eligiblePoints','cloneNode','submissionId','.submission-checkbox','_allSubmissions','sort','projnumber','checked','chevron-down','then','filteredSubmissions','open','confirmDelete','trim',',\x20id\x20','12699kLZsMU','push','32fgKNxu','student-btn','.project-link','addEventListener',',\x20deduction\x20','forEach','createElement','\x20submission\x20from\x20'];a0_0x2313=function(){return _0x5885ee;};return a0_0x2313();}import{auth}from'./auth.js';const zybookEdition=a0_0x200b3d(0x13c),zybookProjects={0x0:{'chapter':0xb,'section':0x1,'labId':0x7b99362},0x1:{'chapter':0xb,'section':0x2,'labId':0x76e5b2d},0x2:{'chapter':0xb,'section':0x3,'labId':0x76e5b2e},0x3:{'chapter':0xb,'section':0x4,'labId':0x76e5b2f},0x4:{'chapter':0xb,'section':0x5,'labId':0x76e5b30}};function a0_0x35de(_0x15e35d,_0x4679ac){const _0x231319=a0_0x2313();return a0_0x35de=function(_0x35dee6,_0xe1e924){_0x35dee6=_0x35dee6-0x113;let _0x17096b=_0x231319[_0x35dee6];return _0x17096b;},a0_0x35de(_0x15e35d,_0x4679ac);}class AdmninUI{constructor(){const _0x2d7070=a0_0x200b3d;this[_0x2d7070(0x116)]=null,document['getElementById']('project-filter')[_0x2d7070(0x126)](_0x2d7070(0x160),()=>this['renderAdminTable']()),document[_0x2d7070(0x15e)](_0x2d7070(0x167))['addEventListener'](_0x2d7070(0x130),()=>this['renderAdminTable']()),document[_0x2d7070(0x15e)]('clear-filters')['addEventListener'](_0x2d7070(0x16e),()=>{const _0x1d341c=_0x2d7070;document['getElementById']('project-filter')[_0x1d341c(0x13a)]=_0x1d341c(0x180),document['getElementById'](_0x1d341c(0x167))[_0x1d341c(0x13a)]='',this['renderAdminTable']();}),document[_0x2d7070(0x15e)](_0x2d7070(0x124))[_0x2d7070(0x126)](_0x2d7070(0x16e),()=>{const _0x43dead=_0x2d7070;window[_0x43dead(0x12b)][_0x43dead(0x17e)]='index.html';});}async[a0_0x200b3d(0x11c)](){const _0x50cdc3=a0_0x200b3d;this[_0x50cdc3(0x116)]===null&&(this[_0x50cdc3(0x116)]=await db[_0x50cdc3(0x178)]());let _0x56a915=this['_allSubmissions'];const _0x1f9238=document['getElementById'](_0x50cdc3(0x161))?.[_0x50cdc3(0x13a)]??_0x50cdc3(0x180),_0x37998b=document[_0x50cdc3(0x15e)](_0x50cdc3(0x167))?.[_0x50cdc3(0x13a)][_0x50cdc3(0x154)]()[_0x50cdc3(0x11f)]()??'';_0x1f9238!==_0x50cdc3(0x180)&&(_0x56a915=_0x56a915[_0x50cdc3(0x15d)](_0x2adf98=>String(_0x2adf98[_0x50cdc3(0x16d)])===_0x1f9238));_0x37998b&&(_0x56a915=_0x56a915['filter'](_0x3807a8=>_0x3807a8[_0x50cdc3(0x14b)][_0x50cdc3(0x154)]()[_0x50cdc3(0x17a)](_0x37998b)||String(_0x3807a8[_0x50cdc3(0x15a)])[_0x50cdc3(0x17a)](_0x37998b)));const _0x100806=(_0x481ed1='')=>{const _0x22ebf8=_0x50cdc3,_0x129090=_0x481ed1['trim']()[_0x22ebf8(0x14f)](/\s+/);return _0x129090['at'](-0x1)??'';};return _0x56a915=[..._0x56a915][_0x50cdc3(0x117)]((_0x5ad311,_0x3f7bc0)=>{const _0xc69e8f=_0x50cdc3,_0x5cbf59=Number(_0x5ad311[_0xc69e8f(0x16d)]),_0x1392c6=Number(_0x3f7bc0[_0xc69e8f(0x16d)]);if(_0x5cbf59!==_0x1392c6)return _0x5cbf59-_0x1392c6;return _0x100806(_0x5ad311[_0xc69e8f(0x14b)])[_0xc69e8f(0x173)](_0x100806(_0x3f7bc0['canvasName']));}),_0x56a915;}async['renderAdminTable'](){const _0x24a502=a0_0x200b3d,_0x57f1b2=document[_0x24a502(0x15e)](_0x24a502(0x169));_0x57f1b2[_0x24a502(0x139)]='';const _0x278d95=await auth[_0x24a502(0x12e)](_0x24a502(0x12d));if(!_0x278d95)return;const _0x2dd00e=document[_0x24a502(0x15e)](_0x24a502(0x179)),_0x349ebc=document['getElementById']('submission-details-template'),_0x3cb327=await this[_0x24a502(0x11c)]();_0x3cb327[_0x24a502(0x128)]((_0x5bc909,_0x2ba185)=>{const _0x25ad09=_0x24a502,_0x12bc5a=_0x25ad09(0x15f)+_0x2ba185,_0x20de7c=_0x2dd00e[_0x25ad09(0x133)][_0x25ad09(0x113)](!![]),_0x323f01=_0x20de7c[_0x25ad09(0x141)]('tr'),_0x2f3be5=_0x323f01[_0x25ad09(0x141)](_0x25ad09(0x136)),_0xc37c45=_0x2f3be5[_0x25ad09(0x141)]('span'),_0x3eb80c=_0x323f01['querySelector'](_0x25ad09(0x115));_0x3eb80c['dataset']['submissionId']=_0x5bc909[_0x25ad09(0x168)],_0x3eb80c['checked']=_0x5bc909[_0x25ad09(0x174)],_0x323f01[_0x25ad09(0x141)](_0x25ad09(0x157))[_0x25ad09(0x14a)]=_0x5bc909[_0x25ad09(0x16d)],_0x323f01[_0x25ad09(0x141)]('.canvas-name')[_0x25ad09(0x14a)]=_0x5bc909[_0x25ad09(0x14b)],_0x323f01[_0x25ad09(0x141)](_0x25ad09(0x152))[_0x25ad09(0x14a)]=_0x5bc909['studentID'];const _0x163066=_0x323f01[_0x25ad09(0x141)](_0x25ad09(0x16c));_0x163066[_0x25ad09(0x155)]['id']=_0x5bc909[_0x25ad09(0x168)],_0x163066[_0x25ad09(0x155)][_0x25ad09(0x140)]=_0x5bc909['canvasName'],_0x163066[_0x25ad09(0x155)][_0x25ad09(0x118)]=_0x5bc909[_0x25ad09(0x16d)],_0x323f01[_0x25ad09(0x141)](_0x25ad09(0x125))[_0x25ad09(0x126)](_0x25ad09(0x16e),_0x387ade=>{_0x387ade['preventDefault'](),this['onProjectLinkSelect'](_0x5bc909);});const _0x523c67=_0x349ebc[_0x25ad09(0x133)][_0x25ad09(0x113)](!![]),_0x360002=_0x523c67['querySelector']('tr');_0x360002['id']=_0x12bc5a;const _0x4db545=_0x360002['querySelector'](_0x25ad09(0x159));this[_0x25ad09(0x158)](_0x5bc909[_0x25ad09(0x164)]||[],_0x4db545),_0x2f3be5[_0x25ad09(0x126)](_0x25ad09(0x16e),_0x46c780=>{const _0x2f643b=_0x25ad09;_0x46c780[_0x2f643b(0x149)]();const _0x53746c=!_0x360002['hidden'];_0x360002[_0x2f643b(0x175)]=_0x53746c,_0xc37c45['setAttribute'](_0x2f643b(0x15b),_0x53746c?_0x2f643b(0x153):_0x2f643b(0x11a));}),_0x3eb80c[_0x25ad09(0x126)](_0x25ad09(0x160),async()=>{const _0x528aa1=_0x25ad09,_0x1af423=_0x3eb80c[_0x528aa1(0x155)][_0x528aa1(0x114)];console[_0x528aa1(0x16a)](_0x1af423,_0x3eb80c[_0x528aa1(0x119)]),db[_0x528aa1(0x12c)](_0x1af423,_0x3eb80c[_0x528aa1(0x119)]);}),_0x163066[_0x25ad09(0x126)]('click',async _0x352b82=>{const _0x3c6c96=_0x25ad09;_0x352b82[_0x3c6c96(0x149)]();const _0x4d85f4=await this[_0x3c6c96(0x11e)](_0x5bc909[_0x3c6c96(0x168)],_0x5bc909);_0x4d85f4&&(await db['deleteSubmission'](_0x5bc909['$id']),this[_0x3c6c96(0x17f)]());}),_0x57f1b2[_0x25ad09(0x137)](_0x323f01),_0x57f1b2[_0x25ad09(0x137)](_0x360002);});}[a0_0x200b3d(0x158)](_0x200616,_0x2fb374){const _0x38e5ed=a0_0x200b3d;_0x2fb374[_0x38e5ed(0x139)]='';if(!_0x200616[_0x38e5ed(0x145)]){_0x2fb374[_0x38e5ed(0x139)]=_0x38e5ed(0x17c);return;}const _0x18496c=document[_0x38e5ed(0x15e)]('fix-file-template'),_0x29ec80={};for(const _0x350a6e of _0x200616){(_0x29ec80[_0x350a6e[_0x38e5ed(0x156)]]??=[])[_0x38e5ed(0x122)](_0x350a6e);}for(const [_0x1145b5,_0x5d637b]of Object[_0x38e5ed(0x138)](_0x29ec80)){const _0x1b6b40=_0x18496c[_0x38e5ed(0x133)][_0x38e5ed(0x113)](!![]);_0x1b6b40[_0x38e5ed(0x141)](_0x38e5ed(0x172))[_0x38e5ed(0x14a)]=_0x1145b5;const _0x3338ac=_0x1b6b40['querySelector']('ul');_0x5d637b[_0x38e5ed(0x128)](_0x12cab9=>{const _0x853410=_0x38e5ed,_0xa707e5=document[_0x853410(0x129)]('li');_0xa707e5[_0x853410(0x166)][_0x853410(0x132)](_0x853410(0x165)),_0x12cab9[_0x853410(0x181)]===0x0&&_0xa707e5[_0x853410(0x166)][_0x853410(0x132)](_0x853410(0x14d)),_0xa707e5[_0x853410(0x14a)]='line\x20'+_0x12cab9[_0x853410(0x144)]+_0x853410(0x127)+_0x12cab9[_0x853410(0x146)]+',\x20eligible\x20'+_0x12cab9[_0x853410(0x181)],_0x3338ac[_0x853410(0x137)](_0xa707e5);}),_0x2fb374['appendChild'](_0x1b6b40);}}async['confirmDelete'](_0x49b32c,_0x1d122f){const _0x2f74b3=a0_0x200b3d,_0x3212fa=_0x2f74b3(0x148)+_0x1d122f[_0x2f74b3(0x16d)]+_0x2f74b3(0x12a)+_0x1d122f[_0x2f74b3(0x14b)]+'?';return new Promise(_0x4e7974=>{const _0x7da0dc=_0x2f74b3;UIkit[_0x7da0dc(0x142)][_0x7da0dc(0x163)](_0x3212fa)[_0x7da0dc(0x11b)](()=>_0x4e7974(!![]),()=>_0x4e7974(![]));});}async[a0_0x200b3d(0x170)](_0x120746){const _0x3ddc6e=a0_0x200b3d;if(!_0x120746[_0x3ddc6e(0x131)]){const _0x57fcf0=await db['zybookStudent'](_0x120746[_0x3ddc6e(0x15a)]);if(_0x57fcf0){const {chapter:_0x4a7e3e,section:_0x2a0c48,labId:_0x5a9bc4}=zybookProjects[_0x120746['projectNumber']],_0x2456c8=encodeURIComponent(_0x120746[_0x3ddc6e(0x14b)]),_0x504996=zybookEdition+_0x3ddc6e(0x151)+_0x4a7e3e+_0x3ddc6e(0x143)+_0x2a0c48+'/advanced-zylab/'+_0x5a9bc4+_0x3ddc6e(0x13b)+_0x2456c8+'v&user_id='+_0x57fcf0[_0x3ddc6e(0x12f)];_0x120746['projectUrl']=_0x504996;}else UIkit['modal'][_0x3ddc6e(0x14c)]('zyBook\x20student\x20not\x20found:\x20'+_0x120746['canvasName']+_0x3ddc6e(0x120)+_0x120746['studentID']);}_0x120746[_0x3ddc6e(0x131)]&&window[_0x3ddc6e(0x11d)](_0x120746[_0x3ddc6e(0x131)],_0x3ddc6e(0x176),_0x3ddc6e(0x162));}}const adminUI=new AdmninUI();((async()=>{const _0x53dcbe=a0_0x200b3d,_0x1c51f0=await auth[_0x53dcbe(0x12e)](_0x53dcbe(0x12d));if(!_0x1c51f0){document['documentElement'][_0x53dcbe(0x139)]=_0x53dcbe(0x15c),document[_0x53dcbe(0x177)]='Unauthorized';return;}document['documentElement'][_0x53dcbe(0x150)][_0x53dcbe(0x16f)]=_0x53dcbe(0x17d),adminUI[_0x53dcbe(0x17f)]();})());