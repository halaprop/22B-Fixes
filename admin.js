const a0_0x6af793=a0_0x55b9;(function(_0x346269,_0x4af33e){const _0xf1504f=a0_0x55b9,_0x2f1333=_0x346269();while(!![]){try{const _0xb6abf2=-parseInt(_0xf1504f(0xc2))/0x1+parseInt(_0xf1504f(0xfd))/0x2+parseInt(_0xf1504f(0xeb))/0x3+parseInt(_0xf1504f(0xde))/0x4*(parseInt(_0xf1504f(0xcd))/0x5)+parseInt(_0xf1504f(0xc3))/0x6+-parseInt(_0xf1504f(0xe3))/0x7*(parseInt(_0xf1504f(0xff))/0x8)+-parseInt(_0xf1504f(0x111))/0x9*(parseInt(_0xf1504f(0xea))/0xa);if(_0xb6abf2===_0x4af33e)break;else _0x2f1333['push'](_0x2f1333['shift']());}catch(_0x3d656d){_0x2f1333['push'](_0x2f1333['shift']());}}}(a0_0x15a8,0xbe304));import{db}from'./submissionService.js';import{auth}from'./auth.js';function a0_0x15a8(){const _0x51514d=['studentID','visible','noopener,noreferrer','trim','canvasName','querySelector','renderFixesGroupedByFile','4BcZBQE','add','location','submissionId','sort','735YPGmEX','.submission-checkbox','toLowerCase','then','split','admin','entries','70xnpihG','4427055KHKPgV','preventDefault','.project-number','eligiblePoints','userHasTeam','$id','uk-text-muted','fixes','https://learn.zybooks.com/zybook/DEANZACIS22BHalabeFall2025','zyBook\x20student\x20not\x20found:\x20','all','/chapter/','Delete\x20Project\x20','includes','href','Unauthorized','cloneNode','confirm','1038012uByrZR','<p>401\x20Unauthorized</p>','76792TEsjfx','student-filter','dataset','span','deduction','push','fileName','zybookId','graded','change','projectNumber','classList','content','.project-link','modal','textContent','fix-file-template','submission-details-template','1013607sBObTz','documentElement','index.html','innerHTML',',\x20eligible\x20','getElementById','uk-icon','zybookStudent','length','deleteSubmission','project-filter','/advanced-zylab/','open','name','sub-details-','createElement','click','appendChild','value','projectUrl','chevron-right','checked','addEventListener','filter','326627DieZwK','357102hLfCYc','confirmDelete','.delete-submission','style','filteredSubmissions','.file-name','log','alert','setAttribute','line\x20','4238435rXKMdV','_allSubmissions','v&user_id=','projnumber','hidden','renderAdminTable','localeCompare','onProjectLinkSelect','visibility','.student-id'];a0_0x15a8=function(){return _0x51514d;};return a0_0x15a8();}const zybookEdition=a0_0x6af793(0xf3),zybookProjects={0x0:{'chapter':0xb,'section':0x1,'labId':0x7b99362},0x1:{'chapter':0xb,'section':0x2,'labId':0x76e5b2d},0x2:{'chapter':0xb,'section':0x3,'labId':0x76e5b2e},0x3:{'chapter':0xb,'section':0x4,'labId':0x76e5b2f},0x4:{'chapter':0xb,'section':0x5,'labId':0x76e5b30}};function a0_0x55b9(_0x5a484e,_0x4d9a5c){const _0x15a866=a0_0x15a8();return a0_0x55b9=function(_0x55b90a,_0x5717e4){_0x55b90a=_0x55b90a-0xad;let _0x18f62e=_0x15a866[_0x55b90a];return _0x18f62e;},a0_0x55b9(_0x5a484e,_0x4d9a5c);}class AdmninUI{constructor(){const _0x25f13c=a0_0x6af793;this[_0x25f13c(0xce)]=null,document[_0x25f13c(0xaf)]('project-filter')[_0x25f13c(0xc0)](_0x25f13c(0x108),()=>this[_0x25f13c(0xd2)]()),document[_0x25f13c(0xaf)](_0x25f13c(0x100))[_0x25f13c(0xc0)]('input',()=>this[_0x25f13c(0xd2)]()),document[_0x25f13c(0xaf)]('clear-filters')[_0x25f13c(0xc0)](_0x25f13c(0xba),()=>{const _0x4b7a35=_0x25f13c;document['getElementById'](_0x4b7a35(0xb4))[_0x4b7a35(0xbc)]=_0x4b7a35(0xf5),document[_0x4b7a35(0xaf)](_0x4b7a35(0x100))['value']='',this[_0x4b7a35(0xd2)]();}),document[_0x25f13c(0xaf)]('student-btn')[_0x25f13c(0xc0)](_0x25f13c(0xba),()=>{const _0x58f035=_0x25f13c;window[_0x58f035(0xe0)][_0x58f035(0xf9)]=_0x58f035(0x113);});}async[a0_0x6af793(0xc7)](){const _0x529116=a0_0x6af793;this['_allSubmissions']===null&&(this['_allSubmissions']=await db['listSubmissions']());let _0x2bef95=this['_allSubmissions'];const _0x423832=document['getElementById'](_0x529116(0xb4))?.[_0x529116(0xbc)]??'all',_0x3dd84e=document[_0x529116(0xaf)](_0x529116(0x100))?.[_0x529116(0xbc)][_0x529116(0xe5)]()[_0x529116(0xda)]()??'';_0x423832!==_0x529116(0xf5)&&(_0x2bef95=_0x2bef95[_0x529116(0xc1)](_0xb7ebaf=>String(_0xb7ebaf[_0x529116(0x109)])===_0x423832));_0x3dd84e&&(_0x2bef95=_0x2bef95[_0x529116(0xc1)](_0x187f35=>_0x187f35[_0x529116(0xdb)][_0x529116(0xe5)]()[_0x529116(0xf8)](_0x3dd84e)||String(_0x187f35[_0x529116(0xd7)])[_0x529116(0xf8)](_0x3dd84e)));const _0x579148=(_0x370f28='')=>{const _0x4d4c84=_0x529116,_0x147409=_0x370f28['trim']()[_0x4d4c84(0xe7)](/\s+/);return _0x147409['at'](-0x1)??'';};return _0x2bef95=[..._0x2bef95][_0x529116(0xe2)]((_0x3f78d3,_0x1d7d7d)=>{const _0x3c5b51=_0x529116,_0xb6240c=Number(_0x3f78d3[_0x3c5b51(0x109)]),_0x81bf2a=Number(_0x1d7d7d[_0x3c5b51(0x109)]);if(_0xb6240c!==_0x81bf2a)return _0xb6240c-_0x81bf2a;return _0x579148(_0x3f78d3['canvasName'])[_0x3c5b51(0xd3)](_0x579148(_0x1d7d7d[_0x3c5b51(0xdb)]));}),_0x2bef95;}async[a0_0x6af793(0xd2)](){const _0x529db7=a0_0x6af793,_0x3e4efd=document[_0x529db7(0xaf)]('admin-table-body');_0x3e4efd[_0x529db7(0xad)]='';const _0x1c9591=await auth['userHasTeam'](_0x529db7(0xe8));if(!_0x1c9591)return;const _0x3f2d4d=document[_0x529db7(0xaf)]('submission-row-template'),_0x1c4d04=document[_0x529db7(0xaf)](_0x529db7(0x110)),_0x304bf4=await this[_0x529db7(0xc7)]();_0x304bf4['forEach']((_0x95f049,_0x43d86a)=>{const _0x3f6748=_0x529db7,_0x1ebb33=_0x3f6748(0xb8)+_0x43d86a,_0x5c720e=_0x3f2d4d[_0x3f6748(0x10b)][_0x3f6748(0xfb)](!![]),_0x650ce4=_0x5c720e[_0x3f6748(0xdc)]('tr'),_0x3a9fca=_0x650ce4[_0x3f6748(0xdc)]('.toggle-details'),_0x59af23=_0x3a9fca[_0x3f6748(0xdc)](_0x3f6748(0x102)),_0x811722=_0x650ce4[_0x3f6748(0xdc)](_0x3f6748(0xe4));_0x811722[_0x3f6748(0x101)]['submissionId']=_0x95f049[_0x3f6748(0xf0)],_0x811722[_0x3f6748(0xbf)]=_0x95f049[_0x3f6748(0x107)],_0x650ce4[_0x3f6748(0xdc)](_0x3f6748(0xed))['textContent']=_0x95f049[_0x3f6748(0x109)],_0x650ce4[_0x3f6748(0xdc)]('.canvas-name')[_0x3f6748(0x10e)]=_0x95f049[_0x3f6748(0xdb)],_0x650ce4['querySelector'](_0x3f6748(0xd6))[_0x3f6748(0x10e)]=_0x95f049[_0x3f6748(0xd7)];const _0x1f11e3=_0x650ce4['querySelector'](_0x3f6748(0xc5));_0x1f11e3[_0x3f6748(0x101)]['id']=_0x95f049[_0x3f6748(0xf0)],_0x1f11e3[_0x3f6748(0x101)][_0x3f6748(0xb7)]=_0x95f049[_0x3f6748(0xdb)],_0x1f11e3[_0x3f6748(0x101)][_0x3f6748(0xd0)]=_0x95f049[_0x3f6748(0x109)],_0x650ce4['querySelector'](_0x3f6748(0x10c))[_0x3f6748(0xc0)](_0x3f6748(0xba),_0x2d52b1=>{const _0x29f51e=_0x3f6748;_0x2d52b1[_0x29f51e(0xec)](),this[_0x29f51e(0xd4)](_0x95f049);});const _0x44291b=_0x1c4d04['content'][_0x3f6748(0xfb)](!![]),_0x18d928=_0x44291b[_0x3f6748(0xdc)]('tr');_0x18d928['id']=_0x1ebb33;const _0x4748fe=_0x18d928[_0x3f6748(0xdc)]('.fixes-container');this[_0x3f6748(0xdd)](_0x95f049[_0x3f6748(0xf2)]||[],_0x4748fe),_0x3a9fca[_0x3f6748(0xc0)](_0x3f6748(0xba),_0x18cbe8=>{const _0x5109a9=_0x3f6748;_0x18cbe8['preventDefault']();const _0x5614d5=!_0x18d928[_0x5109a9(0xd1)];_0x18d928[_0x5109a9(0xd1)]=_0x5614d5,_0x59af23[_0x5109a9(0xcb)](_0x5109a9(0xb0),_0x5614d5?_0x5109a9(0xbe):'chevron-down');}),_0x811722[_0x3f6748(0xc0)](_0x3f6748(0x108),async()=>{const _0x175847=_0x3f6748,_0x521d0d=_0x811722[_0x175847(0x101)][_0x175847(0xe1)];console[_0x175847(0xc9)](_0x521d0d,_0x811722['checked']),db['updateSubmissionGraded'](_0x521d0d,_0x811722[_0x175847(0xbf)]);}),_0x1f11e3[_0x3f6748(0xc0)]('click',async _0x443dc1=>{const _0x16ac47=_0x3f6748;_0x443dc1[_0x16ac47(0xec)]();const _0x528d0f=await this[_0x16ac47(0xc4)](_0x95f049['$id'],_0x95f049);_0x528d0f&&(await db[_0x16ac47(0xb3)](_0x95f049['$id']),this['renderAdminTable']());}),_0x3e4efd[_0x3f6748(0xbb)](_0x650ce4),_0x3e4efd[_0x3f6748(0xbb)](_0x18d928);});}[a0_0x6af793(0xdd)](_0x20b572,_0x359a15){const _0x1e5389=a0_0x6af793;_0x359a15[_0x1e5389(0xad)]='';if(!_0x20b572[_0x1e5389(0xb2)]){_0x359a15[_0x1e5389(0xad)]='<em>No\x20fixes</em>';return;}const _0x56f363=document[_0x1e5389(0xaf)](_0x1e5389(0x10f)),_0xa139b1={};for(const _0x4ad7f1 of _0x20b572){(_0xa139b1[_0x4ad7f1[_0x1e5389(0x105)]]??=[])[_0x1e5389(0x104)](_0x4ad7f1);}for(const [_0x541147,_0x3f2bea]of Object[_0x1e5389(0xe9)](_0xa139b1)){const _0x3089fd=_0x56f363[_0x1e5389(0x10b)][_0x1e5389(0xfb)](!![]);_0x3089fd[_0x1e5389(0xdc)](_0x1e5389(0xc8))[_0x1e5389(0x10e)]=_0x541147;const _0x3847a3=_0x3089fd[_0x1e5389(0xdc)]('ul');_0x3f2bea['forEach'](_0x58b59d=>{const _0x30d1c3=_0x1e5389,_0x1a70e0=document[_0x30d1c3(0xb9)]('li');_0x1a70e0['classList'][_0x30d1c3(0xdf)]('uk-margin-left'),_0x58b59d[_0x30d1c3(0xee)]===0x0&&_0x1a70e0[_0x30d1c3(0x10a)][_0x30d1c3(0xdf)](_0x30d1c3(0xf1)),_0x1a70e0[_0x30d1c3(0x10e)]=_0x30d1c3(0xcc)+_0x58b59d['lineNumber']+',\x20deduction\x20'+_0x58b59d[_0x30d1c3(0x103)]+_0x30d1c3(0xae)+_0x58b59d['eligiblePoints'],_0x3847a3['appendChild'](_0x1a70e0);}),_0x359a15['appendChild'](_0x3089fd);}}async[a0_0x6af793(0xc4)](_0xbddd5c,_0x5437a3){const _0xe04c1a=a0_0x6af793,_0x1e9e7f=_0xe04c1a(0xf7)+_0x5437a3['projectNumber']+'\x20submission\x20from\x20'+_0x5437a3[_0xe04c1a(0xdb)]+'?';return new Promise(_0x58fa1c=>{const _0x1e5483=_0xe04c1a;UIkit[_0x1e5483(0x10d)][_0x1e5483(0xfc)](_0x1e9e7f)[_0x1e5483(0xe6)](()=>_0x58fa1c(!![]),()=>_0x58fa1c(![]));});}async[a0_0x6af793(0xd4)](_0x58c9bb){const _0x5b3a8a=a0_0x6af793;if(!_0x58c9bb[_0x5b3a8a(0xbd)]){const _0x1c41b9=await db[_0x5b3a8a(0xb1)](_0x58c9bb['studentID']);if(_0x1c41b9){const {chapter:_0x5e35d1,section:_0xd84d49,labId:_0x174b05}=zybookProjects[_0x58c9bb[_0x5b3a8a(0x109)]],_0x2f3c97=encodeURIComponent(_0x58c9bb[_0x5b3a8a(0xdb)]),_0x4c92c5=zybookEdition+_0x5b3a8a(0xf6)+_0x5e35d1+'/section/'+_0xd84d49+_0x5b3a8a(0xb5)+_0x174b05+'?activity_user_name='+_0x2f3c97+_0x5b3a8a(0xcf)+_0x1c41b9[_0x5b3a8a(0x106)];_0x58c9bb[_0x5b3a8a(0xbd)]=_0x4c92c5;}else UIkit[_0x5b3a8a(0x10d)][_0x5b3a8a(0xca)](_0x5b3a8a(0xf4)+_0x58c9bb['canvasName']+',\x20id\x20'+_0x58c9bb[_0x5b3a8a(0xd7)]);}_0x58c9bb['projectUrl']&&window[_0x5b3a8a(0xb6)](_0x58c9bb[_0x5b3a8a(0xbd)],'_blank',_0x5b3a8a(0xd9));}}const adminUI=new AdmninUI();((async()=>{const _0x154b52=a0_0x6af793,_0x27f74c=await auth[_0x154b52(0xef)](_0x154b52(0xe8));if(!_0x27f74c){document[_0x154b52(0x112)][_0x154b52(0xad)]=_0x154b52(0xfe),document['title']=_0x154b52(0xfa);return;}document[_0x154b52(0x112)][_0x154b52(0xc6)][_0x154b52(0xd5)]=_0x154b52(0xd8),adminUI[_0x154b52(0xd2)]();})());