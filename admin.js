const a0_0x143e77=a0_0x433e;(function(_0x15bef1,_0x597b7f){const _0x549ca9=a0_0x433e,_0x279718=_0x15bef1();while(!![]){try{const _0x1a2e25=parseInt(_0x549ca9(0x224))/0x1*(-parseInt(_0x549ca9(0x1de))/0x2)+parseInt(_0x549ca9(0x22c))/0x3*(-parseInt(_0x549ca9(0x22e))/0x4)+parseInt(_0x549ca9(0x20f))/0x5*(parseInt(_0x549ca9(0x21e))/0x6)+parseInt(_0x549ca9(0x22d))/0x7*(parseInt(_0x549ca9(0x1da))/0x8)+-parseInt(_0x549ca9(0x212))/0x9*(-parseInt(_0x549ca9(0x20e))/0xa)+-parseInt(_0x549ca9(0x1f8))/0xb+-parseInt(_0x549ca9(0x1e2))/0xc*(-parseInt(_0x549ca9(0x1dc))/0xd);if(_0x1a2e25===_0x597b7f)break;else _0x279718['push'](_0x279718['shift']());}catch(_0x2c9130){_0x279718['push'](_0x279718['shift']());}}}(a0_0x1ccd,0xa9934));import{db}from'./submissionService.js';import{auth}from'./auth.js';class AdmninUI{constructor(){const _0xb84dec=a0_0x433e;this['allSubmissions']=null,document[_0xb84dec(0x1ec)](_0xb84dec(0x1d6))['addEventListener'](_0xb84dec(0x1d0),()=>this[_0xb84dec(0x1e0)]()),document[_0xb84dec(0x1ec)](_0xb84dec(0x1fc))[_0xb84dec(0x211)](_0xb84dec(0x1ef),()=>this['renderAdminTable']()),document[_0xb84dec(0x1ec)](_0xb84dec(0x21b))[_0xb84dec(0x211)]('click',()=>{const _0xd880b7=_0xb84dec;document[_0xd880b7(0x1ec)](_0xd880b7(0x1d6))[_0xd880b7(0x1fe)]=_0xd880b7(0x1dd),document['getElementById'](_0xd880b7(0x1fc))[_0xd880b7(0x1fe)]='',this[_0xd880b7(0x1e0)]();}),document['getElementById'](_0xb84dec(0x1f2))[_0xb84dec(0x211)](_0xb84dec(0x21c),()=>{const _0x35f6e1=_0xb84dec;navigation[_0x35f6e1(0x1df)](_0x35f6e1(0x22f)),history['replaceState'](null,'','./');});}async[a0_0x143e77(0x1e4)](){const _0x24a3f2=a0_0x143e77;this[_0x24a3f2(0x1ce)]===null&&(this[_0x24a3f2(0x1ce)]=await db[_0x24a3f2(0x206)]());let _0x306f79=this['allSubmissions'];const _0x492d76=document['getElementById']('project-filter')?.[_0x24a3f2(0x1fe)]??'all',_0x1258d9=document['getElementById']('student-filter')?.['value'][_0x24a3f2(0x210)]()[_0x24a3f2(0x1cf)]()??'';_0x492d76!=='all'&&(_0x306f79=_0x306f79[_0x24a3f2(0x201)](_0x5c1a7b=>String(_0x5c1a7b[_0x24a3f2(0x20a)])===_0x492d76));_0x1258d9&&(_0x306f79=_0x306f79['filter'](_0x1cfafe=>_0x1cfafe[_0x24a3f2(0x226)][_0x24a3f2(0x210)]()[_0x24a3f2(0x228)](_0x1258d9)||String(_0x1cfafe[_0x24a3f2(0x1fb)])['includes'](_0x1258d9)));const _0x3a670b=(_0x224712='')=>{const _0x4b0731=_0x24a3f2,_0x4eaac1=_0x224712[_0x4b0731(0x1cf)]()[_0x4b0731(0x1d2)](/\s+/);return _0x4eaac1['at'](-0x1)??'';};return _0x306f79=[..._0x306f79][_0x24a3f2(0x1d9)]((_0x24e6ba,_0x150a04)=>{const _0x80af4b=_0x24a3f2,_0x5b9fd3=Number(_0x24e6ba[_0x80af4b(0x20a)]),_0x3a401f=Number(_0x150a04[_0x80af4b(0x20a)]);if(_0x5b9fd3!==_0x3a401f)return _0x5b9fd3-_0x3a401f;return _0x3a670b(_0x24e6ba['canvasName'])[_0x80af4b(0x205)](_0x3a670b(_0x150a04['canvasName']));}),_0x306f79;}async['renderAdminTable'](){const _0x3d4536=a0_0x143e77,_0x5e25e4=document[_0x3d4536(0x1ec)](_0x3d4536(0x222));_0x5e25e4[_0x3d4536(0x225)]='';const _0x358bd0=await auth[_0x3d4536(0x229)](_0x3d4536(0x20b));if(!_0x358bd0)return;const _0x3d6421=document[_0x3d4536(0x1ec)](_0x3d4536(0x1e8)),_0xe99bfa=document[_0x3d4536(0x1ec)](_0x3d4536(0x1d4)),_0xca00a1=await this[_0x3d4536(0x1e4)]();_0xca00a1[_0x3d4536(0x1e1)]((_0x350599,_0x2ca287)=>{const _0x2390aa=_0x3d4536,_0xfe2c44=_0x2390aa(0x1d1)+_0x2ca287,_0x56f5d4=_0x3d6421['content'][_0x2390aa(0x1f5)](!![]),_0x179dff=_0x56f5d4[_0x2390aa(0x1f7)]('tr'),_0xd154ff=_0x179dff[_0x2390aa(0x1f7)](_0x2390aa(0x230));_0xd154ff[_0x2390aa(0x21a)][_0x2390aa(0x1d5)]=_0x350599[_0x2390aa(0x1fa)],_0xd154ff['checked']=_0x350599['graded'],_0x179dff[_0x2390aa(0x1f7)](_0x2390aa(0x1d8))['textContent']=_0x350599[_0x2390aa(0x20a)],_0x179dff[_0x2390aa(0x1f7)](_0x2390aa(0x20c))[_0x2390aa(0x218)]=_0x350599[_0x2390aa(0x226)],_0x179dff[_0x2390aa(0x1f7)](_0x2390aa(0x214))[_0x2390aa(0x218)]=_0x350599[_0x2390aa(0x1fb)];const _0x62e6b3=_0x179dff[_0x2390aa(0x1f7)](_0x2390aa(0x203)),_0x4226b5=_0x62e6b3['querySelector'](_0x2390aa(0x1f4)),_0xe769d2=_0x179dff[_0x2390aa(0x1f7)](_0x2390aa(0x219));_0xe769d2[_0x2390aa(0x21a)]['id']=_0x350599[_0x2390aa(0x1fa)],_0xe769d2[_0x2390aa(0x21a)]['name']=_0x350599[_0x2390aa(0x226)],_0xe769d2[_0x2390aa(0x21a)][_0x2390aa(0x20d)]=_0x350599[_0x2390aa(0x20a)];const _0x597608=_0xe99bfa[_0x2390aa(0x1d7)][_0x2390aa(0x1f5)](!![]),_0xa7f6db=_0x597608['querySelector']('tr');_0xa7f6db['id']=_0xfe2c44;const _0x9fa3e6=_0xa7f6db[_0x2390aa(0x1f7)]('.fixes-container');this['renderFixesGroupedByFile'](_0x350599[_0x2390aa(0x21d)]||[],_0x9fa3e6),_0x62e6b3['addEventListener'](_0x2390aa(0x21c),_0x10bc94=>{const _0x4e6635=_0x2390aa;_0x10bc94[_0x4e6635(0x1f0)]();const _0x200d44=!_0xa7f6db[_0x4e6635(0x223)];_0xa7f6db[_0x4e6635(0x223)]=_0x200d44,_0x4226b5[_0x4e6635(0x1e7)](_0x4e6635(0x1e3),_0x200d44?_0x4e6635(0x1d3):_0x4e6635(0x1e6));}),_0xd154ff[_0x2390aa(0x211)]('change',async()=>{const _0x46810d=_0x2390aa,_0x332eca=_0xd154ff[_0x46810d(0x21a)][_0x46810d(0x1d5)];console[_0x46810d(0x1f6)](_0x332eca,_0xd154ff[_0x46810d(0x1db)]),db[_0x46810d(0x1f9)](_0x332eca,_0xd154ff[_0x46810d(0x1db)]);}),_0xe769d2[_0x2390aa(0x211)]('click',async _0x289b70=>{const _0x5901f7=_0x2390aa;_0x289b70[_0x5901f7(0x1f0)]();const _0x4b6bbe=await this[_0x5901f7(0x22a)](_0x350599['$id'],_0x350599);_0x4b6bbe&&(await db['deleteSubmission'](_0x350599[_0x5901f7(0x1fa)]),this[_0x5901f7(0x1e0)]());}),_0x5e25e4[_0x2390aa(0x213)](_0x179dff),_0x5e25e4[_0x2390aa(0x213)](_0xa7f6db);});}[a0_0x143e77(0x1ed)](_0x2a70d3,_0x84b506){const _0x270796=a0_0x143e77;_0x84b506[_0x270796(0x225)]='';if(!_0x2a70d3[_0x270796(0x1fd)]){_0x84b506['innerHTML']=_0x270796(0x227);return;}const _0x40df49=document[_0x270796(0x1ec)](_0x270796(0x1e5)),_0x3715b7={};for(const _0x45313d of _0x2a70d3){(_0x3715b7[_0x45313d[_0x270796(0x220)]]??=[])['push'](_0x45313d);}for(const [_0x3b3d72,_0x2495c4]of Object[_0x270796(0x209)](_0x3715b7)){const _0x55e943=_0x40df49[_0x270796(0x1d7)][_0x270796(0x1f5)](!![]);_0x55e943[_0x270796(0x1f7)](_0x270796(0x207))[_0x270796(0x218)]=_0x3b3d72;const _0x5de24b=_0x55e943[_0x270796(0x1f7)]('ul');_0x2495c4[_0x270796(0x1e1)](_0x20b5b3=>{const _0xe75c5a=_0x270796,_0x2e3056=document[_0xe75c5a(0x1cc)]('li');_0x2e3056[_0xe75c5a(0x1ee)][_0xe75c5a(0x1f1)](_0xe75c5a(0x204)),_0x20b5b3[_0xe75c5a(0x200)]===0x0&&_0x2e3056[_0xe75c5a(0x1ee)][_0xe75c5a(0x1f1)](_0xe75c5a(0x217)),_0x2e3056[_0xe75c5a(0x218)]=_0xe75c5a(0x208)+_0x20b5b3['lineNumber']+_0xe75c5a(0x1eb)+_0x20b5b3[_0xe75c5a(0x1ff)]+_0xe75c5a(0x216)+_0x20b5b3[_0xe75c5a(0x200)],_0x5de24b[_0xe75c5a(0x213)](_0x2e3056);}),_0x84b506[_0x270796(0x213)](_0x55e943);}}async[a0_0x143e77(0x22a)](_0x54a5aa,_0x3fd53c){const _0x416236=a0_0x143e77,_0x9bc94a='Delete\x20Project\x20'+_0x3fd53c[_0x416236(0x20a)]+_0x416236(0x22b)+_0x3fd53c[_0x416236(0x226)]+'?';return new Promise(_0x55c3ee=>{const _0x3f84c1=_0x416236;UIkit[_0x3f84c1(0x1cd)][_0x3f84c1(0x1f3)](_0x9bc94a)[_0x3f84c1(0x21f)](()=>_0x55c3ee(!![]),()=>_0x55c3ee(![]));});}}const adminUI=new AdmninUI();function a0_0x433e(_0x5a529f,_0x36c9b0){const _0x1ccdd9=a0_0x1ccd();return a0_0x433e=function(_0x433e0c,_0x2f36fe){_0x433e0c=_0x433e0c-0x1cc;let _0x1fd35c=_0x1ccdd9[_0x433e0c];return _0x1fd35c;},a0_0x433e(_0x5a529f,_0x36c9b0);}function a0_0x1ccd(){const _0x42b8b5=['fixes','5958IknqzC','then','fileName','<p>401\x20Unauthorized</p>','admin-table-body','hidden','5ITQIMq','innerHTML','canvasName','<em>No\x20fixes</em>','includes','userHasTeam','confirmDelete','\x20submission\x20from\x20','2509233iOapLt','1750fgFygt','4ZZSSli','index.html','.submission-checkbox','createElement','modal','allSubmissions','trim','change','sub-details-','split','chevron-right','submission-details-template','submissionId','project-filter','content','.project-number','sort','3896uoOomu','checked','897QFldBq','all','376378zFrqpg','navigate','renderAdminTable','forEach','209004CYGWPB','uk-icon','filteredSubmissions','fix-file-template','chevron-down','setAttribute','submission-row-template','documentElement','visible',',\x20deduction\x20','getElementById','renderFixesGroupedByFile','classList','input','preventDefault','add','student-btn','confirm','span','cloneNode','log','querySelector','8086628CFAMLl','updateSubmissionGraded','$id','studentID','student-filter','length','value','deduction','eligiblePoints','filter','title','.toggle-details','uk-margin-left','localeCompare','listSubmissions','.file-name','line\x20','entries','projectNumber','admin','.canvas-name','projnumber','2770FVCqWv','4795asDOUI','toLowerCase','addEventListener','30258dYZkqa','appendChild','.student-id','Unauthorized',',\x20eligible\x20','uk-text-muted','textContent','.delete-submission','dataset','clear-filters','click'];a0_0x1ccd=function(){return _0x42b8b5;};return a0_0x1ccd();}((async()=>{const _0x320cc9=a0_0x143e77,_0x5df901=await auth[_0x320cc9(0x229)](_0x320cc9(0x20b));if(!_0x5df901){document[_0x320cc9(0x1e9)][_0x320cc9(0x225)]=_0x320cc9(0x221),document[_0x320cc9(0x202)]=_0x320cc9(0x215);return;}document[_0x320cc9(0x1e9)]['style']['visibility']=_0x320cc9(0x1ea),adminUI[_0x320cc9(0x1e0)]();})());