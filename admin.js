function a0_0x1f91(_0x1e5adb,_0x1b8f66){const _0x2da119=a0_0x2da1();return a0_0x1f91=function(_0x1f916b,_0x347873){_0x1f916b=_0x1f916b-0x16a;let _0x495107=_0x2da119[_0x1f916b];return _0x495107;},a0_0x1f91(_0x1e5adb,_0x1b8f66);}function a0_0x2da1(){const _0x39223b=['location','1702472sUPbcD','sub-details-','filter','dataset','href','.student-id','61936360yFjsPs','updateSubmissionGraded','.delete-submission','Unauthorized','confirm','preventDefault','all','forEach','index.html','split','trim','push','click','6laPoUD','confirmDelete','5448210mJeEew','\x20submission\x20from\x20','value','admin-table-body','submissionId','clear-filters','localeCompare','checked','addEventListener','projectNumber','lineNumber','7951170PmOvhp','.canvas-name',',\x20eligible\x20','sort','innerHTML','toLowerCase','visible','includes','9332421pHgpGU','.fixes-container','student-filter','textContent','name','querySelector','studentID','hidden','title','submission-details-template','line\x20','modal','add','getElementById','createElement','change','.submission-checkbox','graded','visibility','deleteSubmission','canvasName','filteredSubmissions','$id','eligiblePoints','classList','allSubmissions','input','fix-file-template','listSubmissions','2PZNsYK','cloneNode','renderAdminTable','documentElement','content','student-btn','admin','fileName','<em>No\x20fixes</em>','81KInxtR','project-filter','span','uk-text-muted','appendChild','then','fixes','renderFixesGroupedByFile','chevron-right','3429380WNTWKr','1376969MTCFqD'];a0_0x2da1=function(){return _0x39223b;};return a0_0x2da1();}const a0_0x44b35e=a0_0x1f91;(function(_0x51a40c,_0x43059c){const _0x26fca8=a0_0x1f91,_0x3766b3=_0x51a40c();while(!![]){try{const _0x321f34=parseInt(_0x26fca8(0x189))/0x1*(parseInt(_0x26fca8(0x176))/0x2)+parseInt(_0x26fca8(0x1a0))/0x3+-parseInt(_0x26fca8(0x188))/0x4+parseInt(_0x26fca8(0x1ab))/0x5+-parseInt(_0x26fca8(0x19e))/0x6*(-parseInt(_0x26fca8(0x1b3))/0x7)+-parseInt(_0x26fca8(0x18b))/0x8*(-parseInt(_0x26fca8(0x17f))/0x9)+-parseInt(_0x26fca8(0x191))/0xa;if(_0x321f34===_0x43059c)break;else _0x3766b3['push'](_0x3766b3['shift']());}catch(_0x5a08e8){_0x3766b3['push'](_0x3766b3['shift']());}}}(a0_0x2da1,0xef728));import{db}from'./submissionService.js';import{auth}from'./auth.js';class AdmninUI{constructor(){const _0x3a1375=a0_0x1f91;this[_0x3a1375(0x172)]=null,document[_0x3a1375(0x1c0)](_0x3a1375(0x180))['addEventListener']('change',()=>this[_0x3a1375(0x178)]()),document[_0x3a1375(0x1c0)]('student-filter')[_0x3a1375(0x1a8)](_0x3a1375(0x173),()=>this[_0x3a1375(0x178)]()),document[_0x3a1375(0x1c0)](_0x3a1375(0x1a5))[_0x3a1375(0x1a8)](_0x3a1375(0x19d),()=>{const _0x4abd7f=_0x3a1375;document[_0x4abd7f(0x1c0)](_0x4abd7f(0x180))[_0x4abd7f(0x1a2)]=_0x4abd7f(0x197),document['getElementById'](_0x4abd7f(0x1b5))['value']='',this[_0x4abd7f(0x178)]();}),document[_0x3a1375(0x1c0)](_0x3a1375(0x17b))[_0x3a1375(0x1a8)](_0x3a1375(0x19d),()=>{const _0x3dfd05=_0x3a1375;window[_0x3dfd05(0x18a)][_0x3dfd05(0x18f)]=_0x3dfd05(0x199);});}async[a0_0x44b35e(0x16e)](){const _0x3e7adf=a0_0x44b35e;this['allSubmissions']===null&&(this[_0x3e7adf(0x172)]=await db[_0x3e7adf(0x175)]());let _0x43ee0f=this[_0x3e7adf(0x172)];const _0x2e82f0=document['getElementById'](_0x3e7adf(0x180))?.[_0x3e7adf(0x1a2)]??_0x3e7adf(0x197),_0x10cb37=document[_0x3e7adf(0x1c0)](_0x3e7adf(0x1b5))?.[_0x3e7adf(0x1a2)][_0x3e7adf(0x1b0)]()[_0x3e7adf(0x19b)]()??'';_0x2e82f0!==_0x3e7adf(0x197)&&(_0x43ee0f=_0x43ee0f['filter'](_0x15bdf1=>String(_0x15bdf1[_0x3e7adf(0x1a9)])===_0x2e82f0));_0x10cb37&&(_0x43ee0f=_0x43ee0f[_0x3e7adf(0x18d)](_0x4cdd87=>_0x4cdd87[_0x3e7adf(0x16d)][_0x3e7adf(0x1b0)]()[_0x3e7adf(0x1b2)](_0x10cb37)||String(_0x4cdd87[_0x3e7adf(0x1b9)])[_0x3e7adf(0x1b2)](_0x10cb37)));const _0xa6e7f2=(_0x265fa8='')=>{const _0x4b2591=_0x3e7adf,_0x3d295a=_0x265fa8[_0x4b2591(0x19b)]()[_0x4b2591(0x19a)](/\s+/);return _0x3d295a['at'](-0x1)??'';};return _0x43ee0f=[..._0x43ee0f][_0x3e7adf(0x1ae)]((_0x3afa22,_0x554ad3)=>{const _0x20e81b=_0x3e7adf,_0x3f801d=Number(_0x3afa22[_0x20e81b(0x1a9)]),_0x2e9653=Number(_0x554ad3['projectNumber']);if(_0x3f801d!==_0x2e9653)return _0x3f801d-_0x2e9653;return _0xa6e7f2(_0x3afa22[_0x20e81b(0x16d)])[_0x20e81b(0x1a6)](_0xa6e7f2(_0x554ad3[_0x20e81b(0x16d)]));}),_0x43ee0f;}async[a0_0x44b35e(0x178)](){const _0x345c31=a0_0x44b35e,_0x49301a=document[_0x345c31(0x1c0)](_0x345c31(0x1a3));_0x49301a[_0x345c31(0x1af)]='';const _0x531db2=await auth['userHasTeam'](_0x345c31(0x17c));if(!_0x531db2)return;const _0x25f4d3=document[_0x345c31(0x1c0)]('submission-row-template'),_0x164351=document['getElementById'](_0x345c31(0x1bc)),_0x4cc2aa=await this[_0x345c31(0x16e)]();_0x4cc2aa[_0x345c31(0x198)]((_0x1f0db8,_0x22c4ae)=>{const _0x167490=_0x345c31,_0x5b9fb9=_0x167490(0x18c)+_0x22c4ae,_0x5aa0f2=_0x25f4d3[_0x167490(0x17a)]['cloneNode'](!![]),_0x58292c=_0x5aa0f2[_0x167490(0x1b8)]('tr'),_0xe3c5bc=_0x58292c['querySelector'](_0x167490(0x1c3));_0xe3c5bc[_0x167490(0x18e)][_0x167490(0x1a4)]=_0x1f0db8['$id'],_0xe3c5bc[_0x167490(0x1a7)]=_0x1f0db8[_0x167490(0x16a)],_0x58292c[_0x167490(0x1b8)]('.project-number')[_0x167490(0x1b6)]=_0x1f0db8[_0x167490(0x1a9)],_0x58292c[_0x167490(0x1b8)](_0x167490(0x1ac))[_0x167490(0x1b6)]=_0x1f0db8['canvasName'],_0x58292c['querySelector'](_0x167490(0x190))[_0x167490(0x1b6)]=_0x1f0db8[_0x167490(0x1b9)];const _0x3c1f9c=_0x58292c['querySelector']('.toggle-details'),_0x53ae80=_0x3c1f9c[_0x167490(0x1b8)](_0x167490(0x181)),_0x5009d4=_0x58292c[_0x167490(0x1b8)](_0x167490(0x193));_0x5009d4['dataset']['id']=_0x1f0db8[_0x167490(0x16f)],_0x5009d4['dataset'][_0x167490(0x1b7)]=_0x1f0db8[_0x167490(0x16d)],_0x5009d4['dataset']['projnumber']=_0x1f0db8[_0x167490(0x1a9)];const _0x11500a=_0x164351['content'][_0x167490(0x177)](!![]),_0x3393cb=_0x11500a[_0x167490(0x1b8)]('tr');_0x3393cb['id']=_0x5b9fb9;const _0x486c5d=_0x3393cb['querySelector'](_0x167490(0x1b4));this[_0x167490(0x186)](_0x1f0db8[_0x167490(0x185)]||[],_0x486c5d),_0x3c1f9c['addEventListener'](_0x167490(0x19d),_0xae66ff=>{const _0x4f8954=_0x167490;_0xae66ff[_0x4f8954(0x196)]();const _0x8c84d6=!_0x3393cb['hidden'];_0x3393cb[_0x4f8954(0x1ba)]=_0x8c84d6,_0x53ae80['setAttribute']('uk-icon',_0x8c84d6?_0x4f8954(0x187):'chevron-down');}),_0xe3c5bc[_0x167490(0x1a8)](_0x167490(0x1c2),async()=>{const _0x414b7c=_0x167490,_0x2dd5b1=_0xe3c5bc[_0x414b7c(0x18e)][_0x414b7c(0x1a4)];console['log'](_0x2dd5b1,_0xe3c5bc[_0x414b7c(0x1a7)]),db[_0x414b7c(0x192)](_0x2dd5b1,_0xe3c5bc[_0x414b7c(0x1a7)]);}),_0x5009d4['addEventListener'](_0x167490(0x19d),async _0x9ffce7=>{const _0x5c04a6=_0x167490;_0x9ffce7[_0x5c04a6(0x196)]();const _0x41a629=await this['confirmDelete'](_0x1f0db8[_0x5c04a6(0x16f)],_0x1f0db8);_0x41a629&&(await db[_0x5c04a6(0x16c)](_0x1f0db8['$id']),this['renderAdminTable']());}),_0x49301a['appendChild'](_0x58292c),_0x49301a[_0x167490(0x183)](_0x3393cb);});}[a0_0x44b35e(0x186)](_0x545703,_0x23274e){const _0x473de5=a0_0x44b35e;_0x23274e[_0x473de5(0x1af)]='';if(!_0x545703['length']){_0x23274e[_0x473de5(0x1af)]=_0x473de5(0x17e);return;}const _0x10e9c5=document['getElementById'](_0x473de5(0x174)),_0x2cb383={};for(const _0x5083e9 of _0x545703){(_0x2cb383[_0x5083e9[_0x473de5(0x17d)]]??=[])[_0x473de5(0x19c)](_0x5083e9);}for(const [_0x139f38,_0x1e88dd]of Object['entries'](_0x2cb383)){const _0x30419b=_0x10e9c5['content']['cloneNode'](!![]);_0x30419b[_0x473de5(0x1b8)]('.file-name')[_0x473de5(0x1b6)]=_0x139f38;const _0x254f45=_0x30419b['querySelector']('ul');_0x1e88dd[_0x473de5(0x198)](_0x494d7c=>{const _0x4386b9=_0x473de5,_0x162c60=document[_0x4386b9(0x1c1)]('li');_0x162c60['classList'][_0x4386b9(0x1bf)]('uk-margin-left'),_0x494d7c[_0x4386b9(0x170)]===0x0&&_0x162c60[_0x4386b9(0x171)][_0x4386b9(0x1bf)](_0x4386b9(0x182)),_0x162c60[_0x4386b9(0x1b6)]=_0x4386b9(0x1bd)+_0x494d7c[_0x4386b9(0x1aa)]+',\x20deduction\x20'+_0x494d7c['deduction']+_0x4386b9(0x1ad)+_0x494d7c[_0x4386b9(0x170)],_0x254f45[_0x4386b9(0x183)](_0x162c60);}),_0x23274e[_0x473de5(0x183)](_0x30419b);}}async[a0_0x44b35e(0x19f)](_0xb6a89e,_0x50ed4a){const _0x134314=a0_0x44b35e,_0x221266='Delete\x20Project\x20'+_0x50ed4a[_0x134314(0x1a9)]+_0x134314(0x1a1)+_0x50ed4a[_0x134314(0x16d)]+'?';return new Promise(_0x51bfd7=>{const _0x99741b=_0x134314;UIkit[_0x99741b(0x1be)][_0x99741b(0x195)](_0x221266)[_0x99741b(0x184)](()=>_0x51bfd7(!![]),()=>_0x51bfd7(![]));});}}const adminUI=new AdmninUI();((async()=>{const _0x397082=a0_0x44b35e,_0x10f469=await auth['userHasTeam'](_0x397082(0x17c));if(!_0x10f469){document[_0x397082(0x179)]['innerHTML']='<p>401\x20Unauthorized</p>',document[_0x397082(0x1bb)]=_0x397082(0x194);return;}document[_0x397082(0x179)]['style'][_0x397082(0x16b)]=_0x397082(0x1b1),adminUI[_0x397082(0x178)]();})());