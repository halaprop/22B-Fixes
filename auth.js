function a0_0x4fc9(){const _0x4552c3=['5026851bOxggm','teams','deleteSession','8tTKnAg','userHasTeam','13731795zqGqOU','204MXrnAX','appUrl','1054555LZoiUs','some','updateVerification','location','3225mRvTod','getPrefs','getUser','_teamsPromise','verify.html','href','signOut','account','create','resetpw.html','updatePrefs','createRecovery','8139vpsCQv','2cdYyvn','catch','search','6673681XCaCOM','toString','name','get','_userPromise','6966vsEzwl','10744200EOvjCs','getTeams','signIn','userId','secret','createVerification','current','unique','_prefsPromise'];a0_0x4fc9=function(){return _0x4552c3;};return a0_0x4fc9();}const a0_0x3aee22=a0_0xcbf4;(function(_0x4009fb,_0x4c4aa6){const _0x6c471d=a0_0xcbf4,_0x1687eb=_0x4009fb();while(!![]){try{const _0x4dacb7=-parseInt(_0x6c471d(0x184))/0x1*(-parseInt(_0x6c471d(0x16a))/0x2)+-parseInt(_0x6c471d(0x169))/0x3*(parseInt(_0x6c471d(0x182))/0x4)+-parseInt(_0x6c471d(0x15d))/0x5*(parseInt(_0x6c471d(0x172))/0x6)+parseInt(_0x6c471d(0x16d))/0x7+parseInt(_0x6c471d(0x17f))/0x8*(-parseInt(_0x6c471d(0x17c))/0x9)+-parseInt(_0x6c471d(0x173))/0xa+parseInt(_0x6c471d(0x181))/0xb;if(_0x4dacb7===_0x4c4aa6)break;else _0x1687eb['push'](_0x1687eb['shift']());}catch(_0x2c9cf5){_0x1687eb['push'](_0x1687eb['shift']());}}}(a0_0x4fc9,0xb3b74));function a0_0xcbf4(_0x10c506,_0x5d36c2){const _0x4fc95e=a0_0x4fc9();return a0_0xcbf4=function(_0xcbf4a7,_0x3b09a5){_0xcbf4a7=_0xcbf4a7-0x15b;let _0xb1e120=_0x4fc95e[_0xcbf4a7];return _0xb1e120;},a0_0xcbf4(_0x10c506,_0x5d36c2);}import{account,teams,ID}from'./appwrite.js';class Auth{constructor(_0xc8e98a){const _0x1b25a3=a0_0xcbf4;this[_0x1b25a3(0x164)]=_0xc8e98a,this[_0x1b25a3(0x171)]=null,this[_0x1b25a3(0x160)]=null,this[_0x1b25a3(0x17b)]=null;}static['appUrl'](_0x120c5c){const _0x48d06d=a0_0xcbf4;return new URL(_0x120c5c,window[_0x48d06d(0x15c)][_0x48d06d(0x162)])[_0x48d06d(0x16e)]();}async[a0_0x3aee22(0x15f)](){const _0x45248e=a0_0x3aee22;return!this['_userPromise']&&(this[_0x45248e(0x171)]=this['account'][_0x45248e(0x170)]()[_0x45248e(0x16b)](()=>null)),this[_0x45248e(0x171)];}async[a0_0x3aee22(0x174)](){const _0x46a3fc=a0_0x3aee22;let _0x2d7add=[];const _0xef4cd7=await this[_0x46a3fc(0x15f)]();return _0xef4cd7&&(!this['_teamsPromise']&&(this['_teamsPromise']=teams['list']()[_0x46a3fc(0x16b)](()=>null)),_0x2d7add=this[_0x46a3fc(0x160)]),_0x2d7add;}async[a0_0x3aee22(0x15e)](){const _0x247c17=a0_0x3aee22;let _0x35fe9d={};const _0x498798=await this['getUser']();return _0x498798&&(!this[_0x247c17(0x17b)]&&(this[_0x247c17(0x17b)]=this[_0x247c17(0x164)][_0x247c17(0x15e)]()),_0x35fe9d=this['_prefsPromise']),_0x35fe9d;}async['signUp'](_0x4bf23e,_0x350050){const _0x548617=a0_0x3aee22,_0x278d49=await this[_0x548617(0x164)][_0x548617(0x165)]({'userId':ID[_0x548617(0x17a)](),'email':_0x4bf23e,'password':_0x350050});return _0x278d49;}async[a0_0x3aee22(0x163)](){const _0x207ffa=a0_0x3aee22;await this[_0x207ffa(0x164)][_0x207ffa(0x17e)](_0x207ffa(0x179)),this[_0x207ffa(0x171)]=null,this[_0x207ffa(0x160)]=null,this[_0x207ffa(0x17b)]=null;}async[a0_0x3aee22(0x175)](_0x52e91b,_0x547c48){const _0x51855b=a0_0x3aee22;await this['account']['createEmailPasswordSession']({'email':_0x52e91b,'password':_0x547c48}),this[_0x51855b(0x171)]=null,this[_0x51855b(0x160)]=null,this[_0x51855b(0x17b)]=null;}async[a0_0x3aee22(0x180)](_0x54e654){const _0x56adac=a0_0x3aee22,_0x4faa6d=await this['getTeams']();return _0x4faa6d[_0x56adac(0x17d)][_0x56adac(0x185)](_0x322c68=>_0x322c68[_0x56adac(0x16f)]==_0x54e654);}async['createVerification'](){const _0x3e1441=a0_0x3aee22,_0x23b692=Auth[_0x3e1441(0x183)](_0x3e1441(0x161)),_0x21e7d7=await this[_0x3e1441(0x164)][_0x3e1441(0x178)]({'url':_0x23b692});return _0x21e7d7;}async[a0_0x3aee22(0x15b)](){const _0x5f236a=a0_0x3aee22,_0x10aabe=new URLSearchParams(window['location'][_0x5f236a(0x16c)]),_0x19caee=_0x10aabe[_0x5f236a(0x170)](_0x5f236a(0x177)),_0x28e3fc=_0x10aabe[_0x5f236a(0x170)]('userId');if(_0x28e3fc&&_0x19caee){const _0x164c32=await this[_0x5f236a(0x164)][_0x5f236a(0x15b)]({'userId':_0x28e3fc,'secret':_0x19caee});return _0x164c32;}}async[a0_0x3aee22(0x168)](_0x2fece7){const _0x201a34=a0_0x3aee22,_0x352ab4=Auth['appUrl'](_0x201a34(0x166)),_0x39a835=await this['account']['createRecovery']({'email':_0x2fece7,'url':_0x352ab4});return _0x39a835;}async['updateRecovery'](_0x4886df){const _0xd322ab=a0_0x3aee22,_0x33b1cc=new URLSearchParams(window[_0xd322ab(0x15c)]['search']),_0x3980ac=_0x33b1cc['get'](_0xd322ab(0x177)),_0x2c7746=_0x33b1cc[_0xd322ab(0x170)](_0xd322ab(0x176));if(_0x2c7746&&_0x3980ac&&_0x4886df){const _0x4a5f98=await this[_0xd322ab(0x164)]['updateRecovery']({'userId':_0x2c7746,'secret':_0x3980ac,'password':_0x4886df});return _0x4a5f98;}}async['setPrefs'](_0x297587){const _0xf79a03=a0_0x3aee22,_0x944f42=await this['getUser']();_0x944f42&&(await this['account'][_0xf79a03(0x167)]({'prefs':_0x297587}),this['_prefsPromise']=null);}}export const auth=new Auth(account);