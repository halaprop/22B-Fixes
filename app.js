const a0_0x309905=a0_0xa506;(function(_0x224777,_0x5af9c7){const _0x20871b=a0_0xa506,_0x3bf85a=_0x224777();while(!![]){try{const _0x182f17=parseInt(_0x20871b(0x196))/0x1*(parseInt(_0x20871b(0x1ee))/0x2)+-parseInt(_0x20871b(0x1be))/0x3+parseInt(_0x20871b(0x1f9))/0x4+parseInt(_0x20871b(0x1e9))/0x5+-parseInt(_0x20871b(0x1de))/0x6*(parseInt(_0x20871b(0x207))/0x7)+-parseInt(_0x20871b(0x1f8))/0x8*(parseInt(_0x20871b(0x194))/0x9)+parseInt(_0x20871b(0x19c))/0xa;if(_0x182f17===_0x5af9c7)break;else _0x3bf85a['push'](_0x3bf85a['shift']());}catch(_0x2671c0){_0x3bf85a['push'](_0x3bf85a['shift']());}}}(a0_0x21b5,0xc491a));import{authUI}from'./authUI.js';import{auth}from'./auth.js';import{db}from'./submissionService.js';function a0_0x21b5(){const _0x195dec=['submissionDateEl','tableBody','authSignIn','push','admin-btn','en-US','files','appendChild','onAuthStateChange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','.\x20Fixes\x20may\x20be\x20credited\x20at\x20end-of-quarter\x20based\x20on\x20your\x20complete\x20record.','navigate','numeric','disabled','show','clearUIState','On\x20Time','busy','deduction','fileInput','userAvatar','10/21/2025,\x2011:59:00\x20PM','studentId','fromEntries','dragover','9064812nwfnkP','classList','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info;\x20ratio:\x201.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22help-icon\x20uk-margin-small-left\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uk-tooltip=\x22title:\x20To\x20be\x20eligible\x20for\x20credit,\x20deductions\x20that\x20have\x20been\x20fixed\x20must\x20be\x20marked\x20\x27fixed\x27.;\x20pos:\x20right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onProjectChange','renderTable','dropZone','authSignOut','updateSubmissionDate','fixes','adminBtn','4156725YdEAmg','signup','text','setPrefs','hide','1554RrzxPC','authSignUp','submitBtn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','admin','signUp','value','error','trim','log','8SjvyVd','6226012bjYKbV','lineNumber','length','onclick','Create\x20failed:','admin.html','name','10/7/2025,\x2011:59:00\x20PM','preventDefault','prefs-form','hidden','\x20were\x20due\x20on\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','projectNumber','7OizpwU','getPrefs','parseFixes','target','from','openAuth','addEventListener','sub-status-date-status','sub-status-eligible','onPrefsSubmit','Fixes\x20for\x20Project\x20','avatar','onFilesInput','uploadBtn','8762886UytyMK','change','1799uPTUch','#prefs-form\x20[name=\x22','onTimeStatusEl','submit','signin','fixed','3133950uILgOW','openPrefs','sub-status-date','canvasName','12/2/2025,\x2011:59:00\x20PM','remove','dragleave','true','split','signIn','click','forEach','match','textContent','entries','\x20pts','createSubmission','enableSubmit','sub-status-deductions','getElementById','onClick','eligible',';\x20pos:\x20left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;Late\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','Created\x20submission:','projectField','userHasTeam','modal','createElement','11/4/2025,\x2011:59:00\x20PM','eligiblePoints','deductionPtsEl','querySelector','eligiblePtsEl','2428392ywlRLt','11/18/2025,\x2011:59:00\x20PM','onSubmit','projectSelectorEl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info;\x20ratio:\x201.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22help-icon\x20uk-margin-small-left\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uk-tooltip=\x22title:\x20','signOut','file'];a0_0x21b5=function(){return _0x195dec;};return a0_0x21b5();}import{StatefulButton}from'./statefulbutton.js';const fixesDueDates={0x0:a0_0x309905(0x200),0x1:a0_0x309905(0x1da),0x2:a0_0x309905(0x1b9),0x3:a0_0x309905(0x1bf),0x4:a0_0x309905(0x1a0)};function a0_0xa506(_0x165d54,_0x21f93b){const _0x21b525=a0_0x21b5();return a0_0xa506=function(_0xa50659,_0x27f8bd){_0xa50659=_0xa50659-0x18d;let _0x1604d0=_0x21b525[_0xa50659];return _0x1604d0;},a0_0xa506(_0x165d54,_0x21f93b);}export class FixerUI{constructor(){const _0x4ed843=a0_0x309905;this[_0x4ed843(0x1c7)]=document[_0x4ed843(0x1af)](_0x4ed843(0x1a5)),this[_0x4ed843(0x1ef)]=document[_0x4ed843(0x1af)](_0x4ed843(0x1f3)),this[_0x4ed843(0x1e5)]=document['getElementById'](_0x4ed843(0x1c3)),this[_0x4ed843(0x191)]=document[_0x4ed843(0x1af)](_0x4ed843(0x1d9)),this[_0x4ed843(0x1c1)]=document[_0x4ed843(0x1af)](_0x4ed843(0x1b5)),this[_0x4ed843(0x1c5)]=document[_0x4ed843(0x1af)](_0x4ed843(0x19e)),this[_0x4ed843(0x198)]=document[_0x4ed843(0x1af)](_0x4ed843(0x18d)),this[_0x4ed843(0x1bb)]=document[_0x4ed843(0x1af)](_0x4ed843(0x1ae)),this[_0x4ed843(0x1bd)]=document[_0x4ed843(0x1af)](_0x4ed843(0x18e)),this['submitBtn']=new StatefulButton(_0x4ed843(0x1f0)),this['alertDiv']=document[_0x4ed843(0x1af)]('alert'),this[_0x4ed843(0x1c6)]=document[_0x4ed843(0x1af)]('tableBody'),this[_0x4ed843(0x1e8)]=document[_0x4ed843(0x1af)](_0x4ed843(0x1c9)),this[_0x4ed843(0x1c7)][_0x4ed843(0x1fc)]=()=>authUI[_0x4ed843(0x20c)](_0x4ed843(0x19a),()=>this[_0x4ed843(0x1cd)]()),this['authSignUp'][_0x4ed843(0x1fc)]=()=>authUI['openAuth'](_0x4ed843(0x1ea),()=>this[_0x4ed843(0x1cd)]()),this[_0x4ed843(0x1e5)][_0x4ed843(0x1fc)]=async()=>{const _0x41e9e8=_0x4ed843;await auth['signOut'](),this[_0x41e9e8(0x1cd)]();},this[_0x4ed843(0x191)][_0x4ed843(0x20d)](_0x4ed843(0x1a6),()=>this[_0x4ed843(0x19d)]()),this[_0x4ed843(0x1c1)]['addEventListener'](_0x4ed843(0x195),_0x3d14ee=>this[_0x4ed843(0x1e2)](_0x3d14ee));const _0x5c80a4=document[_0x4ed843(0x1af)](_0x4ed843(0x1d8));document['getElementById'](_0x4ed843(0x193))[_0x4ed843(0x20d)](_0x4ed843(0x1a6),()=>_0x5c80a4['click']()),_0x5c80a4[_0x4ed843(0x20d)](_0x4ed843(0x195),_0x5e891=>{const _0x365245=_0x4ed843,_0x2f254f=Array['from'](_0x5e891[_0x365245(0x20a)][_0x365245(0x1cb)]);if(_0x2f254f[_0x365245(0x1fb)])this[_0x365245(0x192)](_0x2f254f);});const _0x442257=document[_0x4ed843(0x1af)](_0x4ed843(0x1e4));_0x442257['addEventListener'](_0x4ed843(0x1dd),_0x4982d9=>{const _0x58ffa5=_0x4ed843;_0x4982d9[_0x58ffa5(0x201)](),_0x442257[_0x58ffa5(0x1df)]['add'](_0x58ffa5(0x1dd));}),_0x442257[_0x4ed843(0x20d)](_0x4ed843(0x1a2),()=>{const _0x41d37d=_0x4ed843;_0x442257[_0x41d37d(0x1df)][_0x41d37d(0x1a1)](_0x41d37d(0x1dd));}),_0x442257['addEventListener']('drop',_0x3d5aa7=>{const _0xf87ad0=_0x4ed843;_0x3d5aa7[_0xf87ad0(0x201)](),_0x442257[_0xf87ad0(0x1df)]['remove'](_0xf87ad0(0x1dd));const _0x4f2474=Array[_0xf87ad0(0x20b)](_0x3d5aa7['dataTransfer'][_0xf87ad0(0x1cb)]);if(_0x4f2474[_0xf87ad0(0x1fb)])this[_0xf87ad0(0x192)](_0x4f2474);});const _0x127449=document[_0x4ed843(0x1af)](_0x4ed843(0x202));_0x127449['addEventListener'](_0x4ed843(0x199),_0x448584=>{const _0x3ceef0=_0x4ed843;_0x448584[_0x3ceef0(0x201)](),this[_0x3ceef0(0x18f)](_0x127449);}),this[_0x4ed843(0x1f0)][_0x4ed843(0x1b0)](()=>this[_0x4ed843(0x1c0)]()),document[_0x4ed843(0x1af)](_0x4ed843(0x1c9))[_0x4ed843(0x20d)](_0x4ed843(0x1a6),()=>navigation[_0x4ed843(0x1d0)](_0x4ed843(0x1fe))),this[_0x4ed843(0x206)]=-0x1,this[_0x4ed843(0x1e7)]=[],this[_0x4ed843(0x1cd)](),this['updateSubmissionDate'](),this[_0x4ed843(0x1ad)]();}async[a0_0x309905(0x1cd)](){const _0x5310a1=a0_0x309905,_0x5cc4bb=await auth['getUser'](),_0x46d9c8=!!_0x5cc4bb;this[_0x5310a1(0x1c7)][_0x5310a1(0x203)]=_0x46d9c8,this[_0x5310a1(0x1ef)][_0x5310a1(0x203)]=_0x46d9c8,this['authSignOut']['hidden']=!_0x46d9c8,this[_0x5310a1(0x191)][_0x5310a1(0x203)]=!_0x46d9c8;if(_0x46d9c8){const _0x329bc2=await auth[_0x5310a1(0x208)](),_0x114e8a=_0x329bc2[_0x5310a1(0x19f)]?.[_0x5310a1(0x1f6)]()['length']>0x0&&_0x329bc2[_0x5310a1(0x1db)]?.[_0x5310a1(0x1f6)]()[_0x5310a1(0x1fb)]>0x0;!_0x114e8a&&this['openPrefs']();const _0x3927a3=await auth[_0x5310a1(0x1b6)](_0x5310a1(0x1f2));this[_0x5310a1(0x1e8)][_0x5310a1(0x203)]=!_0x3927a3;}else this['clearUIState']();}async[a0_0x309905(0x19d)](){const _0x44b60a=a0_0x309905,_0x4d9883=await auth[_0x44b60a(0x208)]();Object[_0x44b60a(0x1aa)](_0x4d9883)[_0x44b60a(0x1a7)](([_0x595d6a,_0x555bbf])=>{const _0x23cc63=_0x44b60a,_0x5a508b=document[_0x23cc63(0x1bc)](_0x23cc63(0x197)+_0x595d6a+'\x22]');if(_0x5a508b)_0x5a508b[_0x23cc63(0x1f4)]=_0x555bbf??'';}),UIkit['modal']('#prefs-modal')[_0x44b60a(0x1d3)]();}async[a0_0x309905(0x18f)](_0x56497c){const _0x4af75e=a0_0x309905;UIkit[_0x4af75e(0x1b7)]('#prefs-modal')[_0x4af75e(0x1ed)]();const _0x520d28=Object[_0x4af75e(0x1dc)](new FormData(_0x56497c));await auth[_0x4af75e(0x1ec)](_0x520d28),this['enableSubmit']();}async['onSubmit'](){const _0x3fc2be=a0_0x309905;this['submitBtn'][_0x3fc2be(0x1d6)]=!![];try{const _0x4ba12a=await auth[_0x3fc2be(0x208)](),_0x472f25={'canvasName':_0x4ba12a[_0x3fc2be(0x19f)][_0x3fc2be(0x1f6)](),'studentID':_0x4ba12a[_0x3fc2be(0x1db)][_0x3fc2be(0x1f6)](),'projectNumber':this['projectNumber']},_0x18e1ec=await db[_0x3fc2be(0x1ac)](_0x472f25,this['fixes']);console[_0x3fc2be(0x1f7)](_0x3fc2be(0x1b4),_0x18e1ec);}catch(_0x571f66){console[_0x3fc2be(0x1f5)](_0x3fc2be(0x1fd),_0x571f66);}finally{this['submitBtn']['busy']=![];}}[a0_0x309905(0x1d4)](){const _0x437ae1=a0_0x309905;this[_0x437ae1(0x206)]=-0x1,this['fixes']=[],this['projectSelectorEl'][_0x437ae1(0x1f4)]='',this['tableBody'][_0x437ae1(0x1e0)]='',this[_0x437ae1(0x1c5)][_0x437ae1(0x1a9)]='',this[_0x437ae1(0x198)][_0x437ae1(0x1e0)]='-',this[_0x437ae1(0x1bb)][_0x437ae1(0x1a9)]='-',this[_0x437ae1(0x1bd)][_0x437ae1(0x1a9)]='-',this['submitBtn']['disabled']=!![];}[a0_0x309905(0x1e6)](){const _0x1d161d=a0_0x309905,_0x13af7f=new Date();this[_0x1d161d(0x1c5)]['textContent']=_0x13af7f[_0x1d161d(0x1b3)](_0x1d161d(0x1ca),{'month':'short','day':'numeric','year':_0x1d161d(0x1d1)});let _0x22ec1d='-';if(this['projectNumber']>=0x0){const _0x1b7fb3=new Date(fixesDueDates[this[_0x1d161d(0x206)]]);if(_0x13af7f>_0x1b7fb3){const _0x3389d5=new Date(fixesDueDates[this[_0x1d161d(0x206)]])['toLocaleString'](),_0x21aa06=_0x1d161d(0x190)+this[_0x1d161d(0x206)]+_0x1d161d(0x204)+_0x3389d5+_0x1d161d(0x1cf);_0x22ec1d=_0x1d161d(0x1c2)+_0x21aa06+_0x1d161d(0x1b2);}else _0x22ec1d=_0x1d161d(0x1d5);}this['onTimeStatusEl']['innerHTML']=_0x22ec1d;}async[a0_0x309905(0x1ad)](){const _0x40520d=a0_0x309905,_0x19299a=await auth['getPrefs'](),_0xcf515f=_0x19299a[_0x40520d(0x19f)]?.[_0x40520d(0x1f6)]()[_0x40520d(0x1fb)]>0x0&&_0x19299a[_0x40520d(0x1db)]?.[_0x40520d(0x1f6)]()[_0x40520d(0x1fb)]>0x0,_0x58d8dc=!_0xcf515f||this[_0x40520d(0x206)]<0x0||this[_0x40520d(0x1e7)][_0x40520d(0x1fb)]<=0x0;this[_0x40520d(0x1f0)][_0x40520d(0x1d2)]=_0x58d8dc;}[a0_0x309905(0x1e2)](_0x53c3d8){const _0x123d5b=a0_0x309905;this[_0x123d5b(0x206)]=parseInt(_0x53c3d8[_0x123d5b(0x20a)]['value']),this[_0x123d5b(0x1e6)](),this[_0x123d5b(0x1ad)]();}async[a0_0x309905(0x192)](_0x1c5491){const _0x4e7e47=a0_0x309905;this[_0x4e7e47(0x1e7)]=[];for(const _0x5636ea of _0x1c5491){const _0x2296bd=await this['parseFixes'](_0x5636ea);this[_0x4e7e47(0x1e7)][_0x4e7e47(0x1c8)](..._0x2296bd);}this[_0x4e7e47(0x1e3)](),this[_0x4e7e47(0x1ad)]();}async[a0_0x309905(0x209)](_0x347703){const _0x1fe610=a0_0x309905,_0x19a912=await _0x347703[_0x1fe610(0x1eb)](),_0x2dcb79=_0x19a912[_0x1fe610(0x1a4)](/\r?\n/),_0x27e538=/\/\/\s*DJH\s*:?\s*(-\d+)\s+([A-Za-z]+)/i,_0x2f5e3c=[];return _0x2dcb79['forEach']((_0x2da696,_0x4b44f4)=>{const _0x579400=_0x1fe610,_0x4e9390=_0x2da696[_0x579400(0x1a8)](_0x27e538);if(_0x4e9390){const _0x55b114=_0x4b44f4+0x1,_0x291933=Number(_0x4e9390[0x1]),_0x38e97d=_0x4e9390[0x2]['toLowerCase']()==_0x579400(0x19b),_0x20bfe2=_0x38e97d?-0x1*_0x291933:0x0;_0x2f5e3c['push']({'file':_0x347703,'lineNumber':_0x55b114,'deduction':_0x291933,'eligible':_0x38e97d,'eligiblePoints':_0x20bfe2});}}),_0x2f5e3c;}[a0_0x309905(0x1e3)](){const _0x5b2034=a0_0x309905;this[_0x5b2034(0x1c6)][_0x5b2034(0x1e0)]='';let _0x384a5c=0x0,_0x1e219f=0x0;for(const _0x45c7d1 of this[_0x5b2034(0x1e7)]){const _0x19f02a=_0x45c7d1[_0x5b2034(0x1c4)];_0x384a5c+=_0x45c7d1[_0x5b2034(0x1d7)],_0x1e219f+=_0x45c7d1['eligible']?_0x45c7d1[_0x5b2034(0x1ba)]:0x0;const _0x2da861=_0x5b2034(0x1e1),_0x29a588=_0x45c7d1[_0x5b2034(0x1b1)]?_0x5b2034(0x1a3):_0x2da861,_0x173293=document[_0x5b2034(0x1b8)]('tr');_0x173293[_0x5b2034(0x1e0)]=_0x5b2034(0x1ce)+_0x19f02a[_0x5b2034(0x1ff)]+_0x5b2034(0x1f1)+_0x45c7d1[_0x5b2034(0x1fa)]+_0x5b2034(0x1f1)+_0x45c7d1[_0x5b2034(0x1d7)]+_0x5b2034(0x1f1)+_0x29a588+_0x5b2034(0x1f1)+_0x45c7d1['eligiblePoints']+_0x5b2034(0x205),this[_0x5b2034(0x1c6)][_0x5b2034(0x1cc)](_0x173293);}this[_0x5b2034(0x1bb)]['textContent']=_0x384a5c+_0x5b2034(0x1ab),this['eligiblePtsEl'][_0x5b2034(0x1a9)]=_0x1e219f+_0x5b2034(0x1ab);}}new FixerUI();