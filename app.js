const a0_0x1aefec=a0_0x11af;function a0_0x11af(_0x302f8f,_0x4dcc1a){const _0xd8c8d1=a0_0xd8c8();return a0_0x11af=function(_0x11afb1,_0x47099e){_0x11afb1=_0x11afb1-0xff;let _0x2bfdb6=_0xd8c8d1[_0x11afb1];return _0x2bfdb6;},a0_0x11af(_0x302f8f,_0x4dcc1a);}(function(_0x2422af,_0x335a1d){const _0x55105b=a0_0x11af,_0x385856=_0x2422af();while(!![]){try{const _0x18b802=-parseInt(_0x55105b(0x117))/0x1+-parseInt(_0x55105b(0x14e))/0x2*(-parseInt(_0x55105b(0x165))/0x3)+-parseInt(_0x55105b(0x157))/0x4+-parseInt(_0x55105b(0x14a))/0x5+parseInt(_0x55105b(0x166))/0x6+parseInt(_0x55105b(0x10c))/0x7*(parseInt(_0x55105b(0x13c))/0x8)+parseInt(_0x55105b(0x15f))/0x9*(parseInt(_0x55105b(0x153))/0xa);if(_0x18b802===_0x335a1d)break;else _0x385856['push'](_0x385856['shift']());}catch(_0x4a8b0f){_0x385856['push'](_0x385856['shift']());}}}(a0_0xd8c8,0xed049));import{authUI}from'./authUI.js';import{auth}from'./auth.js';import{db}from'./submissionService.js';import{StatefulButton}from'./statefulbutton.js';const fixesDueDates={0x0:a0_0x1aefec(0x158),0x1:'10/21/2025,\x2011:59:00\x20PM',0x2:a0_0x1aefec(0x139),0x3:'11/18/2025,\x2011:59:00\x20PM',0x4:'12/2/2025,\x2011:59:00\x20PM'};export class FixerUI{constructor(){const _0x4121ab=a0_0x1aefec;this['authSignIn']=document[_0x4121ab(0x11b)](_0x4121ab(0x140)),this[_0x4121ab(0x11f)]=document[_0x4121ab(0x11b)](_0x4121ab(0x127)),this[_0x4121ab(0x11c)]=document[_0x4121ab(0x11b)](_0x4121ab(0x14b)),this[_0x4121ab(0x129)]=document[_0x4121ab(0x11b)](_0x4121ab(0x11a)),this[_0x4121ab(0x169)]=document[_0x4121ab(0x11b)](_0x4121ab(0x138)),this['submissionDateEl']=document[_0x4121ab(0x11b)](_0x4121ab(0x10e)),this[_0x4121ab(0x113)]=document[_0x4121ab(0x11b)]('sub-status-date-status'),this[_0x4121ab(0x12a)]=document[_0x4121ab(0x11b)](_0x4121ab(0x144)),this['eligiblePtsEl']=document['getElementById'](_0x4121ab(0x133)),this[_0x4121ab(0x151)]=new StatefulButton('submitBtn'),this[_0x4121ab(0x10d)]=document[_0x4121ab(0x11b)](_0x4121ab(0x156)),this['tableBody']=document['getElementById']('tableBody'),this[_0x4121ab(0x155)]=document['getElementById'](_0x4121ab(0x16b)),this[_0x4121ab(0x150)]['onclick']=()=>authUI[_0x4121ab(0x174)]('signin',()=>this['onAuthStateChange']()),this[_0x4121ab(0x11f)][_0x4121ab(0x112)]=()=>authUI[_0x4121ab(0x174)](_0x4121ab(0x136),()=>this[_0x4121ab(0x115)]()),this[_0x4121ab(0x11c)][_0x4121ab(0x112)]=async()=>{const _0x3df270=_0x4121ab;await auth[_0x3df270(0x14b)](),this[_0x3df270(0x115)]();},this['avatar']['addEventListener'](_0x4121ab(0x161),()=>this[_0x4121ab(0x125)]()),this[_0x4121ab(0x169)]['addEventListener'](_0x4121ab(0x132),_0x10bde5=>this[_0x4121ab(0x104)](_0x10bde5));const _0x2ab70c=document[_0x4121ab(0x11b)](_0x4121ab(0x16d));document[_0x4121ab(0x11b)](_0x4121ab(0x102))[_0x4121ab(0x13a)]('click',()=>_0x2ab70c[_0x4121ab(0x161)]()),_0x2ab70c[_0x4121ab(0x13a)]('change',_0x59a7f3=>{const _0xb5a5a7=_0x4121ab,_0x196739=Array[_0xb5a5a7(0x13d)](_0x59a7f3[_0xb5a5a7(0x14d)][_0xb5a5a7(0x15b)]);if(_0x196739['length'])this[_0xb5a5a7(0x160)](_0x196739);});const _0x4ad371=document['getElementById'](_0x4121ab(0x135));_0x4ad371[_0x4121ab(0x13a)](_0x4121ab(0x122),_0x3b48e0=>{const _0x2f657f=_0x4121ab;_0x3b48e0[_0x2f657f(0x111)](),_0x4ad371[_0x2f657f(0x15d)]['add'](_0x2f657f(0x122));}),_0x4ad371['addEventListener'](_0x4121ab(0x128),()=>{const _0x42c0e3=_0x4121ab;_0x4ad371[_0x42c0e3(0x15d)][_0x42c0e3(0x142)]('dragover');}),_0x4ad371[_0x4121ab(0x13a)](_0x4121ab(0x114),_0x348347=>{const _0x41cda7=_0x4121ab;_0x348347[_0x41cda7(0x111)](),_0x4ad371[_0x41cda7(0x15d)][_0x41cda7(0x142)](_0x41cda7(0x122));const _0x3a1786=Array['from'](_0x348347[_0x41cda7(0x118)][_0x41cda7(0x15b)]);if(_0x3a1786[_0x41cda7(0x12e)])this[_0x41cda7(0x160)](_0x3a1786);});const _0x233433=document[_0x4121ab(0x11b)](_0x4121ab(0x162));_0x233433[_0x4121ab(0x13a)](_0x4121ab(0x15a),_0x10e4c3=>{const _0xe3061b=_0x4121ab;_0x10e4c3[_0xe3061b(0x111)](),this[_0xe3061b(0x170)](_0x233433);}),this[_0x4121ab(0x151)]['onClick'](()=>this[_0x4121ab(0x123)]()),document[_0x4121ab(0x11b)](_0x4121ab(0x16b))['addEventListener'](_0x4121ab(0x161),()=>{const _0x2cfa33=_0x4121ab;window['location']['href']=_0x2cfa33(0x11d);}),this[_0x4121ab(0x175)]=-0x1,this[_0x4121ab(0x10f)]=[],this[_0x4121ab(0x115)](),this['updateSubmissionDate'](),this[_0x4121ab(0x131)]();}async[a0_0x1aefec(0x115)](){const _0x573131=a0_0x1aefec,_0x3c0fd6=await auth[_0x573131(0x10a)](),_0x14af32=!!_0x3c0fd6;this[_0x573131(0x150)][_0x573131(0x15e)]=_0x14af32,this[_0x573131(0x11f)][_0x573131(0x15e)]=_0x14af32,this[_0x573131(0x11c)][_0x573131(0x15e)]=!_0x14af32,this[_0x573131(0x129)][_0x573131(0x15e)]=!_0x14af32;if(_0x14af32){const _0xe5a063=await auth[_0x573131(0x100)](),_0x2d5e44=_0xe5a063[_0x573131(0x146)]?.[_0x573131(0x154)]()['length']>0x0&&_0xe5a063[_0x573131(0x16f)]?.['trim']()[_0x573131(0x12e)]>0x0;!_0x2d5e44&&this[_0x573131(0x125)]();const _0x513fb1=await auth['userHasTeam'](_0x573131(0x145));this[_0x573131(0x155)][_0x573131(0x15e)]=!_0x513fb1;}else this[_0x573131(0x103)]();}async[a0_0x1aefec(0x125)](){const _0x62811c=a0_0x1aefec,_0x4c2d3a=await auth['getPrefs']();Object[_0x62811c(0x171)](_0x4c2d3a)['forEach'](([_0x5a8c14,_0x4081dd])=>{const _0x15d878=_0x62811c,_0x4f486b=document[_0x15d878(0x12c)](_0x15d878(0x14f)+_0x5a8c14+'\x22]');if(_0x4f486b)_0x4f486b[_0x15d878(0x149)]=_0x4081dd??'';}),UIkit[_0x62811c(0x12d)]('#prefs-modal')[_0x62811c(0x106)]();}async[a0_0x1aefec(0x170)](_0xd12768){const _0xbea507=a0_0x1aefec;UIkit[_0xbea507(0x12d)](_0xbea507(0x163))[_0xbea507(0x12b)]();const _0xfceb3d=Object[_0xbea507(0x15c)](new FormData(_0xd12768));await auth[_0xbea507(0x12f)](_0xfceb3d),this[_0xbea507(0x131)]();}async[a0_0x1aefec(0x123)](){const _0x39916c=a0_0x1aefec;this[_0x39916c(0x151)][_0x39916c(0x14c)]=!![];try{const _0x35ec74=await auth[_0x39916c(0x100)](),_0x2d0c44={'canvasName':_0x35ec74[_0x39916c(0x146)][_0x39916c(0x154)](),'studentID':_0x35ec74[_0x39916c(0x16f)][_0x39916c(0x154)](),'projectNumber':this[_0x39916c(0x175)]},_0xe620db=await db[_0x39916c(0x143)](_0x2d0c44,this['fixes']);console['log']('Created\x20submission:',_0xe620db);}catch(_0x244454){console[_0x39916c(0x13f)](_0x39916c(0x159),_0x244454);}finally{this[_0x39916c(0x151)][_0x39916c(0x14c)]=![];}}[a0_0x1aefec(0x103)](){const _0x1fb0fe=a0_0x1aefec;this[_0x1fb0fe(0x175)]=-0x1,this[_0x1fb0fe(0x10f)]=[],this[_0x1fb0fe(0x169)][_0x1fb0fe(0x149)]='',this[_0x1fb0fe(0x124)][_0x1fb0fe(0x176)]='',this[_0x1fb0fe(0x152)]['textContent']='',this['onTimeStatusEl'][_0x1fb0fe(0x176)]='-',this[_0x1fb0fe(0x12a)][_0x1fb0fe(0x13e)]='-',this['eligiblePtsEl'][_0x1fb0fe(0x13e)]='-',this[_0x1fb0fe(0x151)][_0x1fb0fe(0x16c)]=!![];}[a0_0x1aefec(0x105)](){const _0x4e600c=a0_0x1aefec,_0x158289=new Date();this[_0x4e600c(0x152)][_0x4e600c(0x13e)]=_0x158289[_0x4e600c(0x164)](_0x4e600c(0x108),{'month':_0x4e600c(0x110),'day':_0x4e600c(0x134),'year':_0x4e600c(0x134)});let _0x4041f5='-';if(this['projectNumber']>=0x0){const _0xd9e77f=new Date(fixesDueDates[this[_0x4e600c(0x175)]]);if(_0x158289>_0xd9e77f){const _0x1a941e=new Date(fixesDueDates[this[_0x4e600c(0x175)]])[_0x4e600c(0x147)](),_0x5d7c92=_0x4e600c(0x137)+this[_0x4e600c(0x175)]+_0x4e600c(0x178)+_0x1a941e+_0x4e600c(0x116);_0x4041f5=_0x4e600c(0x172)+_0x5d7c92+_0x4e600c(0x101);}else _0x4041f5=_0x4e600c(0x107);}this[_0x4e600c(0x113)]['innerHTML']=_0x4041f5;}async[a0_0x1aefec(0x131)](){const _0x588d00=a0_0x1aefec,_0x5b5aef=await auth[_0x588d00(0x100)](),_0x30578a=_0x5b5aef['canvasName']?.[_0x588d00(0x154)]()['length']>0x0&&_0x5b5aef[_0x588d00(0x16f)]?.['trim']()[_0x588d00(0x12e)]>0x0,_0x11cd73=!_0x30578a||this[_0x588d00(0x175)]<0x0||this[_0x588d00(0x10f)][_0x588d00(0x12e)]<=0x0;this[_0x588d00(0x151)][_0x588d00(0x16c)]=_0x11cd73;}[a0_0x1aefec(0x104)](_0x34e678){const _0x3f0ae2=a0_0x1aefec;this['projectNumber']=parseInt(_0x34e678[_0x3f0ae2(0x14d)][_0x3f0ae2(0x149)]),this['updateSubmissionDate'](),this['enableSubmit']();}async[a0_0x1aefec(0x160)](_0x39f89f){const _0x5d6127=a0_0x1aefec;this['fixes']=[];for(const _0x2223b8 of _0x39f89f){const _0x71b0a1=await this[_0x5d6127(0x148)](_0x2223b8);this[_0x5d6127(0x10f)][_0x5d6127(0x109)](..._0x71b0a1);}this[_0x5d6127(0x126)](),this['enableSubmit']();}async[a0_0x1aefec(0x148)](_0x295d64){const _0x92fb82=a0_0x1aefec,_0x17860d=await _0x295d64['text'](),_0x587c4c=_0x17860d[_0x92fb82(0x173)](/\r?\n/),_0x241ab8=/\/\/\s*DJH\s*:?\s*(-\d+)\s+([A-Za-z]+)/i,_0x5653a1=[];return _0x587c4c[_0x92fb82(0xff)]((_0x41bcd9,_0x2e3bd2)=>{const _0x2de67e=_0x92fb82,_0x5defd7=_0x41bcd9['match'](_0x241ab8);if(_0x5defd7){const _0x1616fa=_0x2e3bd2+0x1,_0x3d2ffc=Number(_0x5defd7[0x1]),_0x31b0aa=_0x5defd7[0x2][_0x2de67e(0x119)]()==_0x2de67e(0x130),_0x1fe168=_0x31b0aa?-0x1*_0x3d2ffc:0x0;_0x5653a1[_0x2de67e(0x109)]({'file':_0x295d64,'lineNumber':_0x1616fa,'deduction':_0x3d2ffc,'eligible':_0x31b0aa,'eligiblePoints':_0x1fe168});}}),_0x5653a1;}[a0_0x1aefec(0x126)](){const _0x2be03e=a0_0x1aefec;this[_0x2be03e(0x124)][_0x2be03e(0x176)]='';let _0x2acccf=0x0,_0x58ee29=0x0;for(const _0x21cc13 of this[_0x2be03e(0x10f)]){const _0x23434a=_0x21cc13[_0x2be03e(0x17a)];_0x2acccf+=_0x21cc13[_0x2be03e(0x13b)],_0x58ee29+=_0x21cc13[_0x2be03e(0x16e)]?_0x21cc13[_0x2be03e(0x16a)]:0x0;const _0x47ea70=_0x2be03e(0x177),_0x5c8cd4=_0x21cc13[_0x2be03e(0x16e)]?_0x2be03e(0x167):_0x47ea70,_0x27a020=document[_0x2be03e(0x11e)]('tr');_0x27a020[_0x2be03e(0x176)]=_0x2be03e(0x121)+_0x23434a[_0x2be03e(0x168)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x21cc13[_0x2be03e(0x10b)]+_0x2be03e(0x120)+_0x21cc13['deduction']+_0x2be03e(0x120)+_0x5c8cd4+_0x2be03e(0x120)+_0x21cc13[_0x2be03e(0x16a)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this['tableBody']['appendChild'](_0x27a020);}this[_0x2be03e(0x12a)]['textContent']=_0x2acccf+'\x20pts',this[_0x2be03e(0x179)][_0x2be03e(0x13e)]=_0x58ee29+_0x2be03e(0x141);}}function a0_0xd8c8(){const _0x4b3c6e=['forEach','getPrefs',';\x20pos:\x20left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;Late\x0a\x20\x20\x20\x20\x20\x20\x20\x20','uploadBtn','clearUIState','onProjectChange','updateSubmissionDate','show','On\x20Time','en-US','push','getUser','lineNumber','13390657hubWJx','alertDiv','sub-status-date','fixes','short','preventDefault','onclick','onTimeStatusEl','drop','onAuthStateChange','.\x20Fixes\x20may\x20be\x20credited\x20at\x20end-of-quarter\x20based\x20on\x20your\x20complete\x20record.','1572560DsaMwf','dataTransfer','toLowerCase','userAvatar','getElementById','authSignOut','admin.html','createElement','authSignUp','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','dragover','onSubmit','tableBody','openPrefs','renderTable','signUp','dragleave','avatar','deductionPtsEl','hide','querySelector','modal','length','setPrefs','fixed','enableSubmit','change','sub-status-eligible','numeric','dropZone','signup','Fixes\x20for\x20Project\x20','projectField','11/4/2025,\x2011:59:00\x20PM','addEventListener','deduction','8ehVGfr','from','textContent','error','signIn','\x20pts','remove','createSubmission','sub-status-deductions','admin','canvasName','toLocaleString','parseFixes','value','7048425NCQAtG','signOut','busy','target','2EDrnbJ','#prefs-form\x20[name=\x22','authSignIn','submitBtn','submissionDateEl','10QCHdkz','trim','adminBtn','alert','7565628YiJdJB','10/7/2025,\x2011:59:00\x20PM','Create\x20failed:','submit','files','fromEntries','classList','hidden','21391119YMHmqf','onFilesInput','click','prefs-form','#prefs-modal','toLocaleDateString','778233klosiP','7771944qnokjO','true','name','projectSelectorEl','eligiblePoints','admin-btn','disabled','fileInput','eligible','studentId','onPrefsSubmit','entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info;\x20ratio:\x201.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22help-icon\x20uk-margin-small-left\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uk-tooltip=\x22title:\x20','split','openAuth','projectNumber','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info;\x20ratio:\x201.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22help-icon\x20uk-margin-small-left\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uk-tooltip=\x22title:\x20To\x20be\x20eligible\x20for\x20credit,\x20deductions\x20that\x20have\x20been\x20fixed\x20must\x20be\x20marked\x20\x27fixed\x27.;\x20pos:\x20right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20were\x20due\x20on\x20','eligiblePtsEl','file'];a0_0xd8c8=function(){return _0x4b3c6e;};return a0_0xd8c8();}new FixerUI();