const a0_0x4e5267=a0_0x579f;(function(_0x591d8a,_0x5240e5){const _0x43d9e9=a0_0x579f,_0x8c1e33=_0x591d8a();while(!![]){try{const _0x28baf2=parseInt(_0x43d9e9(0x95))/0x1+parseInt(_0x43d9e9(0x84))/0x2+parseInt(_0x43d9e9(0x89))/0x3+parseInt(_0x43d9e9(0x94))/0x4+parseInt(_0x43d9e9(0x7e))/0x5+parseInt(_0x43d9e9(0xc5))/0x6*(-parseInt(_0x43d9e9(0x81))/0x7)+-parseInt(_0x43d9e9(0x82))/0x8;if(_0x28baf2===_0x5240e5)break;else _0x8c1e33['push'](_0x8c1e33['shift']());}catch(_0x2b66e6){_0x8c1e33['push'](_0x8c1e33['shift']());}}}(a0_0x1022,0xa09de));function a0_0x1022(){const _0x598e9b=[';\x20pos:\x20left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;Late\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dragover','adminBtn','show','admin.html','alert','classList','onPrefsSubmit','dropZone','dragleave','en-US','setPrefs','log','true','forEach','click','length','projectField','textContent','value','toLocaleString','from','Fixes\x20for\x20Project\x20','onSubmit','target','Create\x20failed:','studentId','sub-status-deductions','admin-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','text','userAvatar','eligiblePtsEl','modal','disabled','3/3/2026,\x2011:59:00\x20PM','lineNumber','19794TiQWSs','hidden','change','file','openAuth','clearUIState','submitBtn','add','onclick','canvasName','signOut','projectSelectorEl','sub-status-date-status','fixes','getPrefs','hide','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#prefs-form\x20[name=\x22','\x20pts','createSubmission','eligiblePoints','createElement','updateSubmissionDate','#prefs-modal','tableBody','enableSubmit','onProjectChange','avatar','trim','1/20/2026,\x2011:59:00\x20PM','.\x20Fixes\x20may\x20be\x20credited\x20at\x20end-of-quarter\x20based\x20on\x20your\x20complete\x20record.','alertDiv','submit','prefs-form','getElementById','3/17/2026,\x2011:59:00\x20PM','submissionDateEl','files','\x20were\x20due\x20on\x20','admin','2/3/2026,\x2011:59:00\x20PM','2777725cUYBGx','entries','authSignOut','2611hYDGET','15922744kTaXza','onTimeStatusEl','2548746gzRGaP','location','fileInput','Created\x20submission','authSignIn','2778138PYgahe','numeric','innerHTML','uploadBtn','drop','error','remove','appendChild','onAuthStateChange','openPrefs','sub-status-date','3621068WxoNBR','217525YvoZkf','onFilesInput','deductionPtsEl','push','signIn','addEventListener','busy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info;\x20ratio:\x201.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22help-icon\x20uk-margin-small-left\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uk-tooltip=\x22title:\x20','projectNumber','eligible','preventDefault'];a0_0x1022=function(){return _0x598e9b;};return a0_0x1022();}import{authUI}from'./authUI.js';import{auth}from'./auth.js';import{db}from'./submissionService.js';function a0_0x579f(_0x163636,_0x12fd3a){const _0x1022ff=a0_0x1022();return a0_0x579f=function(_0x579fb0,_0x1b609f){_0x579fb0=_0x579fb0-0x7d;let _0x1c33dc=_0x1022ff[_0x579fb0];return _0x1c33dc;},a0_0x579f(_0x163636,_0x12fd3a);}import{StatefulButton}from'./statefulbutton.js';import{parseFixes}from'./fixParser.js';const fixesDueDates={0x0:a0_0x4e5267(0xe2),0x1:a0_0x4e5267(0x7d),0x2:'2/17/2026,\x2011:59:00\x20PM',0x3:a0_0x4e5267(0xc3),0x4:a0_0x4e5267(0xe8)};export class FixerUI{constructor(){const _0x4358b3=a0_0x4e5267;this[_0x4358b3(0x88)]=document['getElementById'](_0x4358b3(0x99)),this['authSignUp']=document[_0x4358b3(0xe7)]('signUp'),this[_0x4358b3(0x80)]=document['getElementById'](_0x4358b3(0xcf)),this[_0x4358b3(0xe0)]=document[_0x4358b3(0xe7)](_0x4358b3(0xbf)),this[_0x4358b3(0xd0)]=document['getElementById'](_0x4358b3(0xb1)),this[_0x4358b3(0xe9)]=document[_0x4358b3(0xe7)](_0x4358b3(0x93)),this[_0x4358b3(0x83)]=document[_0x4358b3(0xe7)](_0x4358b3(0xd1)),this['deductionPtsEl']=document['getElementById'](_0x4358b3(0xbb)),this[_0x4358b3(0xc0)]=document['getElementById']('sub-status-eligible'),this[_0x4358b3(0xcb)]=new StatefulButton('submitBtn'),this[_0x4358b3(0xe4)]=document[_0x4358b3(0xe7)](_0x4358b3(0xa5)),this[_0x4358b3(0xdd)]=document[_0x4358b3(0xe7)]('tableBody'),this['adminBtn']=document[_0x4358b3(0xe7)](_0x4358b3(0xbc)),this[_0x4358b3(0x88)][_0x4358b3(0xcd)]=()=>authUI[_0x4358b3(0xc9)]('signin',()=>this['onAuthStateChange']()),this['authSignUp'][_0x4358b3(0xcd)]=()=>authUI['openAuth']('signup',()=>this[_0x4358b3(0x91)]()),this[_0x4358b3(0x80)]['onclick']=async()=>{const _0x519e52=_0x4358b3;await auth[_0x519e52(0xcf)](),this[_0x519e52(0x91)]();},this['avatar'][_0x4358b3(0x9a)](_0x4358b3(0xaf),()=>this[_0x4358b3(0x92)]()),this[_0x4358b3(0xd0)]['addEventListener'](_0x4358b3(0xc7),_0x207674=>this[_0x4358b3(0xdf)](_0x207674));const _0x40dcd6=document['getElementById'](_0x4358b3(0x86));document['getElementById'](_0x4358b3(0x8c))[_0x4358b3(0x9a)](_0x4358b3(0xaf),()=>_0x40dcd6[_0x4358b3(0xaf)]()),_0x40dcd6[_0x4358b3(0x9a)](_0x4358b3(0xc7),_0x23721c=>{const _0x1a5746=_0x4358b3,_0x4410e8=Array[_0x1a5746(0xb5)](_0x23721c[_0x1a5746(0xb8)][_0x1a5746(0xea)]);if(_0x4410e8[_0x1a5746(0xb0)])this['onFilesInput'](_0x4410e8);});const _0x423ec3=document['getElementById'](_0x4358b3(0xa8));_0x423ec3[_0x4358b3(0x9a)](_0x4358b3(0xa1),_0x2ca1d1=>{const _0x235fd8=_0x4358b3;_0x2ca1d1['preventDefault'](),_0x423ec3[_0x235fd8(0xa6)][_0x235fd8(0xcc)]('dragover');}),_0x423ec3[_0x4358b3(0x9a)](_0x4358b3(0xa9),()=>{const _0x24587f=_0x4358b3;_0x423ec3[_0x24587f(0xa6)][_0x24587f(0x8f)](_0x24587f(0xa1));}),_0x423ec3[_0x4358b3(0x9a)](_0x4358b3(0x8d),_0x1aa25c=>{const _0x3ff99b=_0x4358b3;_0x1aa25c[_0x3ff99b(0x9f)](),_0x423ec3[_0x3ff99b(0xa6)]['remove'](_0x3ff99b(0xa1));const _0xf8a781=Array[_0x3ff99b(0xb5)](_0x1aa25c['dataTransfer']['files']);if(_0xf8a781[_0x3ff99b(0xb0)])this[_0x3ff99b(0x96)](_0xf8a781);});const _0x5e250f=document[_0x4358b3(0xe7)](_0x4358b3(0xe6));_0x5e250f[_0x4358b3(0x9a)](_0x4358b3(0xe5),_0x5b16e0=>{const _0xc9a6e9=_0x4358b3;_0x5b16e0['preventDefault'](),this[_0xc9a6e9(0xa7)](_0x5e250f);}),this[_0x4358b3(0xcb)]['onClick'](()=>this[_0x4358b3(0xb7)]()),document[_0x4358b3(0xe7)](_0x4358b3(0xbc))[_0x4358b3(0x9a)](_0x4358b3(0xaf),()=>{const _0x40f137=_0x4358b3;window[_0x40f137(0x85)]['href']=_0x40f137(0xa4);}),this[_0x4358b3(0x9d)]=-0x1,this[_0x4358b3(0xd2)]=[],this[_0x4358b3(0x91)](),this[_0x4358b3(0xdb)](),this['enableSubmit']();}async[a0_0x4e5267(0x91)](){const _0x4c2e8f=a0_0x4e5267,_0x533bdc=await auth['getUser'](),_0x505ddc=!!_0x533bdc;this['authSignIn'][_0x4c2e8f(0xc6)]=_0x505ddc,this['authSignUp']['hidden']=_0x505ddc,this[_0x4c2e8f(0x80)][_0x4c2e8f(0xc6)]=!_0x505ddc,this[_0x4c2e8f(0xe0)][_0x4c2e8f(0xc6)]=!_0x505ddc;if(_0x505ddc){const _0x25ddb4=await auth[_0x4c2e8f(0xd3)](),_0x3df3cf=_0x25ddb4[_0x4c2e8f(0xce)]?.[_0x4c2e8f(0xe1)]()[_0x4c2e8f(0xb0)]>0x0&&_0x25ddb4[_0x4c2e8f(0xba)]?.[_0x4c2e8f(0xe1)]()[_0x4c2e8f(0xb0)]>0x0;!_0x3df3cf&&this[_0x4c2e8f(0x92)]();const _0x9e734=await auth['userHasTeam'](_0x4c2e8f(0xec));this[_0x4c2e8f(0xa2)]['hidden']=!_0x9e734;}else this[_0x4c2e8f(0xca)]();}async[a0_0x4e5267(0x92)](){const _0x725049=a0_0x4e5267,_0x37559f=await auth[_0x725049(0xd3)]();Object[_0x725049(0x7f)](_0x37559f)[_0x725049(0xae)](([_0x159e17,_0x3b0716])=>{const _0x8a721e=_0x725049,_0x556ecc=document['querySelector'](_0x8a721e(0xd6)+_0x159e17+'\x22]');if(_0x556ecc)_0x556ecc[_0x8a721e(0xb3)]=_0x3b0716??'';}),UIkit['modal'](_0x725049(0xdc))[_0x725049(0xa3)]();}async[a0_0x4e5267(0xa7)](_0x3810b8){const _0x431b8d=a0_0x4e5267;UIkit[_0x431b8d(0xc1)](_0x431b8d(0xdc))[_0x431b8d(0xd4)]();const _0xf08c42=Object['fromEntries'](new FormData(_0x3810b8));await auth[_0x431b8d(0xab)](_0xf08c42),this[_0x431b8d(0xde)]();}async[a0_0x4e5267(0xb7)](){const _0x2c2adc=a0_0x4e5267;this['submitBtn'][_0x2c2adc(0x9b)]=!![];try{const _0x50458a=await auth[_0x2c2adc(0xd3)](),_0xa8b7e8={'canvasName':_0x50458a[_0x2c2adc(0xce)][_0x2c2adc(0xe1)](),'studentID':_0x50458a[_0x2c2adc(0xba)]['trim'](),'projectNumber':this[_0x2c2adc(0x9d)]},_0x2f805a=await db[_0x2c2adc(0xd8)](_0xa8b7e8,this[_0x2c2adc(0xd2)]);console[_0x2c2adc(0xac)]('Created\x20submission:',_0x2f805a),UIkit['modal'][_0x2c2adc(0xa5)](_0x2c2adc(0x87));}catch(_0x1ec038){console[_0x2c2adc(0x8e)](_0x2c2adc(0xb9),_0x1ec038);}finally{this['submitBtn']['busy']=![];}}[a0_0x4e5267(0xca)](){const _0x45a831=a0_0x4e5267;this['projectNumber']=-0x1,this[_0x45a831(0xd2)]=[],this['projectSelectorEl'][_0x45a831(0xb3)]='',this[_0x45a831(0xdd)]['innerHTML']='',this['submissionDateEl']['textContent']='',this[_0x45a831(0x83)][_0x45a831(0x8b)]='-',this[_0x45a831(0x97)][_0x45a831(0xb2)]='-',this[_0x45a831(0xc0)][_0x45a831(0xb2)]='-',this[_0x45a831(0xcb)][_0x45a831(0xc2)]=!![];}[a0_0x4e5267(0xdb)](){const _0xaeb787=a0_0x4e5267,_0x1f423d=new Date();this[_0xaeb787(0xe9)][_0xaeb787(0xb2)]=_0x1f423d['toLocaleDateString'](_0xaeb787(0xaa),{'month':'short','day':_0xaeb787(0x8a),'year':_0xaeb787(0x8a)});let _0x12dfb1='-';if(this['projectNumber']>=0x0){const _0x304015=new Date(fixesDueDates[this[_0xaeb787(0x9d)]]);if(_0x1f423d>_0x304015){const _0x34b100=new Date(fixesDueDates[this['projectNumber']])[_0xaeb787(0xb4)](),_0x21fea7=_0xaeb787(0xb6)+this[_0xaeb787(0x9d)]+_0xaeb787(0xeb)+_0x34b100+_0xaeb787(0xe3);_0x12dfb1=_0xaeb787(0x9c)+_0x21fea7+_0xaeb787(0xa0);}else _0x12dfb1='On\x20Time';}this['onTimeStatusEl'][_0xaeb787(0x8b)]=_0x12dfb1;}async[a0_0x4e5267(0xde)](){const _0x5ee14c=a0_0x4e5267,_0x5354d2=await auth['getPrefs'](),_0x5e024e=_0x5354d2[_0x5ee14c(0xce)]?.['trim']()[_0x5ee14c(0xb0)]>0x0&&_0x5354d2[_0x5ee14c(0xba)]?.[_0x5ee14c(0xe1)]()[_0x5ee14c(0xb0)]>0x0,_0x5b794c=!_0x5e024e||this[_0x5ee14c(0x9d)]<0x0||this[_0x5ee14c(0xd2)]['length']<=0x0;this['submitBtn']['disabled']=_0x5b794c;}['onProjectChange'](_0x2f2821){const _0x20917b=a0_0x4e5267;this[_0x20917b(0x9d)]=parseInt(_0x2f2821[_0x20917b(0xb8)][_0x20917b(0xb3)]),this[_0x20917b(0xdb)](),this[_0x20917b(0xde)]();}async[a0_0x4e5267(0x96)](_0x5ddb51){const _0x5d8e71=a0_0x4e5267;this[_0x5d8e71(0xd2)]=[];for(const _0x562c1c of _0x5ddb51){const _0x4e0f5e=await _0x562c1c[_0x5d8e71(0xbe)](),_0xf0189c=parseFixes(_0x562c1c,_0x4e0f5e,'DJH');this[_0x5d8e71(0xd2)][_0x5d8e71(0x98)](..._0xf0189c);}this['renderTable'](),this[_0x5d8e71(0xde)]();}['renderTable'](){const _0x1eed53=a0_0x4e5267;this[_0x1eed53(0xdd)][_0x1eed53(0x8b)]='';let _0x531386=0x0,_0x4177a1=0x0;for(const _0x20d8f6 of this[_0x1eed53(0xd2)]){const _0x432272=_0x20d8f6[_0x1eed53(0xc8)];_0x531386+=_0x20d8f6['deduction'],_0x4177a1+=_0x20d8f6['eligible']?_0x20d8f6[_0x1eed53(0xd9)]:0x0;const _0x38c837='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info;\x20ratio:\x201.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22help-icon\x20uk-margin-small-left\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uk-tooltip=\x22title:\x20To\x20be\x20eligible\x20for\x20credit,\x20deductions\x20that\x20have\x20been\x20fixed\x20must\x20be\x20marked\x20\x27fixed\x27.;\x20pos:\x20right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x96bd5e=_0x20d8f6[_0x1eed53(0x9e)]?_0x1eed53(0xad):_0x38c837,_0x4c4dba=document[_0x1eed53(0xda)]('tr');_0x4c4dba['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x432272['name']+_0x1eed53(0xbd)+_0x20d8f6[_0x1eed53(0xc4)]+_0x1eed53(0xbd)+_0x20d8f6['deduction']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x96bd5e+_0x1eed53(0xbd)+_0x20d8f6[_0x1eed53(0xd9)]+_0x1eed53(0xd5),this['tableBody'][_0x1eed53(0x90)](_0x4c4dba);}this[_0x1eed53(0x97)]['textContent']=_0x531386+_0x1eed53(0xd7),this['eligiblePtsEl'][_0x1eed53(0xb2)]=_0x4177a1+_0x1eed53(0xd7);}}new FixerUI();