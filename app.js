const a0_0x1105f5=a0_0x2dad;function a0_0x2dad(_0x48f746,_0x1f4aae){const _0x2116e1=a0_0x2116();return a0_0x2dad=function(_0x2dad7e,_0x275c47){_0x2dad7e=_0x2dad7e-0x1a9;let _0x213ef0=_0x2116e1[_0x2dad7e];return _0x213ef0;},a0_0x2dad(_0x48f746,_0x1f4aae);}(function(_0x369f38,_0x3a945e){const _0x278a51=a0_0x2dad,_0x5a4cbc=_0x369f38();while(!![]){try{const _0x532d22=-parseInt(_0x278a51(0x1bf))/0x1*(parseInt(_0x278a51(0x1bb))/0x2)+-parseInt(_0x278a51(0x1e5))/0x3+parseInt(_0x278a51(0x1d2))/0x4+parseInt(_0x278a51(0x1d5))/0x5+-parseInt(_0x278a51(0x1b3))/0x6*(-parseInt(_0x278a51(0x202))/0x7)+-parseInt(_0x278a51(0x208))/0x8+parseInt(_0x278a51(0x203))/0x9;if(_0x532d22===_0x3a945e)break;else _0x5a4cbc['push'](_0x5a4cbc['shift']());}catch(_0x4eb296){_0x5a4cbc['push'](_0x5a4cbc['shift']());}}}(a0_0x2116,0x19cb8));import{authUI}from'./authUI.js';import{auth}from'./auth.js';import{db}from'./submissionService.js';import{StatefulButton}from'./statefulbutton.js';import{parseFixes}from'./fixParser.js';const fixesDueDates={0x0:a0_0x1105f5(0x211),0x1:a0_0x1105f5(0x20e),0x2:a0_0x1105f5(0x212),0x3:a0_0x1105f5(0x1c1),0x4:a0_0x1105f5(0x200)};function a0_0x2116(){const _0x23a7f0=['from','modal','dragover','onPrefsSubmit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','6236lbXpPL','sub-status-eligible','canvasName','201065wkCPEO','authSignUp','.\x20Fixes\x20may\x20be\x20credited\x20at\x20end-of-quarter\x20based\x20on\x20your\x20complete\x20record.','addEventListener','admin-btn','submitBtn','value','onclick','deduction','Created\x20submission:','DJH','prefs-form','log','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','sub-status-date','alertDiv','314805anZIfq','show','click','change','dragleave','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onSubmit','alert','enableSubmit','lineNumber','adminBtn','getUser','innerHTML','createSubmission','remove','numeric','projectNumber','text','eligible','getPrefs','\x20pts','href','true','textContent','file','Create\x20failed:','uploadBtn','3/17/2026,\x2011:59:00\x20PM','entries','42SJQGnD','2323413GdAiPn','onClick','getElementById','openPrefs','trim','656384qnLfMd','onAuthStateChange','signOut','preventDefault','authSignOut','projectField','2/3/2026,\x2011:59:00\x20PM','target','length','1/20/2026,\x2011:59:00\x20PM','2/17/2026,\x2011:59:00\x20PM','renderTable',';\x20pos:\x20left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;Late\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onProjectChange','classList','projectSelectorEl','busy','location','signin','disabled','signup','fixes','\x20were\x20due\x20on\x20','createElement','name','eligiblePoints','updateSubmissionDate','37764eDRubA','hide','appendChild','toLocaleString','avatar','submissionDateEl','authSignIn','querySelector','6EpmNEP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info;\x20ratio:\x201.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22help-icon\x20uk-margin-small-left\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uk-tooltip=\x22title:\x20To\x20be\x20eligible\x20for\x20credit,\x20deductions\x20that\x20have\x20been\x20fixed\x20must\x20be\x20marked\x20\x27fixed\x27.;\x20pos:\x20right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','en-US','short','15018GQfAID','onFilesInput','3/3/2026,\x2011:59:00\x20PM','#prefs-modal','deductionPtsEl','studentId','openAuth','files','signUp','eligiblePtsEl','hidden','tableBody','onTimeStatusEl','#prefs-form\x20[name=\x22'];a0_0x2116=function(){return _0x23a7f0;};return a0_0x2116();}export class FixerUI{constructor(){const _0x760473=a0_0x1105f5;this[_0x760473(0x1b9)]=document[_0x760473(0x205)]('signIn'),this[_0x760473(0x1d6)]=document[_0x760473(0x205)](_0x760473(0x1c7)),this[_0x760473(0x20c)]=document[_0x760473(0x205)](_0x760473(0x20a)),this['avatar']=document[_0x760473(0x205)]('userAvatar'),this[_0x760473(0x217)]=document[_0x760473(0x205)](_0x760473(0x20d)),this[_0x760473(0x1b8)]=document[_0x760473(0x205)](_0x760473(0x1e3)),this[_0x760473(0x1cb)]=document['getElementById']('sub-status-date-status'),this[_0x760473(0x1c3)]=document['getElementById']('sub-status-deductions'),this[_0x760473(0x1c8)]=document[_0x760473(0x205)](_0x760473(0x1d3)),this[_0x760473(0x1da)]=new StatefulButton(_0x760473(0x1da)),this[_0x760473(0x1e4)]=document[_0x760473(0x205)](_0x760473(0x1ec)),this[_0x760473(0x1ca)]=document[_0x760473(0x205)](_0x760473(0x1ca)),this[_0x760473(0x1ef)]=document['getElementById']('admin-btn'),this[_0x760473(0x1b9)][_0x760473(0x1dc)]=()=>authUI['openAuth'](_0x760473(0x1aa),()=>this[_0x760473(0x209)]()),this[_0x760473(0x1d6)]['onclick']=()=>authUI[_0x760473(0x1c5)](_0x760473(0x1ac),()=>this[_0x760473(0x209)]()),this[_0x760473(0x20c)][_0x760473(0x1dc)]=async()=>{const _0x13c490=_0x760473;await auth[_0x13c490(0x20a)](),this[_0x13c490(0x209)]();},this[_0x760473(0x1b7)][_0x760473(0x1d8)]('click',()=>this[_0x760473(0x206)]()),this[_0x760473(0x217)][_0x760473(0x1d8)](_0x760473(0x1e8),_0x29bb7f=>this[_0x760473(0x215)](_0x29bb7f));const _0x553c33=document['getElementById']('fileInput');document['getElementById'](_0x760473(0x1ff))[_0x760473(0x1d8)](_0x760473(0x1e7),()=>_0x553c33['click']()),_0x553c33[_0x760473(0x1d8)]('change',_0x3d73bf=>{const _0x68d548=_0x760473,_0xb32a62=Array[_0x68d548(0x1cd)](_0x3d73bf[_0x68d548(0x20f)][_0x68d548(0x1c6)]);if(_0xb32a62[_0x68d548(0x210)])this[_0x68d548(0x1c0)](_0xb32a62);});const _0x33143d=document['getElementById']('dropZone');_0x33143d[_0x760473(0x1d8)](_0x760473(0x1cf),_0x35d988=>{const _0x2f61f5=_0x760473;_0x35d988[_0x2f61f5(0x20b)](),_0x33143d[_0x2f61f5(0x216)]['add'](_0x2f61f5(0x1cf));}),_0x33143d[_0x760473(0x1d8)](_0x760473(0x1e9),()=>{const _0xe7530c=_0x760473;_0x33143d[_0xe7530c(0x216)][_0xe7530c(0x1f3)](_0xe7530c(0x1cf));}),_0x33143d[_0x760473(0x1d8)]('drop',_0x414d11=>{const _0xe76c61=_0x760473;_0x414d11[_0xe76c61(0x20b)](),_0x33143d[_0xe76c61(0x216)][_0xe76c61(0x1f3)](_0xe76c61(0x1cf));const _0x432146=Array[_0xe76c61(0x1cd)](_0x414d11['dataTransfer'][_0xe76c61(0x1c6)]);if(_0x432146[_0xe76c61(0x210)])this[_0xe76c61(0x1c0)](_0x432146);});const _0x5c83f8=document['getElementById'](_0x760473(0x1e0));_0x5c83f8[_0x760473(0x1d8)]('submit',_0x5a7e54=>{const _0x6187c9=_0x760473;_0x5a7e54['preventDefault'](),this[_0x6187c9(0x1d0)](_0x5c83f8);}),this[_0x760473(0x1da)][_0x760473(0x204)](()=>this[_0x760473(0x1eb)]()),document['getElementById'](_0x760473(0x1d9))[_0x760473(0x1d8)](_0x760473(0x1e7),()=>{const _0xd45bc3=_0x760473;window[_0xd45bc3(0x1a9)][_0xd45bc3(0x1fa)]='admin.html';}),this[_0x760473(0x1f5)]=-0x1,this[_0x760473(0x1ad)]=[],this[_0x760473(0x209)](),this[_0x760473(0x1b2)](),this[_0x760473(0x1ed)]();}async['onAuthStateChange'](){const _0x1bfc0a=a0_0x1105f5,_0x34cb2e=await auth[_0x1bfc0a(0x1f0)](),_0x7449b7=!!_0x34cb2e;this[_0x1bfc0a(0x1b9)]['hidden']=_0x7449b7,this[_0x1bfc0a(0x1d6)][_0x1bfc0a(0x1c9)]=_0x7449b7,this['authSignOut']['hidden']=!_0x7449b7,this['avatar'][_0x1bfc0a(0x1c9)]=!_0x7449b7;if(_0x7449b7){const _0xfa27cd=await auth[_0x1bfc0a(0x1f8)](),_0x5ca845=_0xfa27cd[_0x1bfc0a(0x1d4)]?.[_0x1bfc0a(0x207)]()[_0x1bfc0a(0x210)]>0x0&&_0xfa27cd[_0x1bfc0a(0x1c4)]?.[_0x1bfc0a(0x207)]()[_0x1bfc0a(0x210)]>0x0;!_0x5ca845&&this[_0x1bfc0a(0x206)]();const _0x4744a9=await auth['userHasTeam']('admin');this['adminBtn']['hidden']=!_0x4744a9;}else this['clearUIState']();}async[a0_0x1105f5(0x206)](){const _0x48a2ff=a0_0x1105f5,_0x5c356a=await auth[_0x48a2ff(0x1f8)]();Object[_0x48a2ff(0x201)](_0x5c356a)['forEach'](([_0x3f78dc,_0x39eab2])=>{const _0x51c579=_0x48a2ff,_0x21cb31=document[_0x51c579(0x1ba)](_0x51c579(0x1cc)+_0x3f78dc+'\x22]');if(_0x21cb31)_0x21cb31[_0x51c579(0x1db)]=_0x39eab2??'';}),UIkit[_0x48a2ff(0x1ce)](_0x48a2ff(0x1c2))[_0x48a2ff(0x1e6)]();}async[a0_0x1105f5(0x1d0)](_0x31d858){const _0x4601dd=a0_0x1105f5;UIkit[_0x4601dd(0x1ce)](_0x4601dd(0x1c2))[_0x4601dd(0x1b4)]();const _0x45a4b7=Object['fromEntries'](new FormData(_0x31d858));await auth['setPrefs'](_0x45a4b7),this['enableSubmit']();}async[a0_0x1105f5(0x1eb)](){const _0x4757b7=a0_0x1105f5;this[_0x4757b7(0x1da)]['busy']=!![];try{const _0x421bb8=await auth['getPrefs'](),_0x411bac={'canvasName':_0x421bb8[_0x4757b7(0x1d4)]['trim'](),'studentID':_0x421bb8['studentId']['trim'](),'projectNumber':this[_0x4757b7(0x1f5)]},_0x4452e0=await db[_0x4757b7(0x1f2)](_0x411bac,this[_0x4757b7(0x1ad)]);console[_0x4757b7(0x1e1)](_0x4757b7(0x1de),_0x4452e0);}catch(_0x4b3797){console['error'](_0x4757b7(0x1fe),_0x4b3797);}finally{this[_0x4757b7(0x1da)][_0x4757b7(0x218)]=![];}}['clearUIState'](){const _0x4797bb=a0_0x1105f5;this[_0x4797bb(0x1f5)]=-0x1,this['fixes']=[],this[_0x4797bb(0x217)]['value']='',this[_0x4797bb(0x1ca)][_0x4797bb(0x1f1)]='',this[_0x4797bb(0x1b8)]['textContent']='',this['onTimeStatusEl'][_0x4797bb(0x1f1)]='-',this['deductionPtsEl'][_0x4797bb(0x1fc)]='-',this[_0x4797bb(0x1c8)]['textContent']='-',this[_0x4797bb(0x1da)][_0x4797bb(0x1ab)]=!![];}['updateSubmissionDate'](){const _0x343418=a0_0x1105f5,_0x2f2fb0=new Date();this[_0x343418(0x1b8)][_0x343418(0x1fc)]=_0x2f2fb0['toLocaleDateString'](_0x343418(0x1bd),{'month':_0x343418(0x1be),'day':_0x343418(0x1f4),'year':_0x343418(0x1f4)});let _0x326ec8='-';if(this[_0x343418(0x1f5)]>=0x0){const _0x4b5be9=new Date(fixesDueDates[this[_0x343418(0x1f5)]]);if(_0x2f2fb0>_0x4b5be9){const _0x3119b6=new Date(fixesDueDates[this['projectNumber']])[_0x343418(0x1b6)](),_0x5543cb='Fixes\x20for\x20Project\x20'+this[_0x343418(0x1f5)]+_0x343418(0x1ae)+_0x3119b6+_0x343418(0x1d7);_0x326ec8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info;\x20ratio:\x201.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22help-icon\x20uk-margin-small-left\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uk-tooltip=\x22title:\x20'+_0x5543cb+_0x343418(0x214);}else _0x326ec8='On\x20Time';}this[_0x343418(0x1cb)][_0x343418(0x1f1)]=_0x326ec8;}async[a0_0x1105f5(0x1ed)](){const _0x10f03e=a0_0x1105f5,_0x341120=await auth[_0x10f03e(0x1f8)](),_0x4c1d94=_0x341120[_0x10f03e(0x1d4)]?.[_0x10f03e(0x207)]()[_0x10f03e(0x210)]>0x0&&_0x341120[_0x10f03e(0x1c4)]?.[_0x10f03e(0x207)]()[_0x10f03e(0x210)]>0x0,_0x5cd6a0=!_0x4c1d94||this[_0x10f03e(0x1f5)]<0x0||this[_0x10f03e(0x1ad)]['length']<=0x0;this[_0x10f03e(0x1da)]['disabled']=_0x5cd6a0;}['onProjectChange'](_0x114a61){const _0x5b6bb7=a0_0x1105f5;this['projectNumber']=parseInt(_0x114a61[_0x5b6bb7(0x20f)]['value']),this[_0x5b6bb7(0x1b2)](),this['enableSubmit']();}async[a0_0x1105f5(0x1c0)](_0x283b84){const _0xc98244=a0_0x1105f5;this[_0xc98244(0x1ad)]=[];for(const _0x5a56f7 of _0x283b84){const _0xf621fa=await _0x5a56f7[_0xc98244(0x1f6)](),_0x28147f=parseFixes(_0x5a56f7,_0xf621fa,_0xc98244(0x1df));this[_0xc98244(0x1ad)]['push'](..._0x28147f);}this['renderTable'](),this[_0xc98244(0x1ed)]();}[a0_0x1105f5(0x213)](){const _0xf7d46c=a0_0x1105f5;this[_0xf7d46c(0x1ca)]['innerHTML']='';let _0x1a5894=0x0,_0x5ad9d4=0x0;for(const _0x2f912f of this['fixes']){const _0x51e7ee=_0x2f912f[_0xf7d46c(0x1fd)];_0x1a5894+=_0x2f912f['deduction'],_0x5ad9d4+=_0x2f912f[_0xf7d46c(0x1f7)]?_0x2f912f[_0xf7d46c(0x1b1)]:0x0;const _0x402ad2=_0xf7d46c(0x1bc),_0xee0c86=_0x2f912f[_0xf7d46c(0x1f7)]?_0xf7d46c(0x1fb):_0x402ad2,_0x442504=document[_0xf7d46c(0x1af)]('tr');_0x442504['innerHTML']=_0xf7d46c(0x1d1)+_0x51e7ee[_0xf7d46c(0x1b0)]+_0xf7d46c(0x1e2)+_0x2f912f[_0xf7d46c(0x1ee)]+_0xf7d46c(0x1e2)+_0x2f912f[_0xf7d46c(0x1dd)]+_0xf7d46c(0x1e2)+_0xee0c86+_0xf7d46c(0x1e2)+_0x2f912f[_0xf7d46c(0x1b1)]+_0xf7d46c(0x1ea),this[_0xf7d46c(0x1ca)][_0xf7d46c(0x1b5)](_0x442504);}this[_0xf7d46c(0x1c3)][_0xf7d46c(0x1fc)]=_0x1a5894+_0xf7d46c(0x1f9),this[_0xf7d46c(0x1c8)][_0xf7d46c(0x1fc)]=_0x5ad9d4+_0xf7d46c(0x1f9);}}new FixerUI();