const a0_0xa89306=a0_0x2ff9;(function(_0x4c22a5,_0x3c2b11){const _0x477545=a0_0x2ff9,_0x4f2ed2=_0x4c22a5();while(!![]){try{const _0x58db5c=-parseInt(_0x477545(0x13d))/0x1*(parseInt(_0x477545(0x133))/0x2)+-parseInt(_0x477545(0x14b))/0x3+-parseInt(_0x477545(0x12d))/0x4+parseInt(_0x477545(0x14e))/0x5*(parseInt(_0x477545(0x106))/0x6)+-parseInt(_0x477545(0x143))/0x7+parseInt(_0x477545(0x16b))/0x8+parseInt(_0x477545(0x123))/0x9;if(_0x58db5c===_0x3c2b11)break;else _0x4f2ed2['push'](_0x4f2ed2['shift']());}catch(_0x3e30d8){_0x4f2ed2['push'](_0x4f2ed2['shift']());}}}(a0_0x434b,0xdbca2));import{authUI}from'./authUI.js';import{auth}from'./auth.js';import{db}from'./submissionService.js';function a0_0x2ff9(_0x5bd598,_0x18f059){const _0x434b89=a0_0x434b();return a0_0x2ff9=function(_0x2ff9eb,_0x452f3){_0x2ff9eb=_0x2ff9eb-0xfc;let _0x49583e=_0x434b89[_0x2ff9eb];return _0x49583e;},a0_0x2ff9(_0x5bd598,_0x18f059);}function a0_0x434b(){const _0x34ad1e=['enableSubmit','projectSelectorEl','onSubmit','dropZone','#prefs-form\x20[name=\x22','authSignUp','eligiblePtsEl','text','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','openAuth','onFilesInput','signIn','innerHTML','submissionDateEl','trim','toLowerCase','Create\x20failed:','projectField','modal','from','uploadBtn','toLocaleDateString','admin','20803896PdqZre','onclick','canvasName','onClick','sub-status-eligible','dragover','dragleave','authSignIn','dataTransfer','name','4971084zsdKFN','deductionPtsEl','busy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info;\x20ratio:\x201.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22help-icon\x20uk-margin-small-left\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uk-tooltip=\x22title:\x20To\x20be\x20eligible\x20for\x20credit,\x20deductions\x20that\x20have\x20been\x20fixed\x20must\x20be\x20marked\x20\x27fixed\x27.;\x20pos:\x20right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','change','entries','8IkbVHX','numeric','sub-status-date','length','.\x20Fixes\x20may\x20be\x20credited\x20at\x20end-of-quarter\x20based\x20on\x20your\x20complete\x20record.','userHasTeam','value','renderTable','clearUIState','deduction','89935MQsEIA','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','log','#prefs-modal','textContent','push','1444723PEKkwv','addEventListener','onTimeStatusEl','eligible','createElement','userAvatar','files','forEach','1338861TvQgdP','projectNumber','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info;\x20ratio:\x201.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22help-icon\x20uk-margin-small-left\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uk-tooltip=\x22title:\x20','262940nqlKnJ','./admin.html','updateSubmissionDate','hidden','signup','click','getElementById','sub-status-date-status','hide','signUp','11/18/2025,\x2011:59:00\x20PM','short','avatar','appendChild','onPrefsSubmit','lineNumber','fixes','admin-btn','onProjectChange','getPrefs','parseFixes','eligiblePoints','studentId','error','split','signOut','classList','Fixes\x20for\x20Project\x20','match','3806280BEuHxa',';\x20pos:\x20left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;Late\x0a\x20\x20\x20\x20\x20\x20\x20\x20','submit','authSignOut','submitBtn','openPrefs','alertDiv','onAuthStateChange','createSubmission','adminBtn','tableBody','42KwiLPO','preventDefault','add','disabled','\x20pts','12/2/2025,\x2011:59:00\x20PM'];a0_0x434b=function(){return _0x34ad1e;};return a0_0x434b();}import{StatefulButton}from'./statefulbutton.js';const fixesDueDates={0x0:'10/7/2025,\x2011:59:00\x20PM',0x1:'10/21/2025,\x2011:59:00\x20PM',0x2:'11/4/2025,\x2011:59:00\x20PM',0x3:a0_0xa89306(0x158),0x4:a0_0xa89306(0x10b)};export class FixerUI{constructor(){const _0x10595d=a0_0xa89306;this['authSignIn']=document[_0x10595d(0x154)](_0x10595d(0x117)),this['authSignUp']=document[_0x10595d(0x154)](_0x10595d(0x157)),this[_0x10595d(0xfe)]=document[_0x10595d(0x154)](_0x10595d(0x167)),this[_0x10595d(0x15a)]=document['getElementById'](_0x10595d(0x148)),this[_0x10595d(0x10d)]=document[_0x10595d(0x154)](_0x10595d(0x11d)),this[_0x10595d(0x119)]=document[_0x10595d(0x154)](_0x10595d(0x135)),this[_0x10595d(0x145)]=document[_0x10595d(0x154)](_0x10595d(0x155)),this[_0x10595d(0x12e)]=document[_0x10595d(0x154)]('sub-status-deductions'),this['eligiblePtsEl']=document[_0x10595d(0x154)](_0x10595d(0x127)),this[_0x10595d(0xff)]=new StatefulButton(_0x10595d(0xff)),this[_0x10595d(0x101)]=document[_0x10595d(0x154)]('alert'),this['tableBody']=document['getElementById'](_0x10595d(0x105)),this['adminBtn']=document['getElementById'](_0x10595d(0x15f)),this[_0x10595d(0x12a)][_0x10595d(0x124)]=()=>authUI[_0x10595d(0x115)]('signin',()=>this[_0x10595d(0x102)]()),this['authSignUp'][_0x10595d(0x124)]=()=>authUI['openAuth'](_0x10595d(0x152),()=>this[_0x10595d(0x102)]()),this[_0x10595d(0xfe)][_0x10595d(0x124)]=async()=>{const _0x1defbb=_0x10595d;await auth[_0x1defbb(0x167)](),this[_0x1defbb(0x102)]();},this[_0x10595d(0x15a)][_0x10595d(0x144)](_0x10595d(0x153),()=>this[_0x10595d(0x100)]()),this[_0x10595d(0x10d)][_0x10595d(0x144)]('change',_0x3e1b3b=>this[_0x10595d(0x160)](_0x3e1b3b));const _0x45f3a9=document[_0x10595d(0x154)]('fileInput');document[_0x10595d(0x154)](_0x10595d(0x120))[_0x10595d(0x144)](_0x10595d(0x153),()=>_0x45f3a9['click']()),_0x45f3a9[_0x10595d(0x144)](_0x10595d(0x131),_0x2c9cf2=>{const _0x4c1cce=_0x10595d,_0x552b9b=Array[_0x4c1cce(0x11f)](_0x2c9cf2['target'][_0x4c1cce(0x149)]);if(_0x552b9b[_0x4c1cce(0x136)])this['onFilesInput'](_0x552b9b);});const _0x142661=document[_0x10595d(0x154)](_0x10595d(0x10f));_0x142661['addEventListener'](_0x10595d(0x128),_0x23fe20=>{const _0xf60905=_0x10595d;_0x23fe20[_0xf60905(0x107)](),_0x142661[_0xf60905(0x168)][_0xf60905(0x108)]('dragover');}),_0x142661[_0x10595d(0x144)](_0x10595d(0x129),()=>{const _0x14b4d8=_0x10595d;_0x142661[_0x14b4d8(0x168)]['remove'](_0x14b4d8(0x128));}),_0x142661['addEventListener']('drop',_0x5a2d75=>{const _0x287941=_0x10595d;_0x5a2d75['preventDefault'](),_0x142661[_0x287941(0x168)]['remove'](_0x287941(0x128));const _0x1f0b46=Array['from'](_0x5a2d75[_0x287941(0x12b)][_0x287941(0x149)]);if(_0x1f0b46['length'])this[_0x287941(0x116)](_0x1f0b46);});const _0x475f6f=document[_0x10595d(0x154)]('prefs-form');_0x475f6f[_0x10595d(0x144)](_0x10595d(0xfd),_0xd6c395=>{const _0x27cd20=_0x10595d;_0xd6c395[_0x27cd20(0x107)](),this[_0x27cd20(0x15c)](_0x475f6f);}),this[_0x10595d(0xff)][_0x10595d(0x126)](()=>this[_0x10595d(0x10e)]()),document[_0x10595d(0x154)]('admin-btn')[_0x10595d(0x144)](_0x10595d(0x153),()=>navigation['navigate'](_0x10595d(0x14f))),this[_0x10595d(0x14c)]=-0x1,this['fixes']=[],this[_0x10595d(0x102)](),this[_0x10595d(0x150)](),this[_0x10595d(0x10c)]();}async[a0_0xa89306(0x102)](){const _0x5272d1=a0_0xa89306,_0x44b083=await auth['getUser'](),_0x5b0dae=!!_0x44b083;this['authSignIn'][_0x5272d1(0x151)]=_0x5b0dae,this[_0x5272d1(0x111)]['hidden']=_0x5b0dae,this[_0x5272d1(0xfe)][_0x5272d1(0x151)]=!_0x5b0dae,this[_0x5272d1(0x15a)][_0x5272d1(0x151)]=!_0x5b0dae;if(_0x5b0dae){const _0x4b2bc9=await auth[_0x5272d1(0x161)](),_0x5d2638=_0x4b2bc9[_0x5272d1(0x125)]?.['trim']()[_0x5272d1(0x136)]>0x0&&_0x4b2bc9[_0x5272d1(0x164)]?.['trim']()[_0x5272d1(0x136)]>0x0;!_0x5d2638&&this[_0x5272d1(0x100)]();const _0xbc3f3=await auth[_0x5272d1(0x138)](_0x5272d1(0x122));this[_0x5272d1(0x104)][_0x5272d1(0x151)]=!_0xbc3f3;}else this[_0x5272d1(0x13b)]();}async[a0_0xa89306(0x100)](){const _0x116944=a0_0xa89306,_0x1d60f3=await auth[_0x116944(0x161)]();Object[_0x116944(0x132)](_0x1d60f3)[_0x116944(0x14a)](([_0x1a2112,_0x1c9029])=>{const _0x510dbf=_0x116944,_0x34bca1=document['querySelector'](_0x510dbf(0x110)+_0x1a2112+'\x22]');if(_0x34bca1)_0x34bca1['value']=_0x1c9029??'';}),UIkit[_0x116944(0x11e)](_0x116944(0x140))['show']();}async['onPrefsSubmit'](_0xf9906c){const _0x3ab9d4=a0_0xa89306;UIkit[_0x3ab9d4(0x11e)](_0x3ab9d4(0x140))[_0x3ab9d4(0x156)]();const _0x2e2177=Object['fromEntries'](new FormData(_0xf9906c));await auth['setPrefs'](_0x2e2177),this[_0x3ab9d4(0x10c)]();}async[a0_0xa89306(0x10e)](){const _0x58b9a3=a0_0xa89306;this[_0x58b9a3(0xff)][_0x58b9a3(0x12f)]=!![];try{const _0x13fa9c=await auth[_0x58b9a3(0x161)](),_0x1f8cb1={'canvasName':_0x13fa9c[_0x58b9a3(0x125)][_0x58b9a3(0x11a)](),'studentID':_0x13fa9c[_0x58b9a3(0x164)][_0x58b9a3(0x11a)](),'projectNumber':this[_0x58b9a3(0x14c)]},_0x5a7e84=await db[_0x58b9a3(0x103)](_0x1f8cb1,this[_0x58b9a3(0x15e)]);console[_0x58b9a3(0x13f)]('Created\x20submission:',_0x5a7e84);}catch(_0x36a09e){console[_0x58b9a3(0x165)](_0x58b9a3(0x11c),_0x36a09e);}finally{this[_0x58b9a3(0xff)][_0x58b9a3(0x12f)]=![];}}[a0_0xa89306(0x13b)](){const _0x4d911e=a0_0xa89306;this[_0x4d911e(0x14c)]=-0x1,this[_0x4d911e(0x15e)]=[],this[_0x4d911e(0x10d)][_0x4d911e(0x139)]='',this[_0x4d911e(0x105)][_0x4d911e(0x118)]='',this['submissionDateEl'][_0x4d911e(0x141)]='',this[_0x4d911e(0x145)][_0x4d911e(0x118)]='-',this[_0x4d911e(0x12e)][_0x4d911e(0x141)]='-',this[_0x4d911e(0x112)][_0x4d911e(0x141)]='-',this['submitBtn'][_0x4d911e(0x109)]=!![];}[a0_0xa89306(0x150)](){const _0xb22783=a0_0xa89306,_0x4b7e58=new Date();this[_0xb22783(0x119)][_0xb22783(0x141)]=_0x4b7e58[_0xb22783(0x121)]('en-US',{'month':_0xb22783(0x159),'day':_0xb22783(0x134),'year':_0xb22783(0x134)});let _0xfb8a94='-';if(this[_0xb22783(0x14c)]>=0x0){const _0x386f87=new Date(fixesDueDates[this[_0xb22783(0x14c)]]);if(_0x4b7e58>_0x386f87){const _0x392ad8=new Date(fixesDueDates[this[_0xb22783(0x14c)]])['toLocaleString'](),_0x3d82d2=_0xb22783(0x169)+this[_0xb22783(0x14c)]+'\x20were\x20due\x20on\x20'+_0x392ad8+_0xb22783(0x137);_0xfb8a94=_0xb22783(0x14d)+_0x3d82d2+_0xb22783(0xfc);}else _0xfb8a94='On\x20Time';}this[_0xb22783(0x145)][_0xb22783(0x118)]=_0xfb8a94;}async['enableSubmit'](){const _0x16cb74=a0_0xa89306,_0x20e69a=await auth[_0x16cb74(0x161)](),_0x39825d=_0x20e69a['canvasName']?.[_0x16cb74(0x11a)]()['length']>0x0&&_0x20e69a['studentId']?.[_0x16cb74(0x11a)]()[_0x16cb74(0x136)]>0x0,_0x4de210=!_0x39825d||this['projectNumber']<0x0||this['fixes'][_0x16cb74(0x136)]<=0x0;this[_0x16cb74(0xff)][_0x16cb74(0x109)]=_0x4de210;}[a0_0xa89306(0x160)](_0x18868f){const _0x88570d=a0_0xa89306;this[_0x88570d(0x14c)]=parseInt(_0x18868f['target'][_0x88570d(0x139)]),this[_0x88570d(0x150)](),this[_0x88570d(0x10c)]();}async[a0_0xa89306(0x116)](_0x547d27){const _0x34ad14=a0_0xa89306;this[_0x34ad14(0x15e)]=[];for(const _0x1bef68 of _0x547d27){const _0x524e80=await this[_0x34ad14(0x162)](_0x1bef68);this[_0x34ad14(0x15e)][_0x34ad14(0x142)](..._0x524e80);}this[_0x34ad14(0x13a)](),this[_0x34ad14(0x10c)]();}async[a0_0xa89306(0x162)](_0x22c2ac){const _0xe708d1=a0_0xa89306,_0x5a946e=await _0x22c2ac[_0xe708d1(0x113)](),_0x58dd4f=_0x5a946e[_0xe708d1(0x166)](/\r?\n/),_0x1c5610=/\/\/\s*DJH\s*:?\s*(-\d+)\s+([A-Za-z]+)/i,_0x3dd222=[];return _0x58dd4f['forEach']((_0x175803,_0x2f8050)=>{const _0x3b1976=_0xe708d1,_0x564c2=_0x175803[_0x3b1976(0x16a)](_0x1c5610);if(_0x564c2){const _0x34fa8a=_0x2f8050+0x1,_0x4606fe=Number(_0x564c2[0x1]),_0x484818=_0x564c2[0x2][_0x3b1976(0x11b)]()=='fixed',_0x1a0a80=_0x484818?-0x1*_0x4606fe:0x0;_0x3dd222[_0x3b1976(0x142)]({'file':_0x22c2ac,'lineNumber':_0x34fa8a,'deduction':_0x4606fe,'eligible':_0x484818,'eligiblePoints':_0x1a0a80});}}),_0x3dd222;}[a0_0xa89306(0x13a)](){const _0x385f27=a0_0xa89306;this[_0x385f27(0x105)]['innerHTML']='';let _0x5ebbf6=0x0,_0x4e4a19=0x0;for(const _0x225c59 of this[_0x385f27(0x15e)]){const _0x4b92cf=_0x225c59['file'];_0x5ebbf6+=_0x225c59[_0x385f27(0x13c)],_0x4e4a19+=_0x225c59[_0x385f27(0x146)]?_0x225c59['eligiblePoints']:0x0;const _0x1b648d=_0x385f27(0x130),_0x3755ad=_0x225c59[_0x385f27(0x146)]?'true':_0x1b648d,_0x2fd1e4=document[_0x385f27(0x147)]('tr');_0x2fd1e4[_0x385f27(0x118)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x4b92cf[_0x385f27(0x12c)]+_0x385f27(0x13e)+_0x225c59[_0x385f27(0x15d)]+_0x385f27(0x13e)+_0x225c59[_0x385f27(0x13c)]+_0x385f27(0x13e)+_0x3755ad+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x225c59[_0x385f27(0x163)]+_0x385f27(0x114),this[_0x385f27(0x105)][_0x385f27(0x15b)](_0x2fd1e4);}this[_0x385f27(0x12e)][_0x385f27(0x141)]=_0x5ebbf6+_0x385f27(0x10a),this['eligiblePtsEl'][_0x385f27(0x141)]=_0x4e4a19+_0x385f27(0x10a);}}new FixerUI();